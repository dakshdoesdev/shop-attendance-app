var kg=Object.defineProperty;var Rg=(t,e,n)=>e in t?kg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var D=(t,e,n)=>Rg(t,typeof e!="symbol"?e+"":e,n);import{r as Ag,b as md,a as d,g as Ig,R as on,c as Mg,d as cn,e as ai,L as At,S as Lg}from"./vendor-CL70TkGH.js";import{Q as Fg,j as C,X as li,u as It,a as et,L as je,C as fd,b as $g,F as zg,c as Ug,g as yr,s as er,d as Wg,e as ms,B as Hg,H as qg,U as hd,M as Zg,A as Ti,S as Kg,f as pd,h as Gg,i as Qg,k as _r,l as fs,m as Xg,n as gd,o as Yg,p as Jg,q as ex,r as tx,T as Dr,t as nx,v as sx,w as ix,P as rx,D as ox,x as ax,y as lx,z as Ao,E as Io,G as cx}from"./ui-BbksZnZI.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();var tr={exports:{}},Us={},Mo;function ux(){if(Mo)return Us;Mo=1;/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */return(function(){var t=Ag(),e=Symbol.for("react.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),v=Symbol.iterator,h="@@iterator";function x(N){if(N===null||typeof N!="object")return null;var A=v&&N[v]||N[h];return typeof A=="function"?A:null}var y=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function p(N){{for(var A=arguments.length,F=new Array(A>1?A-1:0),ee=1;ee<A;ee++)F[ee-1]=arguments[ee];_("error",N,F)}}function _(N,A,F){{var ee=y.ReactDebugCurrentFrame,ve=ee.getStackAddendum();ve!==""&&(A+="%s",F=F.concat([ve]));var Se=F.map(function(fe){return String(fe)});Se.unshift("Warning: "+A),Function.prototype.apply.call(console[N],console,Se)}}var S=!1,E=!1,P=!1,w=!1,L=!1,Z;Z=Symbol.for("react.module.reference");function Y(N){return!!(typeof N=="string"||typeof N=="function"||N===s||N===r||L||N===i||N===c||N===m||w||N===b||S||E||P||typeof N=="object"&&N!==null&&(N.$$typeof===g||N.$$typeof===f||N.$$typeof===a||N.$$typeof===l||N.$$typeof===u||N.$$typeof===Z||N.getModuleId!==void 0))}function k(N,A,F){var ee=N.displayName;if(ee)return ee;var ve=A.displayName||A.name||"";return ve!==""?F+"("+ve+")":F}function T(N){return N.displayName||"Context"}function O(N){if(N==null)return null;if(typeof N.tag=="number"&&p("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof N=="function")return N.displayName||N.name||null;if(typeof N=="string")return N;switch(N){case s:return"Fragment";case n:return"Portal";case r:return"Profiler";case i:return"StrictMode";case c:return"Suspense";case m:return"SuspenseList"}if(typeof N=="object")switch(N.$$typeof){case l:var A=N;return T(A)+".Consumer";case a:var F=N;return T(F._context)+".Provider";case u:return k(N,N.render,"ForwardRef");case f:var ee=N.displayName||null;return ee!==null?ee:O(N.type)||"Memo";case g:{var ve=N,Se=ve._payload,fe=ve._init;try{return O(fe(Se))}catch{return null}}}return null}var B=Object.assign,U=0,z,K,M,j,H,q,J;function ae(){}ae.__reactDisabledLog=!0;function me(){{if(U===0){z=console.log,K=console.info,M=console.warn,j=console.error,H=console.group,q=console.groupCollapsed,J=console.groupEnd;var N={configurable:!0,enumerable:!0,value:ae,writable:!0};Object.defineProperties(console,{info:N,log:N,warn:N,error:N,group:N,groupCollapsed:N,groupEnd:N})}U++}}function Ve(){{if(U--,U===0){var N={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:B({},N,{value:z}),info:B({},N,{value:K}),warn:B({},N,{value:M}),error:B({},N,{value:j}),group:B({},N,{value:H}),groupCollapsed:B({},N,{value:q}),groupEnd:B({},N,{value:J})})}U<0&&p("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Ae=y.ReactCurrentDispatcher,Q;function _e(N,A,F){{if(Q===void 0)try{throw Error()}catch(ve){var ee=ve.stack.trim().match(/\n( *(at )?)/);Q=ee&&ee[1]||""}return`
`+Q+N}}var ke=!1,be;{var De=typeof WeakMap=="function"?WeakMap:Map;be=new De}function Ne(N,A){if(!N||ke)return"";{var F=be.get(N);if(F!==void 0)return F}var ee;ke=!0;var ve=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Se;Se=Ae.current,Ae.current=null,me();try{if(A){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(Ge){ee=Ge}Reflect.construct(N,[],fe)}else{try{fe.call()}catch(Ge){ee=Ge}N.call(fe.prototype)}}else{try{throw Error()}catch(Ge){ee=Ge}N()}}catch(Ge){if(Ge&&ee&&typeof Ge.stack=="string"){for(var ue=Ge.stack.split(`
`),Ze=ee.stack.split(`
`),Be=ue.length-1,Re=Ze.length-1;Be>=1&&Re>=0&&ue[Be]!==Ze[Re];)Re--;for(;Be>=1&&Re>=0;Be--,Re--)if(ue[Be]!==Ze[Re]){if(Be!==1||Re!==1)do if(Be--,Re--,Re<0||ue[Be]!==Ze[Re]){var mt=`
`+ue[Be].replace(" at new "," at ");return N.displayName&&mt.includes("<anonymous>")&&(mt=mt.replace("<anonymous>",N.displayName)),typeof N=="function"&&be.set(N,mt),mt}while(Be>=1&&Re>=0);break}}}finally{ke=!1,Ae.current=Se,Ve(),Error.prepareStackTrace=ve}var En=N?N.displayName||N.name:"",rn=En?_e(En):"";return typeof N=="function"&&be.set(N,rn),rn}function qe(N,A,F){return Ne(N,!1)}function dt(N){var A=N.prototype;return!!(A&&A.isReactComponent)}function Dt(N,A,F){if(N==null)return"";if(typeof N=="function")return Ne(N,dt(N));if(typeof N=="string")return _e(N);switch(N){case c:return _e("Suspense");case m:return _e("SuspenseList")}if(typeof N=="object")switch(N.$$typeof){case u:return qe(N.render);case f:return Dt(N.type,A,F);case g:{var ee=N,ve=ee._payload,Se=ee._init;try{return Dt(Se(ve),A,F)}catch{}}}return""}var pt=Object.prototype.hasOwnProperty,zt={},zs=y.ReactDebugCurrentFrame;function Bt(N){if(N){var A=N._owner,F=Dt(N.type,N._source,A?A.type:null);zs.setExtraStackFrame(F)}else zs.setExtraStackFrame(null)}function hg(N,A,F,ee,ve){{var Se=Function.call.bind(pt);for(var fe in N)if(Se(N,fe)){var ue=void 0;try{if(typeof N[fe]!="function"){var Ze=Error((ee||"React class")+": "+F+" type `"+fe+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof N[fe]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw Ze.name="Invariant Violation",Ze}ue=N[fe](A,fe,ee,F,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(Be){ue=Be}ue&&!(ue instanceof Error)&&(Bt(ve),p("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",ee||"React class",F,fe,typeof ue),Bt(null)),ue instanceof Error&&!(ue.message in zt)&&(zt[ue.message]=!0,Bt(ve),p("Failed %s type: %s",F,ue.message),Bt(null))}}}var pg=Array.isArray;function Ki(N){return pg(N)}function gg(N){{var A=typeof Symbol=="function"&&Symbol.toStringTag,F=A&&N[Symbol.toStringTag]||N.constructor.name||"Object";return F}}function xg(N){try{return Co(N),!1}catch{return!0}}function Co(N){return""+N}function Eo(N){if(xg(N))return p("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",gg(N)),Co(N)}var is=y.ReactCurrentOwner,bg={key:!0,ref:!0,__self:!0,__source:!0},Oo,jo,Gi;Gi={};function Ng(N){if(pt.call(N,"ref")){var A=Object.getOwnPropertyDescriptor(N,"ref").get;if(A&&A.isReactWarning)return!1}return N.ref!==void 0}function vg(N){if(pt.call(N,"key")){var A=Object.getOwnPropertyDescriptor(N,"key").get;if(A&&A.isReactWarning)return!1}return N.key!==void 0}function yg(N,A){if(typeof N.ref=="string"&&is.current&&A&&is.current.stateNode!==A){var F=O(is.current.type);Gi[F]||(p('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',O(is.current.type),N.ref),Gi[F]=!0)}}function _g(N,A){{var F=function(){Oo||(Oo=!0,p("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",A))};F.isReactWarning=!0,Object.defineProperty(N,"key",{get:F,configurable:!0})}}function Dg(N,A){{var F=function(){jo||(jo=!0,p("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",A))};F.isReactWarning=!0,Object.defineProperty(N,"ref",{get:F,configurable:!0})}}var Sg=function(N,A,F,ee,ve,Se,fe){var ue={$$typeof:e,type:N,key:A,ref:F,props:fe,_owner:Se};return ue._store={},Object.defineProperty(ue._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(ue,"_self",{configurable:!1,enumerable:!1,writable:!1,value:ee}),Object.defineProperty(ue,"_source",{configurable:!1,enumerable:!1,writable:!1,value:ve}),Object.freeze&&(Object.freeze(ue.props),Object.freeze(ue)),ue};function wg(N,A,F,ee,ve){{var Se,fe={},ue=null,Ze=null;F!==void 0&&(Eo(F),ue=""+F),vg(A)&&(Eo(A.key),ue=""+A.key),Ng(A)&&(Ze=A.ref,yg(A,ve));for(Se in A)pt.call(A,Se)&&!bg.hasOwnProperty(Se)&&(fe[Se]=A[Se]);if(N&&N.defaultProps){var Be=N.defaultProps;for(Se in Be)fe[Se]===void 0&&(fe[Se]=Be[Se])}if(ue||Ze){var Re=typeof N=="function"?N.displayName||N.name||"Unknown":N;ue&&_g(fe,Re),Ze&&Dg(fe,Re)}return Sg(N,ue,Ze,ve,ee,is.current,fe)}}var Qi=y.ReactCurrentOwner,To=y.ReactDebugCurrentFrame;function Cn(N){if(N){var A=N._owner,F=Dt(N.type,N._source,A?A.type:null);To.setExtraStackFrame(F)}else To.setExtraStackFrame(null)}var Xi;Xi=!1;function Yi(N){return typeof N=="object"&&N!==null&&N.$$typeof===e}function Vo(){{if(Qi.current){var N=O(Qi.current.type);if(N)return`

Check the render method of \``+N+"`."}return""}}function Cg(N){{if(N!==void 0){var A=N.fileName.replace(/^.*[\\\/]/,""),F=N.lineNumber;return`

Check your code at `+A+":"+F+"."}return""}}var Bo={};function Eg(N){{var A=Vo();if(!A){var F=typeof N=="string"?N:N.displayName||N.name;F&&(A=`

Check the top-level render call using <`+F+">.")}return A}}function Po(N,A){{if(!N._store||N._store.validated||N.key!=null)return;N._store.validated=!0;var F=Eg(A);if(Bo[F])return;Bo[F]=!0;var ee="";N&&N._owner&&N._owner!==Qi.current&&(ee=" It was passed a child from "+O(N._owner.type)+"."),Cn(N),p('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',F,ee),Cn(null)}}function ko(N,A){{if(typeof N!="object")return;if(Ki(N))for(var F=0;F<N.length;F++){var ee=N[F];Yi(ee)&&Po(ee,A)}else if(Yi(N))N._store&&(N._store.validated=!0);else if(N){var ve=x(N);if(typeof ve=="function"&&ve!==N.entries)for(var Se=ve.call(N),fe;!(fe=Se.next()).done;)Yi(fe.value)&&Po(fe.value,A)}}}function Og(N){{var A=N.type;if(A==null||typeof A=="string")return;var F;if(typeof A=="function")F=A.propTypes;else if(typeof A=="object"&&(A.$$typeof===u||A.$$typeof===f))F=A.propTypes;else return;if(F){var ee=O(A);hg(F,N.props,"prop",ee,N)}else if(A.PropTypes!==void 0&&!Xi){Xi=!0;var ve=O(A);p("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",ve||"Unknown")}typeof A.getDefaultProps=="function"&&!A.getDefaultProps.isReactClassApproved&&p("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function jg(N){{for(var A=Object.keys(N.props),F=0;F<A.length;F++){var ee=A[F];if(ee!=="children"&&ee!=="key"){Cn(N),p("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",ee),Cn(null);break}}N.ref!==null&&(Cn(N),p("Invalid attribute `ref` supplied to `React.Fragment`."),Cn(null))}}var Ro={};function Tg(N,A,F,ee,ve,Se){{var fe=Y(N);if(!fe){var ue="";(N===void 0||typeof N=="object"&&N!==null&&Object.keys(N).length===0)&&(ue+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var Ze=Cg(ve);Ze?ue+=Ze:ue+=Vo();var Be;N===null?Be="null":Ki(N)?Be="array":N!==void 0&&N.$$typeof===e?(Be="<"+(O(N.type)||"Unknown")+" />",ue=" Did you accidentally export a JSX literal instead of a component?"):Be=typeof N,p("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",Be,ue)}var Re=wg(N,A,F,ve,Se);if(Re==null)return Re;if(fe){var mt=A.children;if(mt!==void 0)if(ee)if(Ki(mt)){for(var En=0;En<mt.length;En++)ko(mt[En],N);Object.freeze&&Object.freeze(mt)}else p("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else ko(mt,N)}if(pt.call(A,"key")){var rn=O(N),Ge=Object.keys(A).filter(function(Pg){return Pg!=="key"}),Ji=Ge.length>0?"{key: someKey, "+Ge.join(": ..., ")+": ...}":"{key: someKey}";if(!Ro[rn+Ji]){var Bg=Ge.length>0?"{"+Ge.join(": ..., ")+": ...}":"{}";p(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,Ji,rn,Bg,rn),Ro[rn+Ji]=!0}}return N===s?jg(Re):Og(Re),Re}}var Vg=Tg;Us.Fragment=s,Us.jsxDEV=Vg})(),Us}var Lo;function dx(){return Lo||(Lo=1,tr.exports=ux()),tr.exports}var o=dx(),Ws={},Fo;function mx(){if(Fo)return Ws;Fo=1;var t=md();{var e=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Ws.createRoot=function(n,s){e.usingClientEntryPoint=!0;try{return t.createRoot(n,s)}finally{e.usingClientEntryPoint=!1}},Ws.hydrateRoot=function(n,s,i){e.usingClientEntryPoint=!0;try{return t.hydrateRoot(n,s,i)}finally{e.usingClientEntryPoint=!1}}}return Ws}var fx=mx();async function xd(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}function Sr(t){try{return localStorage.getItem(t)}catch{return null}}function Je(){const e=Sr("apiBase");return e&&e.trim()||""||""}function ei(){const n=Sr("uploadBase")||Sr("apiBase");return n&&n.trim()||""||""||""}function bd(){try{const t=localStorage.getItem("deviceId");if(t)return t;if(typeof crypto<"u"&&typeof crypto.randomUUID=="function"){const e=crypto.randomUUID();return localStorage.setItem("deviceId",e),e}else{const e=new Uint8Array(16);if(typeof crypto<"u"&&crypto.getRandomValues)crypto.getRandomValues(e);else for(let s=0;s<e.length;s++)e[s]=Math.floor(Math.random()*256);const n=Array.from(e).map(s=>s.toString(16).padStart(2,"0")).join("");return localStorage.setItem("deviceId",n),n}}catch{return null}}function Nd(){try{return localStorage.getItem("uploadToken")}catch{return null}}async function $e(t,e,n){const s=Je(),i=e.startsWith("/")?`${s}${e}`:e,r={};r["ngrok-skip-browser-warning"]="true",n&&(r["Content-Type"]="application/json");const a=Nd();a&&(r.Authorization=`Bearer ${a}`);const l=bd();l&&(r["X-Device-Id"]=l);const u=await fetch(i,{method:t,headers:r,body:n?JSON.stringify(n):void 0,credentials:"include"});return await xd(u),u}const vd=({on401:t})=>async({queryKey:e})=>{const n=Je(),s=e.join("/"),i=s.startsWith("/")?`${n}${s}`:s,r={};r["ngrok-skip-browser-warning"]="true";const a=Nd();a&&(r.Authorization=`Bearer ${a}`);const l=bd();l&&(r["X-Device-Id"]=l);const u=await fetch(i,{credentials:"include",headers:r});return t==="returnNull"&&u.status===401?null:(await xd(u),await u.json())},Fe=new Fg({defaultOptions:{queries:{queryFn:vd({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),hx=1,px=1e6;let nr=0;function gx(){return nr=(nr+1)%Number.MAX_SAFE_INTEGER,nr.toString()}const sr=new Map,$o=t=>{if(sr.has(t))return;const e=setTimeout(()=>{sr.delete(t),ds({type:"REMOVE_TOAST",toastId:t})},px);sr.set(t,e)},xx=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,hx)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?$o(n):t.toasts.forEach(s=>{$o(s.id)}),{...t,toasts:t.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},ti=[];let ni={toasts:[]};function ds(t){ni=xx(ni,t),ti.forEach(e=>{e(ni)})}function bx({...t}){const e=gx(),n=i=>ds({type:"UPDATE_TOAST",toast:{...i,id:e}}),s=()=>ds({type:"DISMISS_TOAST",toastId:e});return ds({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||s()}}}),{id:e,dismiss:s,update:n}}function $t(){const[t,e]=d.useState(ni);return d.useEffect(()=>(ti.push(e),()=>{const n=ti.indexOf(e);n>-1&&ti.splice(n,1)}),[t]),{...t,toast:bx,dismiss:n=>ds({type:"DISMISS_TOAST",toastId:n})}}var Qn=md();const Nx=Ig(Qn);function ne(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function zo(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function yd(...t){return e=>{let n=!1;const s=t.map(i=>{const r=zo(i,e);return!n&&typeof r=="function"&&(n=!0),r});if(n)return()=>{for(let i=0;i<s.length;i++){const r=s[i];typeof r=="function"?r():zo(t[i],null)}}}}function we(...t){return d.useCallback(yd(...t),t)}function vx(t,e){const n=d.createContext(e),s=r=>{const{children:a,...l}=r,u=d.useMemo(()=>l,Object.values(l));return C.jsx(n.Provider,{value:u,children:a})};s.displayName=t+"Provider";function i(r){const a=d.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${r}\` must be used within \`${t}\``)}return[s,i]}function wn(t,e=[]){let n=[];function s(r,a){const l=d.createContext(a),u=n.length;n=[...n,a];const c=f=>{var y;const{scope:g,children:b,...v}=f,h=((y=g==null?void 0:g[t])==null?void 0:y[u])||l,x=d.useMemo(()=>v,Object.values(v));return C.jsx(h.Provider,{value:x,children:b})};c.displayName=r+"Provider";function m(f,g){var h;const b=((h=g==null?void 0:g[t])==null?void 0:h[u])||l,v=d.useContext(b);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${r}\``)}return[c,m]}const i=()=>{const r=n.map(a=>d.createContext(a));return function(l){const u=(l==null?void 0:l[t])||r;return d.useMemo(()=>({[`__scope${t}`]:{...l,[t]:u}}),[l,u])}};return i.scopeName=t,[s,yx(i,...e)]}function yx(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const s=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(r){const a=s.reduce((l,{useScope:u,scopeName:c})=>{const f=u(r)[`__scope${c}`];return{...l,...f}},{});return d.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function xn(t){const e=_x(t),n=d.forwardRef((s,i)=>{const{children:r,...a}=s,l=d.Children.toArray(r),u=l.find(Sx);if(u){const c=u.props.children,m=l.map(f=>f===u?d.Children.count(c)>1?d.Children.only(null):d.isValidElement(c)?c.props.children:null:f);return C.jsx(e,{...a,ref:i,children:d.isValidElement(c)?d.cloneElement(c,void 0,m):null})}return C.jsx(e,{...a,ref:i,children:r})});return n.displayName=`${t}.Slot`,n}var _d=xn("Slot");function _x(t){const e=d.forwardRef((n,s)=>{const{children:i,...r}=n;if(d.isValidElement(i)){const a=Cx(i),l=wx(r,i.props);return i.type!==d.Fragment&&(l.ref=s?yd(s,a):a),d.cloneElement(i,l)}return d.Children.count(i)>1?d.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Dd=Symbol("radix.slottable");function Dx(t){const e=({children:n})=>C.jsx(C.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Dd,e}function Sx(t){return d.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Dd}function wx(t,e){const n={...e};for(const s in e){const i=t[s],r=e[s];/^on[A-Z]/.test(s)?i&&r?n[s]=(...l)=>{r(...l),i(...l)}:i&&(n[s]=i):s==="style"?n[s]={...i,...r}:s==="className"&&(n[s]=[i,r].filter(Boolean).join(" "))}return{...t,...n}}function Cx(t){var s,i;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Sd(t){const e=t+"CollectionProvider",[n,s]=wn(e),[i,r]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=h=>{const{scope:x,children:y}=h,p=on.useRef(null),_=on.useRef(new Map).current;return C.jsx(i,{scope:x,itemMap:_,collectionRef:p,children:y})};a.displayName=e;const l=t+"CollectionSlot",u=xn(l),c=on.forwardRef((h,x)=>{const{scope:y,children:p}=h,_=r(l,y),S=we(x,_.collectionRef);return C.jsx(u,{ref:S,children:p})});c.displayName=l;const m=t+"CollectionItemSlot",f="data-radix-collection-item",g=xn(m),b=on.forwardRef((h,x)=>{const{scope:y,children:p,..._}=h,S=on.useRef(null),E=we(x,S),P=r(m,y);return on.useEffect(()=>(P.itemMap.set(S,{ref:S,..._}),()=>void P.itemMap.delete(S))),C.jsx(g,{[f]:"",ref:E,children:p})});b.displayName=m;function v(h){const x=r(t+"CollectionConsumer",h);return on.useCallback(()=>{const p=x.collectionRef.current;if(!p)return[];const _=Array.from(p.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((P,w)=>_.indexOf(P.ref.current)-_.indexOf(w.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:a,Slot:c,ItemSlot:b},v,s]}var Ex=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],de=Ex.reduce((t,e)=>{const n=xn(`Primitive.${e}`),s=d.forwardRef((i,r)=>{const{asChild:a,...l}=i,u=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),C.jsx(u,{...l,ref:r})});return s.displayName=`Primitive.${e}`,{...t,[e]:s}},{});function wd(t,e){t&&Qn.flushSync(()=>t.dispatchEvent(e))}function ut(t){const e=d.useRef(t);return d.useEffect(()=>{e.current=t}),d.useMemo(()=>(...n)=>{var s;return(s=e.current)==null?void 0:s.call(e,...n)},[])}function Ox(t,e=globalThis==null?void 0:globalThis.document){const n=ut(t);d.useEffect(()=>{const s=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",s,{capture:!0}),()=>e.removeEventListener("keydown",s,{capture:!0})},[n,e])}var jx="DismissableLayer",wr="dismissableLayer.update",Tx="dismissableLayer.pointerDownOutside",Vx="dismissableLayer.focusOutside",Uo,Cd=d.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xn=d.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:r,onInteractOutside:a,onDismiss:l,...u}=t,c=d.useContext(Cd),[m,f]=d.useState(null),g=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=d.useState({}),v=we(e,w=>f(w)),h=Array.from(c.layers),[x]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=h.indexOf(x),p=m?h.indexOf(m):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,S=p>=y,E=Px(w=>{const L=w.target,Z=[...c.branches].some(Y=>Y.contains(L));!S||Z||(i==null||i(w),a==null||a(w),w.defaultPrevented||l==null||l())},g),P=kx(w=>{const L=w.target;[...c.branches].some(Y=>Y.contains(L))||(r==null||r(w),a==null||a(w),w.defaultPrevented||l==null||l())},g);return Ox(w=>{p===c.layers.size-1&&(s==null||s(w),!w.defaultPrevented&&l&&(w.preventDefault(),l()))},g),d.useEffect(()=>{if(m)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Uo=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(m)),c.layers.add(m),Wo(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Uo)}},[m,g,n,c]),d.useEffect(()=>()=>{m&&(c.layers.delete(m),c.layersWithOutsidePointerEventsDisabled.delete(m),Wo())},[m,c]),d.useEffect(()=>{const w=()=>b({});return document.addEventListener(wr,w),()=>document.removeEventListener(wr,w)},[]),C.jsx(de.div,{...u,ref:v,style:{pointerEvents:_?S?"auto":"none":void 0,...t.style},onFocusCapture:ne(t.onFocusCapture,P.onFocusCapture),onBlurCapture:ne(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:ne(t.onPointerDownCapture,E.onPointerDownCapture)})});Xn.displayName=jx;var Bx="DismissableLayerBranch",Ed=d.forwardRef((t,e)=>{const n=d.useContext(Cd),s=d.useRef(null),i=we(e,s);return d.useEffect(()=>{const r=s.current;if(r)return n.branches.add(r),()=>{n.branches.delete(r)}},[n.branches]),C.jsx(de.div,{...t,ref:i})});Ed.displayName=Bx;function Px(t,e=globalThis==null?void 0:globalThis.document){const n=ut(t),s=d.useRef(!1),i=d.useRef(()=>{});return d.useEffect(()=>{const r=l=>{if(l.target&&!s.current){let u=function(){Od(Tx,n,c,{discrete:!0})};const c={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=u,e.addEventListener("click",i.current,{once:!0})):u()}else e.removeEventListener("click",i.current);s.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",r)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",r),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>s.current=!0}}function kx(t,e=globalThis==null?void 0:globalThis.document){const n=ut(t),s=d.useRef(!1);return d.useEffect(()=>{const i=r=>{r.target&&!s.current&&Od(Vx,n,{originalEvent:r},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Wo(){const t=new CustomEvent(wr);document.dispatchEvent(t)}function Od(t,e,n,{discrete:s}){const i=n.originalEvent.target,r=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),s?wd(i,r):i.dispatchEvent(r)}var Rx=Xn,Ax=Ed,We=globalThis!=null&&globalThis.document?d.useLayoutEffect:()=>{},Ix="Portal",Bs=d.forwardRef((t,e)=>{var l;const{container:n,...s}=t,[i,r]=d.useState(!1);We(()=>r(!0),[]);const a=n||i&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return a?Nx.createPortal(C.jsx(de.div,{...s,ref:e}),a):null});Bs.displayName=Ix;function Mx(t,e){return d.useReducer((n,s)=>e[n][s]??n,t)}var en=t=>{const{present:e,children:n}=t,s=Lx(e),i=typeof n=="function"?n({present:s.isPresent}):d.Children.only(n),r=we(s.ref,Fx(i));return typeof n=="function"||s.isPresent?d.cloneElement(i,{ref:r}):null};en.displayName="Presence";function Lx(t){const[e,n]=d.useState(),s=d.useRef({}),i=d.useRef(t),r=d.useRef("none"),a=t?"mounted":"unmounted",[l,u]=Mx(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const c=Hs(s.current);r.current=l==="mounted"?c:"none"},[l]),We(()=>{const c=s.current,m=i.current;if(m!==t){const g=r.current,b=Hs(c);t?u("MOUNT"):b==="none"||(c==null?void 0:c.display)==="none"?u("UNMOUNT"):u(m&&g!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,u]),We(()=>{if(e){let c;const m=e.ownerDocument.defaultView??window,f=b=>{const h=Hs(s.current).includes(b.animationName);if(b.target===e&&h&&(u("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",c=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},g=b=>{b.target===e&&(r.current=Hs(s.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{m.clearTimeout(c),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else u("ANIMATION_END")},[e,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:d.useCallback(c=>{c&&(s.current=getComputedStyle(c)),n(c)},[])}}function Hs(t){return(t==null?void 0:t.animationName)||"none"}function Fx(t){var s,i;let e=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function hs({prop:t,defaultProp:e,onChange:n=()=>{}}){const[s,i]=$x({defaultProp:e,onChange:n}),r=t!==void 0,a=r?t:s,l=ut(n),u=d.useCallback(c=>{if(r){const f=typeof c=="function"?c(t):c;f!==t&&l(f)}else i(c)},[r,t,i,l]);return[a,u]}function $x({defaultProp:t,onChange:e}){const n=d.useState(t),[s]=n,i=d.useRef(s),r=ut(e);return d.useEffect(()=>{i.current!==s&&(r(s),i.current=s)},[s,i,r]),n}var zx="VisuallyHidden",Ps=d.forwardRef((t,e)=>C.jsx(de.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Ps.displayName=zx;var Ux=Ps,Kr="ToastProvider",[Gr,Wx,Hx]=Sd("Toast"),[jd,aS]=wn("Toast",[Hx]),[qx,Vi]=jd(Kr),Td=t=>{const{__scopeToast:e,label:n="Notification",duration:s=5e3,swipeDirection:i="right",swipeThreshold:r=50,children:a}=t,[l,u]=d.useState(null),[c,m]=d.useState(0),f=d.useRef(!1),g=d.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Kr}\`. Expected non-empty \`string\`.`),C.jsx(Gr.Provider,{scope:e,children:C.jsx(qx,{scope:e,label:n,duration:s,swipeDirection:i,swipeThreshold:r,toastCount:c,viewport:l,onViewportChange:u,onToastAdd:d.useCallback(()=>m(b=>b+1),[]),onToastRemove:d.useCallback(()=>m(b=>b-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:g,children:a})})};Td.displayName=Kr;var Vd="ToastViewport",Zx=["F8"],Cr="toast.viewportPause",Er="toast.viewportResume",Bd=d.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:s=Zx,label:i="Notifications ({hotkey})",...r}=t,a=Vi(Vd,n),l=Wx(n),u=d.useRef(null),c=d.useRef(null),m=d.useRef(null),f=d.useRef(null),g=we(e,f,a.onViewportChange),b=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=a.toastCount>0;d.useEffect(()=>{const x=y=>{var _;s.length!==0&&s.every(S=>y[S]||y.code===S)&&((_=f.current)==null||_.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[s]),d.useEffect(()=>{const x=u.current,y=f.current;if(v&&x&&y){const p=()=>{if(!a.isClosePausedRef.current){const P=new CustomEvent(Cr);y.dispatchEvent(P),a.isClosePausedRef.current=!0}},_=()=>{if(a.isClosePausedRef.current){const P=new CustomEvent(Er);y.dispatchEvent(P),a.isClosePausedRef.current=!1}},S=P=>{!x.contains(P.relatedTarget)&&_()},E=()=>{x.contains(document.activeElement)||_()};return x.addEventListener("focusin",p),x.addEventListener("focusout",S),x.addEventListener("pointermove",p),x.addEventListener("pointerleave",E),window.addEventListener("blur",p),window.addEventListener("focus",_),()=>{x.removeEventListener("focusin",p),x.removeEventListener("focusout",S),x.removeEventListener("pointermove",p),x.removeEventListener("pointerleave",E),window.removeEventListener("blur",p),window.removeEventListener("focus",_)}}},[v,a.isClosePausedRef]);const h=d.useCallback(({tabbingDirection:x})=>{const p=l().map(_=>{const S=_.ref.current,E=[S,...ob(S)];return x==="forwards"?E:E.reverse()});return(x==="forwards"?p.reverse():p).flat()},[l]);return d.useEffect(()=>{const x=f.current;if(x){const y=p=>{var E,P,w;const _=p.altKey||p.ctrlKey||p.metaKey;if(p.key==="Tab"&&!_){const L=document.activeElement,Z=p.shiftKey;if(p.target===x&&Z){(E=c.current)==null||E.focus();return}const T=h({tabbingDirection:Z?"backwards":"forwards"}),O=T.findIndex(B=>B===L);ir(T.slice(O+1))?p.preventDefault():Z?(P=c.current)==null||P.focus():(w=m.current)==null||w.focus()}};return x.addEventListener("keydown",y),()=>x.removeEventListener("keydown",y)}},[l,h]),C.jsxs(Ax,{ref:u,role:"region","aria-label":i.replace("{hotkey}",b),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&C.jsx(Or,{ref:c,onFocusFromOutsideViewport:()=>{const x=h({tabbingDirection:"forwards"});ir(x)}}),C.jsx(Gr.Slot,{scope:n,children:C.jsx(de.ol,{tabIndex:-1,...r,ref:g})}),v&&C.jsx(Or,{ref:m,onFocusFromOutsideViewport:()=>{const x=h({tabbingDirection:"backwards"});ir(x)}})]})});Bd.displayName=Vd;var Pd="ToastFocusProxy",Or=d.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...i}=t,r=Vi(Pd,n);return C.jsx(Ps,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{var c;const l=a.relatedTarget;!((c=r.viewport)!=null&&c.contains(l))&&s()}})});Or.displayName=Pd;var Bi="Toast",Kx="toast.swipeStart",Gx="toast.swipeMove",Qx="toast.swipeCancel",Xx="toast.swipeEnd",kd=d.forwardRef((t,e)=>{const{forceMount:n,open:s,defaultOpen:i,onOpenChange:r,...a}=t,[l=!0,u]=hs({prop:s,defaultProp:i,onChange:r});return C.jsx(en,{present:n||l,children:C.jsx(eb,{open:l,...a,ref:e,onClose:()=>u(!1),onPause:ut(t.onPause),onResume:ut(t.onResume),onSwipeStart:ne(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ne(t.onSwipeMove,c=>{const{x:m,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ne(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ne(t.onSwipeEnd,c=>{const{x:m,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),u(!1)})})})});kd.displayName=Bi;var[Yx,Jx]=jd(Bi,{onClose(){}}),eb=d.forwardRef((t,e)=>{const{__scopeToast:n,type:s="foreground",duration:i,open:r,onClose:a,onEscapeKeyDown:l,onPause:u,onResume:c,onSwipeStart:m,onSwipeMove:f,onSwipeCancel:g,onSwipeEnd:b,...v}=t,h=Vi(Bi,n),[x,y]=d.useState(null),p=we(e,B=>y(B)),_=d.useRef(null),S=d.useRef(null),E=i||h.duration,P=d.useRef(0),w=d.useRef(E),L=d.useRef(0),{onToastAdd:Z,onToastRemove:Y}=h,k=ut(()=>{var U;(x==null?void 0:x.contains(document.activeElement))&&((U=h.viewport)==null||U.focus()),a()}),T=d.useCallback(B=>{!B||B===1/0||(window.clearTimeout(L.current),P.current=new Date().getTime(),L.current=window.setTimeout(k,B))},[k]);d.useEffect(()=>{const B=h.viewport;if(B){const U=()=>{T(w.current),c==null||c()},z=()=>{const K=new Date().getTime()-P.current;w.current=w.current-K,window.clearTimeout(L.current),u==null||u()};return B.addEventListener(Cr,z),B.addEventListener(Er,U),()=>{B.removeEventListener(Cr,z),B.removeEventListener(Er,U)}}},[h.viewport,E,u,c,T]),d.useEffect(()=>{r&&!h.isClosePausedRef.current&&T(E)},[r,E,h.isClosePausedRef,T]),d.useEffect(()=>(Z(),()=>Y()),[Z,Y]);const O=d.useMemo(()=>x?$d(x):null,[x]);return h.viewport?C.jsxs(C.Fragment,{children:[O&&C.jsx(tb,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:O}),C.jsx(Yx,{scope:n,onClose:k,children:Qn.createPortal(C.jsx(Gr.ItemSlot,{scope:n,children:C.jsx(Rx,{asChild:!0,onEscapeKeyDown:ne(l,()=>{h.isFocusedToastEscapeKeyDownRef.current||k(),h.isFocusedToastEscapeKeyDownRef.current=!1}),children:C.jsx(de.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":r?"open":"closed","data-swipe-direction":h.swipeDirection,...v,ref:p,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ne(t.onKeyDown,B=>{B.key==="Escape"&&(l==null||l(B.nativeEvent),B.nativeEvent.defaultPrevented||(h.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:ne(t.onPointerDown,B=>{B.button===0&&(_.current={x:B.clientX,y:B.clientY})}),onPointerMove:ne(t.onPointerMove,B=>{if(!_.current)return;const U=B.clientX-_.current.x,z=B.clientY-_.current.y,K=!!S.current,M=["left","right"].includes(h.swipeDirection),j=["left","up"].includes(h.swipeDirection)?Math.min:Math.max,H=M?j(0,U):0,q=M?0:j(0,z),J=B.pointerType==="touch"?10:2,ae={x:H,y:q},me={originalEvent:B,delta:ae};K?(S.current=ae,qs(Gx,f,me,{discrete:!1})):Ho(ae,h.swipeDirection,J)?(S.current=ae,qs(Kx,m,me,{discrete:!1}),B.target.setPointerCapture(B.pointerId)):(Math.abs(U)>J||Math.abs(z)>J)&&(_.current=null)}),onPointerUp:ne(t.onPointerUp,B=>{const U=S.current,z=B.target;if(z.hasPointerCapture(B.pointerId)&&z.releasePointerCapture(B.pointerId),S.current=null,_.current=null,U){const K=B.currentTarget,M={originalEvent:B,delta:U};Ho(U,h.swipeDirection,h.swipeThreshold)?qs(Xx,b,M,{discrete:!0}):qs(Qx,g,M,{discrete:!0}),K.addEventListener("click",j=>j.preventDefault(),{once:!0})}})})})}),h.viewport)})]}):null}),tb=t=>{const{__scopeToast:e,children:n,...s}=t,i=Vi(Bi,e),[r,a]=d.useState(!1),[l,u]=d.useState(!1);return ib(()=>a(!0)),d.useEffect(()=>{const c=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(c)},[]),l?null:C.jsx(Bs,{asChild:!0,children:C.jsx(Ps,{...s,children:r&&C.jsxs(C.Fragment,{children:[i.label," ",n]})})})},nb="ToastTitle",Rd=d.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t;return C.jsx(de.div,{...s,ref:e})});Rd.displayName=nb;var sb="ToastDescription",Ad=d.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t;return C.jsx(de.div,{...s,ref:e})});Ad.displayName=sb;var Id="ToastAction",Md=d.forwardRef((t,e)=>{const{altText:n,...s}=t;return n.trim()?C.jsx(Fd,{altText:n,asChild:!0,children:C.jsx(Qr,{...s,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Id}\`. Expected non-empty \`string\`.`),null)});Md.displayName=Id;var Ld="ToastClose",Qr=d.forwardRef((t,e)=>{const{__scopeToast:n,...s}=t,i=Jx(Ld,n);return C.jsx(Fd,{asChild:!0,children:C.jsx(de.button,{type:"button",...s,ref:e,onClick:ne(t.onClick,i.onClose)})})});Qr.displayName=Ld;var Fd=d.forwardRef((t,e)=>{const{__scopeToast:n,altText:s,...i}=t;return C.jsx(de.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...i,ref:e})});function $d(t){const e=[];return Array.from(t.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&e.push(s.textContent),rb(s)){const i=s.ariaHidden||s.hidden||s.style.display==="none",r=s.dataset.radixToastAnnounceExclude==="";if(!i)if(r){const a=s.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...$d(s))}}),e}function qs(t,e,n,{discrete:s}){const i=n.originalEvent.currentTarget,r=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),s?wd(i,r):i.dispatchEvent(r)}var Ho=(t,e,n=0)=>{const s=Math.abs(t.x),i=Math.abs(t.y),r=s>i;return e==="left"||e==="right"?r&&s>n:!r&&i>n};function ib(t=()=>{}){const e=ut(t);We(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[e])}function rb(t){return t.nodeType===t.ELEMENT_NODE}function ob(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ir(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var ab=Td,zd=Bd,Ud=kd,Wd=Rd,Hd=Ad,qd=Md,Zd=Qr;function Kd(t){var e,n,s="";if(typeof t=="string"||typeof t=="number")s+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Kd(t[e]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}function Gd(){for(var t,e,n=0,s="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Kd(t))&&(s&&(s+=" "),s+=e);return s}const qo=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Zo=Gd,Pi=(t,e)=>n=>{var s;if((e==null?void 0:e.variants)==null)return Zo(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:r}=e,a=Object.keys(i).map(c=>{const m=n==null?void 0:n[c],f=r==null?void 0:r[c];if(m===null)return null;const g=qo(m)||qo(f);return i[c][g]}),l=n&&Object.entries(n).reduce((c,m)=>{let[f,g]=m;return g===void 0||(c[f]=g),c},{}),u=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((c,m)=>{let{class:f,className:g,...b}=m;return Object.entries(b).every(v=>{let[h,x]=v;return Array.isArray(x)?x.includes({...r,...l}[h]):{...r,...l}[h]===x})?[...c,f,g]:c},[]);return Zo(t,a,u,n==null?void 0:n.class,n==null?void 0:n.className)},Xr="-",lb=t=>{const e=ub(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=t;return{getClassGroupId:a=>{const l=a.split(Xr);return l[0]===""&&l.length!==1&&l.shift(),Qd(l,e)||cb(a)},getConflictingClassGroupIds:(a,l)=>{const u=n[a]||[];return l&&s[a]?[...u,...s[a]]:u}}},Qd=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],s=e.nextPart.get(n),i=s?Qd(t.slice(1),s):void 0;if(i)return i;if(e.validators.length===0)return;const r=t.join(Xr);return(a=e.validators.find(({validator:l})=>l(r)))==null?void 0:a.classGroupId},Ko=/^\[(.+)\]$/,cb=t=>{if(Ko.test(t)){const e=Ko.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},ub=t=>{const{theme:e,prefix:n}=t,s={nextPart:new Map,validators:[]};return mb(Object.entries(t.classGroups),n).forEach(([r,a])=>{jr(a,s,r,e)}),s},jr=(t,e,n,s)=>{t.forEach(i=>{if(typeof i=="string"){const r=i===""?e:Go(e,i);r.classGroupId=n;return}if(typeof i=="function"){if(db(i)){jr(i(s),e,n,s);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([r,a])=>{jr(a,Go(e,r),n,s)})})},Go=(t,e)=>{let n=t;return e.split(Xr).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},db=t=>t.isThemeGetter,mb=(t,e)=>e?t.map(([n,s])=>{const i=s.map(r=>typeof r=="string"?e+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([a,l])=>[e+a,l])):r);return[n,i]}):t,fb=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const i=(r,a)=>{n.set(r,a),e++,e>t&&(e=0,s=n,n=new Map)};return{get(r){let a=n.get(r);if(a!==void 0)return a;if((a=s.get(r))!==void 0)return i(r,a),a},set(r,a){n.has(r)?n.set(r,a):i(r,a)}}},Xd="!",hb=t=>{const{separator:e,experimentalParseClassName:n}=t,s=e.length===1,i=e[0],r=e.length,a=l=>{const u=[];let c=0,m=0,f;for(let x=0;x<l.length;x++){let y=l[x];if(c===0){if(y===i&&(s||l.slice(x,x+r)===e)){u.push(l.slice(m,x)),m=x+r;continue}if(y==="/"){f=x;continue}}y==="["?c++:y==="]"&&c--}const g=u.length===0?l:l.substring(m),b=g.startsWith(Xd),v=b?g.substring(1):g,h=f&&f>m?f-m:void 0;return{modifiers:u,hasImportantModifier:b,baseClassName:v,maybePostfixModifierPosition:h}};return n?l=>n({className:l,parseClassName:a}):a},pb=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(s=>{s[0]==="["?(e.push(...n.sort(),s),n=[]):n.push(s)}),e.push(...n.sort()),e},gb=t=>({cache:fb(t.cacheSize),parseClassName:hb(t),...lb(t)}),xb=/\s+/,bb=(t,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:i}=e,r=[],a=t.trim().split(xb);let l="";for(let u=a.length-1;u>=0;u-=1){const c=a[u],{modifiers:m,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:b}=n(c);let v=!!b,h=s(v?g.substring(0,b):g);if(!h){if(!v){l=c+(l.length>0?" "+l:l);continue}if(h=s(g),!h){l=c+(l.length>0?" "+l:l);continue}v=!1}const x=pb(m).join(":"),y=f?x+Xd:x,p=y+h;if(r.includes(p))continue;r.push(p);const _=i(h,v);for(let S=0;S<_.length;++S){const E=_[S];r.push(y+E)}l=c+(l.length>0?" "+l:l)}return l};function Nb(){let t=0,e,n,s="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Yd(e))&&(s&&(s+=" "),s+=n);return s}const Yd=t=>{if(typeof t=="string")return t;let e,n="";for(let s=0;s<t.length;s++)t[s]&&(e=Yd(t[s]))&&(n&&(n+=" "),n+=e);return n};function vb(t,...e){let n,s,i,r=a;function a(u){const c=e.reduce((m,f)=>f(m),t());return n=gb(c),s=n.cache.get,i=n.cache.set,r=l,l(u)}function l(u){const c=s(u);if(c)return c;const m=bb(u,n);return i(u,m),m}return function(){return r(Nb.apply(null,arguments))}}const Ce=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Jd=/^\[(?:([a-z-]+):)?(.+)\]$/i,yb=/^\d+\/\d+$/,_b=new Set(["px","full","screen"]),Db=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Sb=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,wb=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Cb=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Eb=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Pt=t=>kn(t)||_b.has(t)||yb.test(t),Ut=t=>Yn(t,"length",Rb),kn=t=>!!t&&!Number.isNaN(Number(t)),rr=t=>Yn(t,"number",kn),rs=t=>!!t&&Number.isInteger(Number(t)),Ob=t=>t.endsWith("%")&&kn(t.slice(0,-1)),oe=t=>Jd.test(t),Wt=t=>Db.test(t),jb=new Set(["length","size","percentage"]),Tb=t=>Yn(t,jb,em),Vb=t=>Yn(t,"position",em),Bb=new Set(["image","url"]),Pb=t=>Yn(t,Bb,Ib),kb=t=>Yn(t,"",Ab),os=()=>!0,Yn=(t,e,n)=>{const s=Jd.exec(t);return s?s[1]?typeof e=="string"?s[1]===e:e.has(s[1]):n(s[2]):!1},Rb=t=>Sb.test(t)&&!wb.test(t),em=()=>!1,Ab=t=>Cb.test(t),Ib=t=>Eb.test(t),Mb=()=>{const t=Ce("colors"),e=Ce("spacing"),n=Ce("blur"),s=Ce("brightness"),i=Ce("borderColor"),r=Ce("borderRadius"),a=Ce("borderSpacing"),l=Ce("borderWidth"),u=Ce("contrast"),c=Ce("grayscale"),m=Ce("hueRotate"),f=Ce("invert"),g=Ce("gap"),b=Ce("gradientColorStops"),v=Ce("gradientColorStopPositions"),h=Ce("inset"),x=Ce("margin"),y=Ce("opacity"),p=Ce("padding"),_=Ce("saturate"),S=Ce("scale"),E=Ce("sepia"),P=Ce("skew"),w=Ce("space"),L=Ce("translate"),Z=()=>["auto","contain","none"],Y=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",oe,e],T=()=>[oe,e],O=()=>["",Pt,Ut],B=()=>["auto",kn,oe],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",oe],H=()=>["auto","avoid","all","avoid-page","page","left","right","column"],q=()=>[kn,oe];return{cacheSize:500,separator:":",theme:{colors:[os],spacing:[Pt,Ut],blur:["none","",Wt,oe],brightness:q(),borderColor:[t],borderRadius:["none","","full",Wt,oe],borderSpacing:T(),borderWidth:O(),contrast:q(),grayscale:j(),hueRotate:q(),invert:j(),gap:T(),gradientColorStops:[t],gradientColorStopPositions:[Ob,Ut],inset:k(),margin:k(),opacity:q(),padding:T(),saturate:q(),scale:q(),sepia:j(),skew:q(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",oe]}],container:["container"],columns:[{columns:[Wt]}],"break-after":[{"break-after":H()}],"break-before":[{"break-before":H()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),oe]}],overflow:[{overflow:Y()}],"overflow-x":[{"overflow-x":Y()}],"overflow-y":[{"overflow-y":Y()}],overscroll:[{overscroll:Z()}],"overscroll-x":[{"overscroll-x":Z()}],"overscroll-y":[{"overscroll-y":Z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[h]}],"inset-x":[{"inset-x":[h]}],"inset-y":[{"inset-y":[h]}],start:[{start:[h]}],end:[{end:[h]}],top:[{top:[h]}],right:[{right:[h]}],bottom:[{bottom:[h]}],left:[{left:[h]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",rs,oe]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",oe]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",rs,oe]}],"grid-cols":[{"grid-cols":[os]}],"col-start-end":[{col:["auto",{span:["full",rs,oe]},oe]}],"col-start":[{"col-start":B()}],"col-end":[{"col-end":B()}],"grid-rows":[{"grid-rows":[os]}],"row-start-end":[{row:["auto",{span:[rs,oe]},oe]}],"row-start":[{"row-start":B()}],"row-end":[{"row-end":B()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",oe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",oe]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[p]}],px:[{px:[p]}],py:[{py:[p]}],ps:[{ps:[p]}],pe:[{pe:[p]}],pt:[{pt:[p]}],pr:[{pr:[p]}],pb:[{pb:[p]}],pl:[{pl:[p]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[w]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[w]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",oe,e]}],"min-w":[{"min-w":[oe,e,"min","max","fit"]}],"max-w":[{"max-w":[oe,e,"none","full","min","max","fit","prose",{screen:[Wt]},Wt]}],h:[{h:[oe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[oe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[oe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[oe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Wt,Ut]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",rr]}],"font-family":[{font:[os]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",oe]}],"line-clamp":[{"line-clamp":["none",kn,rr]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Pt,oe]}],"list-image":[{"list-image":["none",oe]}],"list-style-type":[{list:["none","disc","decimal",oe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Pt,Ut]}],"underline-offset":[{"underline-offset":["auto",Pt,oe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",oe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",oe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),Vb]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Tb]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Pb]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:z()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[Pt,oe]}],"outline-w":[{outline:[Pt,Ut]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Pt,Ut]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Wt,kb]}],"shadow-color":[{shadow:[os]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Wt,oe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[f]}],saturate:[{saturate:[_]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",oe]}],duration:[{duration:q()}],ease:[{ease:["linear","in","out","in-out",oe]}],delay:[{delay:q()}],animate:[{animate:["none","spin","ping","pulse","bounce",oe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[rs,oe]}],"translate-x":[{"translate-x":[L]}],"translate-y":[{"translate-y":[L]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",oe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",oe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",oe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Pt,Ut,rr]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Lb=vb(Mb);function se(...t){return Lb(Gd(t))}const Fb=ab,tm=d.forwardRef(({className:t,...e},n)=>o.jsxDEV(zd,{ref:n,className:se("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/toast.tsx",lineNumber:14,columnNumber:3},void 0));tm.displayName=zd.displayName;const $b=Pi("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),nm=d.forwardRef(({className:t,variant:e,...n},s)=>o.jsxDEV(Ud,{ref:s,className:se($b({variant:e}),t),...n},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/toast.tsx",lineNumber:47,columnNumber:5},void 0));nm.displayName=Ud.displayName;const zb=d.forwardRef(({className:t,...e},n)=>o.jsxDEV(qd,{ref:n,className:se("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/toast.tsx",lineNumber:60,columnNumber:3},void 0));zb.displayName=qd.displayName;const sm=d.forwardRef(({className:t,...e},n)=>o.jsxDEV(Zd,{ref:n,className:se("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:o.jsxDEV(li,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/toast.tsx",lineNumber:84,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/toast.tsx",lineNumber:75,columnNumber:3},void 0));sm.displayName=Zd.displayName;const im=d.forwardRef(({className:t,...e},n)=>o.jsxDEV(Wd,{ref:n,className:se("text-sm font-semibold",t),...e},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/toast.tsx",lineNumber:93,columnNumber:3},void 0));im.displayName=Wd.displayName;const rm=d.forwardRef(({className:t,...e},n)=>o.jsxDEV(Hd,{ref:n,className:se("text-sm opacity-90",t),...e},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/toast.tsx",lineNumber:105,columnNumber:3},void 0));rm.displayName=Hd.displayName;function Ub(){const{toasts:t}=$t();return o.jsxDEV(Fb,{children:[t.map(function({id:e,title:n,description:s,action:i,...r}){return o.jsxDEV(nm,{...r,children:[o.jsxDEV("div",{className:"grid gap-1",children:[n&&o.jsxDEV(im,{children:n},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/toaster.tsx",lineNumber:20,columnNumber:25},this),s&&o.jsxDEV(rm,{children:s},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/toaster.tsx",lineNumber:22,columnNumber:17},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/toaster.tsx",lineNumber:19,columnNumber:13},this),i,o.jsxDEV(sm,{},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/toaster.tsx",lineNumber:26,columnNumber:13},this)]},e,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/toaster.tsx",lineNumber:18,columnNumber:11},this)}),o.jsxDEV(tm,{},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/toaster.tsx",lineNumber:30,columnNumber:7},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/toaster.tsx",lineNumber:15,columnNumber:5},this)}var Wb=Mg[" useId ".trim().toString()]||(()=>{}),Hb=0;function dn(t){const[e,n]=d.useState(Wb());return We(()=>{n(s=>s??String(Hb++))},[t]),e?`radix-${e}`:""}const qb=["top","right","bottom","left"],Zt=Math.min,it=Math.max,ci=Math.round,Zs=Math.floor,wt=t=>({x:t,y:t}),Zb={left:"right",right:"left",bottom:"top",top:"bottom"},Kb={start:"end",end:"start"};function Tr(t,e,n){return it(t,Zt(e,n))}function Mt(t,e){return typeof t=="function"?t(e):t}function Lt(t){return t.split("-")[0]}function Jn(t){return t.split("-")[1]}function Yr(t){return t==="x"?"y":"x"}function Jr(t){return t==="y"?"height":"width"}function Kt(t){return["top","bottom"].includes(Lt(t))?"y":"x"}function eo(t){return Yr(Kt(t))}function Gb(t,e,n){n===void 0&&(n=!1);const s=Jn(t),i=eo(t),r=Jr(i);let a=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return e.reference[r]>e.floating[r]&&(a=ui(a)),[a,ui(a)]}function Qb(t){const e=ui(t);return[Vr(t),e,Vr(e)]}function Vr(t){return t.replace(/start|end/g,e=>Kb[e])}function Xb(t,e,n){const s=["left","right"],i=["right","left"],r=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:s:e?s:i;case"left":case"right":return e?r:a;default:return[]}}function Yb(t,e,n,s){const i=Jn(t);let r=Xb(Lt(t),n==="start",s);return i&&(r=r.map(a=>a+"-"+i),e&&(r=r.concat(r.map(Vr)))),r}function ui(t){return t.replace(/left|right|bottom|top/g,e=>Zb[e])}function Jb(t){return{top:0,right:0,bottom:0,left:0,...t}}function om(t){return typeof t!="number"?Jb(t):{top:t,right:t,bottom:t,left:t}}function di(t){const{x:e,y:n,width:s,height:i}=t;return{width:s,height:i,top:n,left:e,right:e+s,bottom:n+i,x:e,y:n}}function Qo(t,e,n){let{reference:s,floating:i}=t;const r=Kt(e),a=eo(e),l=Jr(a),u=Lt(e),c=r==="y",m=s.x+s.width/2-i.width/2,f=s.y+s.height/2-i.height/2,g=s[l]/2-i[l]/2;let b;switch(u){case"top":b={x:m,y:s.y-i.height};break;case"bottom":b={x:m,y:s.y+s.height};break;case"right":b={x:s.x+s.width,y:f};break;case"left":b={x:s.x-i.width,y:f};break;default:b={x:s.x,y:s.y}}switch(Jn(e)){case"start":b[a]-=g*(n&&c?-1:1);break;case"end":b[a]+=g*(n&&c?-1:1);break}return b}const eN=async(t,e,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:r=[],platform:a}=n,l=r.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:m,y:f}=Qo(c,s,u),g=s,b={},v=0;for(let h=0;h<l.length;h++){const{name:x,fn:y}=l[h],{x:p,y:_,data:S,reset:E}=await y({x:m,y:f,initialPlacement:s,placement:g,strategy:i,middlewareData:b,rects:c,platform:a,elements:{reference:t,floating:e}});m=p??m,f=_??f,b={...b,[x]:{...b[x],...S}},E&&v<=50&&(v++,typeof E=="object"&&(E.placement&&(g=E.placement),E.rects&&(c=E.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):E.rects),{x:m,y:f}=Qo(c,g,u)),h=-1)}return{x:m,y:f,placement:g,strategy:i,middlewareData:b}};async function ps(t,e){var n;e===void 0&&(e={});const{x:s,y:i,platform:r,rects:a,elements:l,strategy:u}=t,{boundary:c="clippingAncestors",rootBoundary:m="viewport",elementContext:f="floating",altBoundary:g=!1,padding:b=0}=Mt(e,t),v=om(b),x=l[g?f==="floating"?"reference":"floating":f],y=di(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(x)))==null||n?x:x.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(l.floating)),boundary:c,rootBoundary:m,strategy:u})),p=f==="floating"?{x:s,y:i,width:a.floating.width,height:a.floating.height}:a.reference,_=await(r.getOffsetParent==null?void 0:r.getOffsetParent(l.floating)),S=await(r.isElement==null?void 0:r.isElement(_))?await(r.getScale==null?void 0:r.getScale(_))||{x:1,y:1}:{x:1,y:1},E=di(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:p,offsetParent:_,strategy:u}):p);return{top:(y.top-E.top+v.top)/S.y,bottom:(E.bottom-y.bottom+v.bottom)/S.y,left:(y.left-E.left+v.left)/S.x,right:(E.right-y.right+v.right)/S.x}}const tN=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:s,placement:i,rects:r,platform:a,elements:l,middlewareData:u}=e,{element:c,padding:m=0}=Mt(t,e)||{};if(c==null)return{};const f=om(m),g={x:n,y:s},b=eo(i),v=Jr(b),h=await a.getDimensions(c),x=b==="y",y=x?"top":"left",p=x?"bottom":"right",_=x?"clientHeight":"clientWidth",S=r.reference[v]+r.reference[b]-g[b]-r.floating[v],E=g[b]-r.reference[b],P=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let w=P?P[_]:0;(!w||!await(a.isElement==null?void 0:a.isElement(P)))&&(w=l.floating[_]||r.floating[v]);const L=S/2-E/2,Z=w/2-h[v]/2-1,Y=Zt(f[y],Z),k=Zt(f[p],Z),T=Y,O=w-h[v]-k,B=w/2-h[v]/2+L,U=Tr(T,B,O),z=!u.arrow&&Jn(i)!=null&&B!==U&&r.reference[v]/2-(B<T?Y:k)-h[v]/2<0,K=z?B<T?B-T:B-O:0;return{[b]:g[b]+K,data:{[b]:U,centerOffset:B-U-K,...z&&{alignmentOffset:K}},reset:z}}}),nN=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,s;const{placement:i,middlewareData:r,rects:a,initialPlacement:l,platform:u,elements:c}=e,{mainAxis:m=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:h=!0,...x}=Mt(t,e);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const y=Lt(i),p=Kt(l),_=Lt(l)===l,S=await(u.isRTL==null?void 0:u.isRTL(c.floating)),E=g||(_||!h?[ui(l)]:Qb(l)),P=v!=="none";!g&&P&&E.push(...Yb(l,h,v,S));const w=[l,...E],L=await ps(e,x),Z=[];let Y=((s=r.flip)==null?void 0:s.overflows)||[];if(m&&Z.push(L[y]),f){const B=Gb(i,a,S);Z.push(L[B[0]],L[B[1]])}if(Y=[...Y,{placement:i,overflows:Z}],!Z.every(B=>B<=0)){var k,T;const B=(((k=r.flip)==null?void 0:k.index)||0)+1,U=w[B];if(U)return{data:{index:B,overflows:Y},reset:{placement:U}};let z=(T=Y.filter(K=>K.overflows[0]<=0).sort((K,M)=>K.overflows[1]-M.overflows[1])[0])==null?void 0:T.placement;if(!z)switch(b){case"bestFit":{var O;const K=(O=Y.filter(M=>{if(P){const j=Kt(M.placement);return j===p||j==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(j=>j>0).reduce((j,H)=>j+H,0)]).sort((M,j)=>M[1]-j[1])[0])==null?void 0:O[0];K&&(z=K);break}case"initialPlacement":z=l;break}if(i!==z)return{reset:{placement:z}}}return{}}}};function Xo(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Yo(t){return qb.some(e=>t[e]>=0)}const sN=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:s="referenceHidden",...i}=Mt(t,e);switch(s){case"referenceHidden":{const r=await ps(e,{...i,elementContext:"reference"}),a=Xo(r,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Yo(a)}}}case"escaped":{const r=await ps(e,{...i,altBoundary:!0}),a=Xo(r,n.floating);return{data:{escapedOffsets:a,escaped:Yo(a)}}}default:return{}}}}};async function iN(t,e){const{placement:n,platform:s,elements:i}=t,r=await(s.isRTL==null?void 0:s.isRTL(i.floating)),a=Lt(n),l=Jn(n),u=Kt(n)==="y",c=["left","top"].includes(a)?-1:1,m=r&&u?-1:1,f=Mt(e,t);let{mainAxis:g,crossAxis:b,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof v=="number"&&(b=l==="end"?v*-1:v),u?{x:b*m,y:g*c}:{x:g*c,y:b*m}}const rN=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,s;const{x:i,y:r,placement:a,middlewareData:l}=e,u=await iN(e,t);return a===((n=l.offset)==null?void 0:n.placement)&&(s=l.arrow)!=null&&s.alignmentOffset?{}:{x:i+u.x,y:r+u.y,data:{...u,placement:a}}}}},oN=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:s,placement:i}=e,{mainAxis:r=!0,crossAxis:a=!1,limiter:l={fn:x=>{let{x:y,y:p}=x;return{x:y,y:p}}},...u}=Mt(t,e),c={x:n,y:s},m=await ps(e,u),f=Kt(Lt(i)),g=Yr(f);let b=c[g],v=c[f];if(r){const x=g==="y"?"top":"left",y=g==="y"?"bottom":"right",p=b+m[x],_=b-m[y];b=Tr(p,b,_)}if(a){const x=f==="y"?"top":"left",y=f==="y"?"bottom":"right",p=v+m[x],_=v-m[y];v=Tr(p,v,_)}const h=l.fn({...e,[g]:b,[f]:v});return{...h,data:{x:h.x-n,y:h.y-s,enabled:{[g]:r,[f]:a}}}}}},aN=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:s,placement:i,rects:r,middlewareData:a}=e,{offset:l=0,mainAxis:u=!0,crossAxis:c=!0}=Mt(t,e),m={x:n,y:s},f=Kt(i),g=Yr(f);let b=m[g],v=m[f];const h=Mt(l,e),x=typeof h=="number"?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(u){const _=g==="y"?"height":"width",S=r.reference[g]-r.floating[_]+x.mainAxis,E=r.reference[g]+r.reference[_]-x.mainAxis;b<S?b=S:b>E&&(b=E)}if(c){var y,p;const _=g==="y"?"width":"height",S=["top","left"].includes(Lt(i)),E=r.reference[f]-r.floating[_]+(S&&((y=a.offset)==null?void 0:y[f])||0)+(S?0:x.crossAxis),P=r.reference[f]+r.reference[_]+(S?0:((p=a.offset)==null?void 0:p[f])||0)-(S?x.crossAxis:0);v<E?v=E:v>P&&(v=P)}return{[g]:b,[f]:v}}}},lN=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,s;const{placement:i,rects:r,platform:a,elements:l}=e,{apply:u=()=>{},...c}=Mt(t,e),m=await ps(e,c),f=Lt(i),g=Jn(i),b=Kt(i)==="y",{width:v,height:h}=r.floating;let x,y;f==="top"||f==="bottom"?(x=f,y=g===(await(a.isRTL==null?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(y=f,x=g==="end"?"top":"bottom");const p=h-m.top-m.bottom,_=v-m.left-m.right,S=Zt(h-m[x],p),E=Zt(v-m[y],_),P=!e.middlewareData.shift;let w=S,L=E;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(L=_),(s=e.middlewareData.shift)!=null&&s.enabled.y&&(w=p),P&&!g){const Y=it(m.left,0),k=it(m.right,0),T=it(m.top,0),O=it(m.bottom,0);b?L=v-2*(Y!==0||k!==0?Y+k:it(m.left,m.right)):w=h-2*(T!==0||O!==0?T+O:it(m.top,m.bottom))}await u({...e,availableWidth:L,availableHeight:w});const Z=await a.getDimensions(l.floating);return v!==Z.width||h!==Z.height?{reset:{rects:!0}}:{}}}};function ki(){return typeof window<"u"}function es(t){return am(t)?(t.nodeName||"").toLowerCase():"#document"}function lt(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Tt(t){var e;return(e=(am(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function am(t){return ki()?t instanceof Node||t instanceof lt(t).Node:!1}function Nt(t){return ki()?t instanceof Element||t instanceof lt(t).Element:!1}function Et(t){return ki()?t instanceof HTMLElement||t instanceof lt(t).HTMLElement:!1}function Jo(t){return!ki()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof lt(t).ShadowRoot}function ks(t){const{overflow:e,overflowX:n,overflowY:s,display:i}=vt(t);return/auto|scroll|overlay|hidden|clip/.test(e+s+n)&&!["inline","contents"].includes(i)}function cN(t){return["table","td","th"].includes(es(t))}function Ri(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function to(t){const e=no(),n=Nt(t)?vt(t):t;return["transform","translate","scale","rotate","perspective"].some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(n.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(n.contain||"").includes(s))}function uN(t){let e=Gt(t);for(;Et(e)&&!zn(e);){if(to(e))return e;if(Ri(e))return null;e=Gt(e)}return null}function no(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function zn(t){return["html","body","#document"].includes(es(t))}function vt(t){return lt(t).getComputedStyle(t)}function Ai(t){return Nt(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Gt(t){if(es(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Jo(t)&&t.host||Tt(t);return Jo(e)?e.host:e}function lm(t){const e=Gt(t);return zn(e)?t.ownerDocument?t.ownerDocument.body:t.body:Et(e)&&ks(e)?e:lm(e)}function gs(t,e,n){var s;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=lm(t),r=i===((s=t.ownerDocument)==null?void 0:s.body),a=lt(i);if(r){const l=Br(a);return e.concat(a,a.visualViewport||[],ks(i)?i:[],l&&n?gs(l):[])}return e.concat(i,gs(i,[],n))}function Br(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function cm(t){const e=vt(t);let n=parseFloat(e.width)||0,s=parseFloat(e.height)||0;const i=Et(t),r=i?t.offsetWidth:n,a=i?t.offsetHeight:s,l=ci(n)!==r||ci(s)!==a;return l&&(n=r,s=a),{width:n,height:s,$:l}}function so(t){return Nt(t)?t:t.contextElement}function Rn(t){const e=so(t);if(!Et(e))return wt(1);const n=e.getBoundingClientRect(),{width:s,height:i,$:r}=cm(e);let a=(r?ci(n.width):n.width)/s,l=(r?ci(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!l||!Number.isFinite(l))&&(l=1),{x:a,y:l}}const dN=wt(0);function um(t){const e=lt(t);return!no()||!e.visualViewport?dN:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function mN(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==lt(t)?!1:e}function bn(t,e,n,s){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),r=so(t);let a=wt(1);e&&(s?Nt(s)&&(a=Rn(s)):a=Rn(t));const l=mN(r,n,s)?um(r):wt(0);let u=(i.left+l.x)/a.x,c=(i.top+l.y)/a.y,m=i.width/a.x,f=i.height/a.y;if(r){const g=lt(r),b=s&&Nt(s)?lt(s):s;let v=g,h=Br(v);for(;h&&s&&b!==v;){const x=Rn(h),y=h.getBoundingClientRect(),p=vt(h),_=y.left+(h.clientLeft+parseFloat(p.paddingLeft))*x.x,S=y.top+(h.clientTop+parseFloat(p.paddingTop))*x.y;u*=x.x,c*=x.y,m*=x.x,f*=x.y,u+=_,c+=S,v=lt(h),h=Br(v)}}return di({width:m,height:f,x:u,y:c})}function io(t,e){const n=Ai(t).scrollLeft;return e?e.left+n:bn(Tt(t)).left+n}function dm(t,e,n){n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=s.left+e.scrollLeft-(n?0:io(t,s)),r=s.top+e.scrollTop;return{x:i,y:r}}function fN(t){let{elements:e,rect:n,offsetParent:s,strategy:i}=t;const r=i==="fixed",a=Tt(s),l=e?Ri(e.floating):!1;if(s===a||l&&r)return n;let u={scrollLeft:0,scrollTop:0},c=wt(1);const m=wt(0),f=Et(s);if((f||!f&&!r)&&((es(s)!=="body"||ks(a))&&(u=Ai(s)),Et(s))){const b=bn(s);c=Rn(s),m.x=b.x+s.clientLeft,m.y=b.y+s.clientTop}const g=a&&!f&&!r?dm(a,u,!0):wt(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-u.scrollLeft*c.x+m.x+g.x,y:n.y*c.y-u.scrollTop*c.y+m.y+g.y}}function hN(t){return Array.from(t.getClientRects())}function pN(t){const e=Tt(t),n=Ai(t),s=t.ownerDocument.body,i=it(e.scrollWidth,e.clientWidth,s.scrollWidth,s.clientWidth),r=it(e.scrollHeight,e.clientHeight,s.scrollHeight,s.clientHeight);let a=-n.scrollLeft+io(t);const l=-n.scrollTop;return vt(s).direction==="rtl"&&(a+=it(e.clientWidth,s.clientWidth)-i),{width:i,height:r,x:a,y:l}}function gN(t,e){const n=lt(t),s=Tt(t),i=n.visualViewport;let r=s.clientWidth,a=s.clientHeight,l=0,u=0;if(i){r=i.width,a=i.height;const c=no();(!c||c&&e==="fixed")&&(l=i.offsetLeft,u=i.offsetTop)}return{width:r,height:a,x:l,y:u}}function xN(t,e){const n=bn(t,!0,e==="fixed"),s=n.top+t.clientTop,i=n.left+t.clientLeft,r=Et(t)?Rn(t):wt(1),a=t.clientWidth*r.x,l=t.clientHeight*r.y,u=i*r.x,c=s*r.y;return{width:a,height:l,x:u,y:c}}function ea(t,e,n){let s;if(e==="viewport")s=gN(t,n);else if(e==="document")s=pN(Tt(t));else if(Nt(e))s=xN(e,n);else{const i=um(t);s={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return di(s)}function mm(t,e){const n=Gt(t);return n===e||!Nt(n)||zn(n)?!1:vt(n).position==="fixed"||mm(n,e)}function bN(t,e){const n=e.get(t);if(n)return n;let s=gs(t,[],!1).filter(l=>Nt(l)&&es(l)!=="body"),i=null;const r=vt(t).position==="fixed";let a=r?Gt(t):t;for(;Nt(a)&&!zn(a);){const l=vt(a),u=to(a);!u&&l.position==="fixed"&&(i=null),(r?!u&&!i:!u&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ks(a)&&!u&&mm(t,a))?s=s.filter(m=>m!==a):i=l,a=Gt(a)}return e.set(t,s),s}function NN(t){let{element:e,boundary:n,rootBoundary:s,strategy:i}=t;const a=[...n==="clippingAncestors"?Ri(e)?[]:bN(e,this._c):[].concat(n),s],l=a[0],u=a.reduce((c,m)=>{const f=ea(e,m,i);return c.top=it(f.top,c.top),c.right=Zt(f.right,c.right),c.bottom=Zt(f.bottom,c.bottom),c.left=it(f.left,c.left),c},ea(e,l,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function vN(t){const{width:e,height:n}=cm(t);return{width:e,height:n}}function yN(t,e,n){const s=Et(e),i=Tt(e),r=n==="fixed",a=bn(t,!0,r,e);let l={scrollLeft:0,scrollTop:0};const u=wt(0);if(s||!s&&!r)if((es(e)!=="body"||ks(i))&&(l=Ai(e)),s){const g=bn(e,!0,r,e);u.x=g.x+e.clientLeft,u.y=g.y+e.clientTop}else i&&(u.x=io(i));const c=i&&!s&&!r?dm(i,l):wt(0),m=a.left+l.scrollLeft-u.x-c.x,f=a.top+l.scrollTop-u.y-c.y;return{x:m,y:f,width:a.width,height:a.height}}function or(t){return vt(t).position==="static"}function ta(t,e){if(!Et(t)||vt(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Tt(t)===n&&(n=n.ownerDocument.body),n}function fm(t,e){const n=lt(t);if(Ri(t))return n;if(!Et(t)){let i=Gt(t);for(;i&&!zn(i);){if(Nt(i)&&!or(i))return i;i=Gt(i)}return n}let s=ta(t,e);for(;s&&cN(s)&&or(s);)s=ta(s,e);return s&&zn(s)&&or(s)&&!to(s)?n:s||uN(t)||n}const _N=async function(t){const e=this.getOffsetParent||fm,n=this.getDimensions,s=await n(t.floating);return{reference:yN(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function DN(t){return vt(t).direction==="rtl"}const SN={convertOffsetParentRelativeRectToViewportRelativeRect:fN,getDocumentElement:Tt,getClippingRect:NN,getOffsetParent:fm,getElementRects:_N,getClientRects:hN,getDimensions:vN,getScale:Rn,isElement:Nt,isRTL:DN};function hm(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function wN(t,e){let n=null,s;const i=Tt(t);function r(){var l;clearTimeout(s),(l=n)==null||l.disconnect(),n=null}function a(l,u){l===void 0&&(l=!1),u===void 0&&(u=1),r();const c=t.getBoundingClientRect(),{left:m,top:f,width:g,height:b}=c;if(l||e(),!g||!b)return;const v=Zs(f),h=Zs(i.clientWidth-(m+g)),x=Zs(i.clientHeight-(f+b)),y=Zs(m),_={rootMargin:-v+"px "+-h+"px "+-x+"px "+-y+"px",threshold:it(0,Zt(1,u))||1};let S=!0;function E(P){const w=P[0].intersectionRatio;if(w!==u){if(!S)return a();w?a(!1,w):s=setTimeout(()=>{a(!1,1e-7)},1e3)}w===1&&!hm(c,t.getBoundingClientRect())&&a(),S=!1}try{n=new IntersectionObserver(E,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,_)}n.observe(t)}return a(!0),r}function CN(t,e,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:r=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:u=!1}=s,c=so(t),m=i||r?[...c?gs(c):[],...gs(e)]:[];m.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),r&&y.addEventListener("resize",n)});const f=c&&l?wN(c,n):null;let g=-1,b=null;a&&(b=new ResizeObserver(y=>{let[p]=y;p&&p.target===c&&b&&(b.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var _;(_=b)==null||_.observe(e)})),n()}),c&&!u&&b.observe(c),b.observe(e));let v,h=u?bn(t):null;u&&x();function x(){const y=bn(t);h&&!hm(h,y)&&n(),h=y,v=requestAnimationFrame(x)}return n(),()=>{var y;m.forEach(p=>{i&&p.removeEventListener("scroll",n),r&&p.removeEventListener("resize",n)}),f==null||f(),(y=b)==null||y.disconnect(),b=null,u&&cancelAnimationFrame(v)}}const EN=rN,ON=oN,jN=nN,TN=lN,VN=sN,na=tN,BN=aN,PN=(t,e,n)=>{const s=new Map,i={platform:SN,...n},r={...i.platform,_c:s};return eN(t,e,{...i,platform:r})};var si=typeof document<"u"?d.useLayoutEffect:d.useEffect;function mi(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,s,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(s=n;s--!==0;)if(!mi(t[s],e[s]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(e,i[s]))return!1;for(s=n;s--!==0;){const r=i[s];if(!(r==="_owner"&&t.$$typeof)&&!mi(t[r],e[r]))return!1}return!0}return t!==t&&e!==e}function pm(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function sa(t,e){const n=pm(t);return Math.round(e*n)/n}function ar(t){const e=d.useRef(t);return si(()=>{e.current=t}),e}function kN(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:s=[],platform:i,elements:{reference:r,floating:a}={},transform:l=!0,whileElementsMounted:u,open:c}=t,[m,f]=d.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[g,b]=d.useState(s);mi(g,s)||b(s);const[v,h]=d.useState(null),[x,y]=d.useState(null),p=d.useCallback(M=>{M!==P.current&&(P.current=M,h(M))},[]),_=d.useCallback(M=>{M!==w.current&&(w.current=M,y(M))},[]),S=r||v,E=a||x,P=d.useRef(null),w=d.useRef(null),L=d.useRef(m),Z=u!=null,Y=ar(u),k=ar(i),T=ar(c),O=d.useCallback(()=>{if(!P.current||!w.current)return;const M={placement:e,strategy:n,middleware:g};k.current&&(M.platform=k.current),PN(P.current,w.current,M).then(j=>{const H={...j,isPositioned:T.current!==!1};B.current&&!mi(L.current,H)&&(L.current=H,Qn.flushSync(()=>{f(H)}))})},[g,e,n,k,T]);si(()=>{c===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[c]);const B=d.useRef(!1);si(()=>(B.current=!0,()=>{B.current=!1}),[]),si(()=>{if(S&&(P.current=S),E&&(w.current=E),S&&E){if(Y.current)return Y.current(S,E,O);O()}},[S,E,O,Y,Z]);const U=d.useMemo(()=>({reference:P,floating:w,setReference:p,setFloating:_}),[p,_]),z=d.useMemo(()=>({reference:S,floating:E}),[S,E]),K=d.useMemo(()=>{const M={position:n,left:0,top:0};if(!z.floating)return M;const j=sa(z.floating,m.x),H=sa(z.floating,m.y);return l?{...M,transform:"translate("+j+"px, "+H+"px)",...pm(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:j,top:H}},[n,l,z.floating,m.x,m.y]);return d.useMemo(()=>({...m,update:O,refs:U,elements:z,floatingStyles:K}),[m,O,U,z,K])}const RN=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:s,padding:i}=typeof t=="function"?t(n):t;return s&&e(s)?s.current!=null?na({element:s.current,padding:i}).fn(n):{}:s?na({element:s,padding:i}).fn(n):{}}}},AN=(t,e)=>({...EN(t),options:[t,e]}),IN=(t,e)=>({...ON(t),options:[t,e]}),MN=(t,e)=>({...BN(t),options:[t,e]}),LN=(t,e)=>({...jN(t),options:[t,e]}),FN=(t,e)=>({...TN(t),options:[t,e]}),$N=(t,e)=>({...VN(t),options:[t,e]}),zN=(t,e)=>({...RN(t),options:[t,e]});var UN="Arrow",gm=d.forwardRef((t,e)=>{const{children:n,width:s=10,height:i=5,...r}=t;return C.jsx(de.svg,{...r,ref:e,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:C.jsx("polygon",{points:"0,0 30,0 15,10"})})});gm.displayName=UN;var WN=gm;function HN(t){const[e,n]=d.useState(void 0);return We(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const r=i[0];let a,l;if("borderBoxSize"in r){const u=r.borderBoxSize,c=Array.isArray(u)?u[0]:u;a=c.inlineSize,l=c.blockSize}else a=t.offsetWidth,l=t.offsetHeight;n({width:a,height:l})});return s.observe(t,{box:"border-box"}),()=>s.unobserve(t)}else n(void 0)},[t]),e}var ro="Popper",[xm,ts]=wn(ro),[qN,bm]=xm(ro),Nm=t=>{const{__scopePopper:e,children:n}=t,[s,i]=d.useState(null);return C.jsx(qN,{scope:e,anchor:s,onAnchorChange:i,children:n})};Nm.displayName=ro;var vm="PopperAnchor",ym=d.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:s,...i}=t,r=bm(vm,n),a=d.useRef(null),l=we(e,a);return d.useEffect(()=>{r.onAnchorChange((s==null?void 0:s.current)||a.current)}),s?null:C.jsx(de.div,{...i,ref:l})});ym.displayName=vm;var oo="PopperContent",[ZN,KN]=xm(oo),_m=d.forwardRef((t,e)=>{var Q,_e,ke,be,De,Ne;const{__scopePopper:n,side:s="bottom",sideOffset:i=0,align:r="center",alignOffset:a=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:c=[],collisionPadding:m=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:b="optimized",onPlaced:v,...h}=t,x=bm(oo,n),[y,p]=d.useState(null),_=we(e,qe=>p(qe)),[S,E]=d.useState(null),P=HN(S),w=(P==null?void 0:P.width)??0,L=(P==null?void 0:P.height)??0,Z=s+(r!=="center"?"-"+r:""),Y=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},k=Array.isArray(c)?c:[c],T=k.length>0,O={padding:Y,boundary:k.filter(QN),altBoundary:T},{refs:B,floatingStyles:U,placement:z,isPositioned:K,middlewareData:M}=kN({strategy:"fixed",placement:Z,whileElementsMounted:(...qe)=>CN(...qe,{animationFrame:b==="always"}),elements:{reference:x.anchor},middleware:[AN({mainAxis:i+L,alignmentAxis:a}),u&&IN({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?MN():void 0,...O}),u&&LN({...O}),FN({...O,apply:({elements:qe,rects:dt,availableWidth:Dt,availableHeight:pt})=>{const{width:zt,height:zs}=dt.reference,Bt=qe.floating.style;Bt.setProperty("--radix-popper-available-width",`${Dt}px`),Bt.setProperty("--radix-popper-available-height",`${pt}px`),Bt.setProperty("--radix-popper-anchor-width",`${zt}px`),Bt.setProperty("--radix-popper-anchor-height",`${zs}px`)}}),S&&zN({element:S,padding:l}),XN({arrowWidth:w,arrowHeight:L}),g&&$N({strategy:"referenceHidden",...O})]}),[j,H]=wm(z),q=ut(v);We(()=>{K&&(q==null||q())},[K,q]);const J=(Q=M.arrow)==null?void 0:Q.x,ae=(_e=M.arrow)==null?void 0:_e.y,me=((ke=M.arrow)==null?void 0:ke.centerOffset)!==0,[Ve,Ae]=d.useState();return We(()=>{y&&Ae(window.getComputedStyle(y).zIndex)},[y]),C.jsx("div",{ref:B.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:K?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ve,"--radix-popper-transform-origin":[(be=M.transformOrigin)==null?void 0:be.x,(De=M.transformOrigin)==null?void 0:De.y].join(" "),...((Ne=M.hide)==null?void 0:Ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:C.jsx(ZN,{scope:n,placedSide:j,onArrowChange:E,arrowX:J,arrowY:ae,shouldHideArrow:me,children:C.jsx(de.div,{"data-side":j,"data-align":H,...h,ref:_,style:{...h.style,animation:K?void 0:"none"}})})})});_m.displayName=oo;var Dm="PopperArrow",GN={top:"bottom",right:"left",bottom:"top",left:"right"},Sm=d.forwardRef(function(e,n){const{__scopePopper:s,...i}=e,r=KN(Dm,s),a=GN[r.placedSide];return C.jsx("span",{ref:r.onArrowChange,style:{position:"absolute",left:r.arrowX,top:r.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[r.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[r.placedSide],visibility:r.shouldHideArrow?"hidden":void 0},children:C.jsx(WN,{...i,ref:n,style:{...i.style,display:"block"}})})});Sm.displayName=Dm;function QN(t){return t!==null}var XN=t=>({name:"transformOrigin",options:t,fn(e){var x,y,p;const{placement:n,rects:s,middlewareData:i}=e,a=((x=i.arrow)==null?void 0:x.centerOffset)!==0,l=a?0:t.arrowWidth,u=a?0:t.arrowHeight,[c,m]=wm(n),f={start:"0%",center:"50%",end:"100%"}[m],g=(((y=i.arrow)==null?void 0:y.x)??0)+l/2,b=(((p=i.arrow)==null?void 0:p.y)??0)+u/2;let v="",h="";return c==="bottom"?(v=a?f:`${g}px`,h=`${-u}px`):c==="top"?(v=a?f:`${g}px`,h=`${s.floating.height+u}px`):c==="right"?(v=`${-u}px`,h=a?f:`${b}px`):c==="left"&&(v=`${s.floating.width+u}px`,h=a?f:`${b}px`),{data:{x:v,y:h}}}});function wm(t){const[e,n="center"]=t.split("-");return[e,n]}var Cm=Nm,Ii=ym,ao=_m,lo=Sm,[Mi,lS]=wn("Tooltip",[ts]),co=ts(),Em="TooltipProvider",YN=700,ia="tooltip.open",[JN,Om]=Mi(Em),jm=t=>{const{__scopeTooltip:e,delayDuration:n=YN,skipDelayDuration:s=300,disableHoverableContent:i=!1,children:r}=t,a=d.useRef(!0),l=d.useRef(!1),u=d.useRef(0);return d.useEffect(()=>{const c=u.current;return()=>window.clearTimeout(c)},[]),C.jsx(JN,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:d.useCallback(()=>{window.clearTimeout(u.current),a.current=!1},[]),onClose:d.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a.current=!0,s)},[s]),isPointerInTransitRef:l,onPointerInTransitChange:d.useCallback(c=>{l.current=c},[]),disableHoverableContent:i,children:r})};jm.displayName=Em;var Tm="Tooltip",[cS,Li]=Mi(Tm),Pr="TooltipTrigger",ev=d.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,i=Li(Pr,n),r=Om(Pr,n),a=co(n),l=d.useRef(null),u=we(e,l,i.onTriggerChange),c=d.useRef(!1),m=d.useRef(!1),f=d.useCallback(()=>c.current=!1,[]);return d.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),C.jsx(Ii,{asChild:!0,...a,children:C.jsx(de.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...s,ref:u,onPointerMove:ne(t.onPointerMove,g=>{g.pointerType!=="touch"&&!m.current&&!r.isPointerInTransitRef.current&&(i.onTriggerEnter(),m.current=!0)}),onPointerLeave:ne(t.onPointerLeave,()=>{i.onTriggerLeave(),m.current=!1}),onPointerDown:ne(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ne(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:ne(t.onBlur,i.onClose),onClick:ne(t.onClick,i.onClose)})})});ev.displayName=Pr;var tv="TooltipPortal",[uS,nv]=Mi(tv,{forceMount:void 0}),Un="TooltipContent",Vm=d.forwardRef((t,e)=>{const n=nv(Un,t.__scopeTooltip),{forceMount:s=n.forceMount,side:i="top",...r}=t,a=Li(Un,t.__scopeTooltip);return C.jsx(en,{present:s||a.open,children:a.disableHoverableContent?C.jsx(Bm,{side:i,...r,ref:e}):C.jsx(sv,{side:i,...r,ref:e})})}),sv=d.forwardRef((t,e)=>{const n=Li(Un,t.__scopeTooltip),s=Om(Un,t.__scopeTooltip),i=d.useRef(null),r=we(e,i),[a,l]=d.useState(null),{trigger:u,onClose:c}=n,m=i.current,{onPointerInTransitChange:f}=s,g=d.useCallback(()=>{l(null),f(!1)},[f]),b=d.useCallback((v,h)=>{const x=v.currentTarget,y={x:v.clientX,y:v.clientY},p=lv(y,x.getBoundingClientRect()),_=cv(y,p),S=uv(h.getBoundingClientRect()),E=mv([..._,...S]);l(E),f(!0)},[f]);return d.useEffect(()=>()=>g(),[g]),d.useEffect(()=>{if(u&&m){const v=x=>b(x,m),h=x=>b(x,u);return u.addEventListener("pointerleave",v),m.addEventListener("pointerleave",h),()=>{u.removeEventListener("pointerleave",v),m.removeEventListener("pointerleave",h)}}},[u,m,b,g]),d.useEffect(()=>{if(a){const v=h=>{const x=h.target,y={x:h.clientX,y:h.clientY},p=(u==null?void 0:u.contains(x))||(m==null?void 0:m.contains(x)),_=!dv(y,a);p?g():_&&(g(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[u,m,a,c,g]),C.jsx(Bm,{...t,ref:r})}),[iv,rv]=Mi(Tm,{isInside:!1}),ov=Dx("TooltipContent"),Bm=d.forwardRef((t,e)=>{const{__scopeTooltip:n,children:s,"aria-label":i,onEscapeKeyDown:r,onPointerDownOutside:a,...l}=t,u=Li(Un,n),c=co(n),{onClose:m}=u;return d.useEffect(()=>(document.addEventListener(ia,m),()=>document.removeEventListener(ia,m)),[m]),d.useEffect(()=>{if(u.trigger){const f=g=>{const b=g.target;b!=null&&b.contains(u.trigger)&&m()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[u.trigger,m]),C.jsx(Xn,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:f=>f.preventDefault(),onDismiss:m,children:C.jsxs(ao,{"data-state":u.stateAttribute,...c,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[C.jsx(ov,{children:s}),C.jsx(iv,{scope:n,isInside:!0,children:C.jsx(Ux,{id:u.contentId,role:"tooltip",children:i||s})})]})})});Vm.displayName=Un;var Pm="TooltipArrow",av=d.forwardRef((t,e)=>{const{__scopeTooltip:n,...s}=t,i=co(n);return rv(Pm,n).isInside?null:C.jsx(lo,{...i,...s,ref:e})});av.displayName=Pm;function lv(t,e){const n=Math.abs(e.top-t.y),s=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),r=Math.abs(e.left-t.x);switch(Math.min(n,s,i,r)){case r:return"left";case i:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function cv(t,e,n=5){const s=[];switch(e){case"top":s.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":s.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":s.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":s.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return s}function uv(t){const{top:e,right:n,bottom:s,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:s},{x:i,y:s}]}function dv(t,e){const{x:n,y:s}=t;let i=!1;for(let r=0,a=e.length-1;r<e.length;a=r++){const l=e[r].x,u=e[r].y,c=e[a].x,m=e[a].y;u>s!=m>s&&n<(c-l)*(s-u)/(m-u)+l&&(i=!i)}return i}function mv(t){const e=t.slice();return e.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),fv(e)}function fv(t){if(t.length<=1)return t.slice();const e=[];for(let s=0;s<t.length;s++){const i=t[s];for(;e.length>=2;){const r=e[e.length-1],a=e[e.length-2];if((r.x-a.x)*(i.y-a.y)>=(r.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let s=t.length-1;s>=0;s--){const i=t[s];for(;n.length>=2;){const r=n[n.length-1],a=n[n.length-2];if((r.x-a.x)*(i.y-a.y)>=(r.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var hv=jm,km=Vm;const pv=hv,gv=d.forwardRef(({className:t,sideOffset:e=4,...n},s)=>o.jsxDEV(km,{ref:s,sideOffset:e,className:se("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/tooltip.tsx",lineNumber:18,columnNumber:3},void 0));gv.displayName=km.displayName;const Rm=d.createContext(null);function xv({children:t}){const{toast:e}=$t(),{data:n,error:s,isLoading:i}=It({queryKey:["/api/user"],queryFn:vd({on401:"returnNull"})}),r=et({mutationFn:async c=>await(await $e("POST","/api/login",c)).json(),onSuccess:async c=>{const m=c;Fe.setQueryData(["/api/user"],m),e({title:"Login successful",description:`Welcome, ${m.username}!`});try{c!=null&&c.token&&localStorage.setItem("uploadToken",c.token)}catch{}},onError:c=>{e({title:"Login failed",description:c.message,variant:"destructive"})}}),a=et({mutationFn:async c=>await(await $e("POST","/api/admin/login",c)).json(),onSuccess:c=>{Fe.setQueryData(["/api/user"],c),e({title:"Admin login successful",description:"Access granted to admin panel"})},onError:c=>{e({title:"Admin login failed",description:c.message,variant:"destructive"})}}),l=et({mutationFn:async c=>await(await $e("POST","/api/admin/audio-access",c)).json(),onSuccess:()=>{e({title:"Audio access granted",description:"Access to audio monitoring panel enabled"})},onError:c=>{e({title:"Audio access denied",description:c.message,variant:"destructive"})}}),u=et({mutationFn:async()=>{await $e("POST","/api/logout")},onSuccess:()=>{Fe.setQueryData(["/api/user"],null);try{localStorage.removeItem("uploadToken")}catch{}e({title:"Logged out",description:"You have been successfully logged out"})},onError:c=>{e({title:"Logout failed",description:c.message,variant:"destructive"})}});return o.jsxDEV(Rm.Provider,{value:{user:n??null,isLoading:i,error:s,loginMutation:r,logoutMutation:u,adminLoginMutation:a,audioAccessMutation:l},children:t},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/hooks/use-auth.tsx",lineNumber:136,columnNumber:5},this)}function Vt(){const t=d.useContext(Rm);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}function an({path:t,component:e,requireRole:n}){const{user:s,isLoading:i}=Vt();return i?o.jsxDEV(cn,{path:t,children:o.jsxDEV("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:o.jsxDEV(je,{className:"h-8 w-8 animate-spin text-primary"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/lib/protected-route.tsx",lineNumber:20,columnNumber:11},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/lib/protected-route.tsx",lineNumber:19,columnNumber:9},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/lib/protected-route.tsx",lineNumber:18,columnNumber:7},this):s?o.jsxDEV(cn,{path:t,component:e},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/lib/protected-route.tsx",lineNumber:34,columnNumber:10},this):o.jsxDEV(cn,{path:t,children:o.jsxDEV(ai,{to:n==="admin"?"/admin-login":"/auth"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/lib/protected-route.tsx",lineNumber:29,columnNumber:9},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/lib/protected-route.tsx",lineNumber:28,columnNumber:7},this)}const he=d.forwardRef(({className:t,...e},n)=>o.jsxDEV("div",{ref:n,className:se("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/card.tsx",lineNumber:9,columnNumber:3},void 0));he.displayName="Card";const ze=d.forwardRef(({className:t,...e},n)=>o.jsxDEV("div",{ref:n,className:se("flex flex-col space-y-1.5 p-6",t),...e},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/card.tsx",lineNumber:24,columnNumber:3},void 0));ze.displayName="CardHeader";const Ue=d.forwardRef(({className:t,...e},n)=>o.jsxDEV("div",{ref:n,className:se("text-2xl font-semibold leading-none tracking-tight",t),...e},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/card.tsx",lineNumber:36,columnNumber:3},void 0));Ue.displayName="CardTitle";const bv=d.forwardRef(({className:t,...e},n)=>o.jsxDEV("div",{ref:n,className:se("text-sm text-muted-foreground",t),...e},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/card.tsx",lineNumber:51,columnNumber:3},void 0));bv.displayName="CardDescription";const pe=d.forwardRef(({className:t,...e},n)=>o.jsxDEV("div",{ref:n,className:se("p-6 pt-0",t),...e},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/card.tsx",lineNumber:63,columnNumber:3},void 0));pe.displayName="CardContent";const Nv=d.forwardRef(({className:t,...e},n)=>o.jsxDEV("div",{ref:n,className:se("flex items-center p-6 pt-0",t),...e},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/card.tsx",lineNumber:71,columnNumber:3},void 0));Nv.displayName="CardFooter";function vv(){return o.jsxDEV("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:o.jsxDEV(he,{className:"w-full max-w-md mx-4",children:o.jsxDEV(pe,{className:"pt-6",children:[o.jsxDEV("div",{className:"flex mb-4 gap-2",children:[o.jsxDEV(fd,{className:"h-8 w-8 text-red-500"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/not-found.tsx",lineNumber:10,columnNumber:13},this),o.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/not-found.tsx",lineNumber:11,columnNumber:13},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/not-found.tsx",lineNumber:9,columnNumber:11},this),o.jsxDEV("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/not-found.tsx",lineNumber:14,columnNumber:11},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/not-found.tsx",lineNumber:8,columnNumber:9},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/not-found.tsx",lineNumber:7,columnNumber:7},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/not-found.tsx",lineNumber:6,columnNumber:5},this)}const yv=Pi("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),te=d.forwardRef(({className:t,variant:e,size:n,asChild:s=!1,...i},r)=>{const a=s?_d:"button";return o.jsxDEV(a,{className:se(yv({variant:e,size:n,className:t})),ref:r,...i},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/button.tsx",lineNumber:46,columnNumber:7},void 0)});te.displayName="Button";var _v="Label",Am=d.forwardRef((t,e)=>C.jsx(de.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Am.displayName=_v;var Im=Am;const Dv=Pi("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Mm=d.forwardRef(({className:t,...e},n)=>o.jsxDEV(Im,{ref:n,className:se(Dv(),t),...e},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/label.tsx",lineNumber:16,columnNumber:3},void 0));Mm.displayName=Im.displayName;const xs=zg,Lm=d.createContext({}),tt=({...t})=>o.jsxDEV(Lm.Provider,{value:{name:t.name},children:o.jsxDEV(Ug,{...t},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/form.tsx",lineNumber:39,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/form.tsx",lineNumber:38,columnNumber:5},void 0),Fi=()=>{const t=d.useContext(Lm),e=d.useContext(Fm),{getFieldState:n,formState:s}=$g(),i=n(t.name,s);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:r}=e;return{id:r,name:t.name,formItemId:`${r}-form-item`,formDescriptionId:`${r}-form-item-description`,formMessageId:`${r}-form-item-message`,...i}},Fm=d.createContext({}),Qe=d.forwardRef(({className:t,...e},n)=>{const s=d.useId();return o.jsxDEV(Fm.Provider,{value:{id:s},children:o.jsxDEV("div",{ref:n,className:se("space-y-2",t),...e},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/form.tsx",lineNumber:83,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/form.tsx",lineNumber:82,columnNumber:5},void 0)});Qe.displayName="FormItem";const nt=d.forwardRef(({className:t,...e},n)=>{const{error:s,formItemId:i}=Fi();return o.jsxDEV(Mm,{ref:n,className:se(s&&"text-destructive",t),htmlFor:i,...e},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/form.tsx",lineNumber:96,columnNumber:5},void 0)});nt.displayName="FormLabel";const Xe=d.forwardRef(({...t},e)=>{const{error:n,formItemId:s,formDescriptionId:i,formMessageId:r}=Fi();return o.jsxDEV(_d,{ref:e,id:s,"aria-describedby":n?`${i} ${r}`:`${i}`,"aria-invalid":!!n,...t},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/form.tsx",lineNumber:113,columnNumber:5},void 0)});Xe.displayName="FormControl";const Sv=d.forwardRef(({className:t,...e},n)=>{const{formDescriptionId:s}=Fi();return o.jsxDEV("p",{ref:n,id:s,className:se("text-sm text-muted-foreground",t),...e},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/form.tsx",lineNumber:135,columnNumber:5},void 0)});Sv.displayName="FormDescription";const Ye=d.forwardRef(({className:t,children:e,...n},s)=>{const{error:i,formMessageId:r}=Fi(),a=i?String((i==null?void 0:i.message)??""):e;return a?o.jsxDEV("p",{ref:s,id:r,className:se("text-sm font-medium text-destructive",t),...n,children:a},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/form.tsx",lineNumber:157,columnNumber:5},void 0):null});Ye.displayName="FormMessage";const ot=d.forwardRef(({className:t,type:e,...n},s)=>o.jsxDEV("input",{type:e,className:se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:s,...n},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/input.tsx",lineNumber:8,columnNumber:7},void 0));ot.displayName="Input";const ra=(t,e,n)=>{if(t&&"reportValidity"in t){const s=yr(n,e);t.setCustomValidity(s&&s.message||""),t.reportValidity()}},$m=(t,e)=>{for(const n in e.fields){const s=e.fields[n];s&&s.ref&&"reportValidity"in s.ref?ra(s.ref,n,t):s.refs&&s.refs.forEach(i=>ra(i,n,t))}},wv=(t,e)=>{e.shouldUseNativeValidation&&$m(t,e);const n={};for(const s in t){const i=yr(e.fields,s),r=Object.assign(t[s]||{},{ref:i&&i.ref});if(Cv(e.names||Object.keys(t),s)){const a=Object.assign({},yr(n,s));er(a,"root",r),er(n,s,a)}else er(n,s,r)}return n},Cv=(t,e)=>t.some(n=>n.startsWith(e+"."));var Ev=function(t,e){for(var n={};t.length;){var s=t[0],i=s.code,r=s.message,a=s.path.join(".");if(!n[a])if("unionErrors"in s){var l=s.unionErrors[0].errors[0];n[a]={message:l.message,type:l.code}}else n[a]={message:r,type:i};if("unionErrors"in s&&s.unionErrors.forEach(function(m){return m.errors.forEach(function(f){return t.push(f)})}),e){var u=n[a].types,c=u&&u[s.code];n[a]=Wg(a,e,n,i,c?[].concat(c,s.message):s.message)}t.shift()}return n},bs=function(t,e,n){return n===void 0&&(n={}),function(s,i,r){try{return Promise.resolve((function(a,l){try{var u=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](s,e)).then(function(c){return r.shouldUseNativeValidation&&$m({},r),{errors:{},values:n.raw?s:c}})}catch(c){return l(c)}return u&&u.then?u.then(void 0,l):u})(0,function(a){if((function(l){return Array.isArray(l==null?void 0:l.errors)})(a))return{values:{},errors:wv(Ev(a.errors,!r.shouldUseNativeValidation&&r.criteriaMode==="all"),r)};throw a}))}catch(a){return Promise.reject(a)}}};const V=Symbol.for("drizzle:entityKind");function Le(t,e){if(!t||typeof t!="object")return!1;if(t instanceof e)return!0;if(!Object.prototype.hasOwnProperty.call(e,V))throw new Error(`Class "${e.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(t).constructor;if(n)for(;n;){if(V in n&&n[V]===e[V])return!0;n=Object.getPrototypeOf(n)}return!1}var Ta;Ta=V;class Wn{constructor(e,n){D(this,"name");D(this,"keyAsName");D(this,"primary");D(this,"notNull");D(this,"default");D(this,"defaultFn");D(this,"onUpdateFn");D(this,"hasDefault");D(this,"isUnique");D(this,"uniqueName");D(this,"uniqueType");D(this,"dataType");D(this,"columnType");D(this,"enumValues");D(this,"generated");D(this,"generatedIdentity");D(this,"config");this.table=e,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}D(Wn,Ta,"Column");var Va;Va=V;class zm{constructor(e,n,s){D(this,"config");D(this,"$default",this.$defaultFn);D(this,"$onUpdate",this.$onUpdateFn);this.config={name:e,keyAsName:e==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:s,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){this.config.name===""&&(this.config.name=e)}}D(zm,Va,"ColumnBuilder");const An=Symbol.for("drizzle:Name");var Ba;Ba=V;class Um{constructor(e,n){D(this,"reference");D(this,"_onUpdate","no action");D(this,"_onDelete","no action");this.reference=()=>{const{name:s,columns:i,foreignColumns:r}=e();return{name:s,columns:i,foreignTable:r[0].table,foreignColumns:r}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(e){return this._onUpdate=e===void 0?"no action":e,this}onDelete(e){return this._onDelete=e===void 0?"no action":e,this}build(e){return new Wm(e,this)}}D(Um,Ba,"PgForeignKeyBuilder");var Pa;Pa=V;class Wm{constructor(e,n){D(this,"reference");D(this,"onUpdate");D(this,"onDelete");this.table=e,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}getName(){const{name:e,columns:n,foreignColumns:s}=this.reference(),i=n.map(l=>l.name),r=s.map(l=>l.name),a=[this.table[An],...i,s[0].table[An],...r];return e??`${a.join("_")}_fk`}}D(Wm,Pa,"PgForeignKey");function Ov(t,...e){return t(...e)}function jv(t,e){return`${t[An]}_${e.join("_")}_unique`}function oa(t,e,n){for(let s=e;s<t.length;s++){const i=t[s];if(i==="\\"){s++;continue}if(i==='"')return[t.slice(e,s).replace(/\\/g,""),s+1];if(!n&&(i===","||i==="}"))return[t.slice(e,s).replace(/\\/g,""),s]}return[t.slice(e).replace(/\\/g,""),t.length]}function Hm(t,e=0){const n=[];let s=e,i=!1;for(;s<t.length;){const r=t[s];if(r===","){(i||s===e)&&n.push(""),i=!0,s++;continue}if(i=!1,r==="\\"){s+=2;continue}if(r==='"'){const[u,c]=oa(t,s+1,!0);n.push(u),s=c;continue}if(r==="}")return[n,s+1];if(r==="{"){const[u,c]=Hm(t,s+1);n.push(u),s=c;continue}const[a,l]=oa(t,s,!1);n.push(a),s=l}return[n,s]}function Tv(t){const[e]=Hm(t,1);return e}function qm(t){return`{${t.map(e=>Array.isArray(e)?qm(e):typeof e=="string"?`"${e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${e}`).join(",")}}`}var ka,Ra;class xe extends(Ra=zm,ka=V,Ra){constructor(){super(...arguments);D(this,"foreignKeyConfigs",[])}array(n){return new Km(this.config.name,this,n)}references(n,s={}){return this.foreignKeyConfigs.push({ref:n,actions:s}),this}unique(n,s){return this.config.isUnique=!0,this.config.uniqueName=n,this.config.uniqueType=s==null?void 0:s.nulls,this}generatedAlwaysAs(n){return this.config.generated={as:n,type:"always",mode:"stored"},this}buildForeignKeys(n,s){return this.foreignKeyConfigs.map(({ref:i,actions:r})=>Ov((a,l)=>{const u=new Um(()=>{const c=a();return{columns:[n],foreignColumns:[c]}});return l.onUpdate&&u.onUpdate(l.onUpdate),l.onDelete&&u.onDelete(l.onDelete),u.build(s)},i,r))}buildExtraConfigColumn(n){return new Zm(n,this.config)}}D(xe,ka,"PgColumnBuilder");var Aa,Ia;class re extends(Ia=Wn,Aa=V,Ia){constructor(e,n){n.uniqueName||(n.uniqueName=jv(e,[n.name])),super(e,n),this.table=e}}D(re,Aa,"PgColumn");var Ma,La;class Zm extends(La=re,Ma=V,La){constructor(){super(...arguments);D(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});D(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(n){return this.indexConfig.opClass=n,this}}D(Zm,Ma,"ExtraConfigColumn");var Fa,$a;class Km extends($a=xe,Fa=V,$a){constructor(e,n,s){super(e,"array","PgArray"),this.config.baseBuilder=n,this.config.size=s}build(e){const n=this.config.baseBuilder.build(e);return new kr(e,this.config,n)}}D(Km,Fa,"PgArrayBuilder");var za,Ua;const ji=class ji extends(Ua=re,za=V,Ua){constructor(n,s,i,r){super(n,s);D(this,"size");this.baseColumn=i,this.range=r,this.size=s.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(n){return typeof n=="string"&&(n=Tv(n)),n.map(s=>this.baseColumn.mapFromDriverValue(s))}mapToDriverValue(n,s=!1){const i=n.map(r=>r===null?null:Le(this.baseColumn,ji)?this.baseColumn.mapToDriverValue(r,!0):this.baseColumn.mapToDriverValue(r));return s?i:qm(i)}};D(ji,za,"PgArray");let kr=ji;const aa=Symbol.for("drizzle:isPgEnum");function Vv(t){return!!t&&typeof t=="function"&&aa in t&&t[aa]===!0}var Wa;Wa=V;class uo{constructor(e,n,s,i=!1){this._={brand:"Subquery",sql:e,selectedFields:n,alias:s,isWith:i}}}D(uo,Wa,"Subquery");const Bv={startActiveSpan(t,e){return e()}},In=Symbol.for("drizzle:ViewBaseConfig"),lr=Symbol.for("drizzle:Schema"),la=Symbol.for("drizzle:Columns"),ca=Symbol.for("drizzle:ExtraConfigColumns"),cr=Symbol.for("drizzle:OriginalName"),ur=Symbol.for("drizzle:BaseName"),fi=Symbol.for("drizzle:IsAlias"),ua=Symbol.for("drizzle:ExtraConfigBuilder"),Gm=Symbol.for("drizzle:IsDrizzleTable");var Ha,qa,Za,Ka,Ga,Qa,Xa,Ya,Ja,el,Js;let rt=(el=V,Ja=An,Ya=cr,Xa=lr,Qa=la,Ga=ca,Ka=ur,Za=fi,qa=Gm,Ha=ua,Js=class{constructor(e,n,s){D(this,Ja);D(this,Ya);D(this,Xa);D(this,Qa);D(this,Ga);D(this,Ka);D(this,Za,!1);D(this,qa,!0);D(this,Ha);this[An]=this[cr]=e,this[lr]=n,this[ur]=s}},D(Js,el,"Table"),D(Js,"Symbol",{Name:An,Schema:lr,OriginalName:cr,Columns:la,ExtraConfigColumns:ca,BaseName:ur,IsAlias:fi,ExtraConfigBuilder:ua}),Js);function Qm(t){return typeof t=="object"&&t!==null&&Gm in t}function Pv(t){return t!=null&&typeof t.getSQL=="function"}function kv(t){var n;const e={sql:"",params:[]};for(const s of t)e.sql+=s.sql,e.params.push(...s.params),(n=s.typings)!=null&&n.length&&(e.typings||(e.typings=[]),e.typings.push(...s.typings));return e}var tl;tl=V;class ft{constructor(e){D(this,"value");this.value=Array.isArray(e)?e:[e]}getSQL(){return new Ie([this])}}D(ft,tl,"StringChunk");var nl;nl=V;const ln=class ln{constructor(e){D(this,"decoder",Xm);D(this,"shouldInlineParams",!1);this.queryChunks=e}append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return Bv.startActiveSpan("drizzle.buildSQL",n=>{const s=this.buildQueryFromSourceParams(this.queryChunks,e);return n==null||n.setAttributes({"drizzle.query.text":s.sql,"drizzle.query.params":JSON.stringify(s.params)}),s})}buildQueryFromSourceParams(e,n){const s=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:i,escapeName:r,escapeParam:a,prepareTyping:l,inlineParams:u,paramStartIndex:c}=s;return kv(e.map(m=>{var f;if(Le(m,ft))return{sql:m.value.join(""),params:[]};if(Le(m,hi))return{sql:r(m.value),params:[]};if(m===void 0)return{sql:"",params:[]};if(Array.isArray(m)){const g=[new ft("(")];for(const[b,v]of m.entries())g.push(v),b<m.length-1&&g.push(new ft(", "));return g.push(new ft(")")),this.buildQueryFromSourceParams(g,s)}if(Le(m,ln))return this.buildQueryFromSourceParams(m.queryChunks,{...s,inlineParams:u||m.shouldInlineParams});if(Le(m,rt)){const g=m[rt.Symbol.Schema],b=m[rt.Symbol.Name];return{sql:g===void 0||m[fi]?r(b):r(g)+"."+r(b),params:[]}}if(Le(m,Wn)){const g=i.getColumnCasing(m);if(n.invokeSource==="indexes")return{sql:r(g),params:[]};const b=m.table[rt.Symbol.Schema];return{sql:m.table[fi]||b===void 0?r(m.table[rt.Symbol.Name])+"."+r(g):r(b)+"."+r(m.table[rt.Symbol.Name])+"."+r(g),params:[]}}if(Le(m,ef)){const g=m[In].schema,b=m[In].name;return{sql:g===void 0||m[In].isAlias?r(b):r(g)+"."+r(b),params:[]}}if(Le(m,mo)){if(Le(m.value,pi))return{sql:a(c.value++,m),params:[m],typings:["none"]};const g=m.value===null?null:m.encoder.mapToDriverValue(m.value);if(Le(g,ln))return this.buildQueryFromSourceParams([g],s);if(u)return{sql:this.mapInlineParam(g,s),params:[]};let b=["none"];return l&&(b=[l(m.encoder)]),{sql:a(c.value++,g),params:[g],typings:b}}return Le(m,pi)?{sql:a(c.value++,m),params:[m],typings:["none"]}:Le(m,ln.Aliased)&&m.fieldAlias!==void 0?{sql:r(m.fieldAlias),params:[]}:Le(m,uo)?m._.isWith?{sql:r(m._.alias),params:[]}:this.buildQueryFromSourceParams([new ft("("),m._.sql,new ft(") "),new hi(m._.alias)],s):Vv(m)?m.schema?{sql:r(m.schema)+"."+r(m.enumName),params:[]}:{sql:r(m.enumName),params:[]}:Pv(m)?(f=m.shouldOmitSQLParens)!=null&&f.call(m)?this.buildQueryFromSourceParams([m.getSQL()],s):this.buildQueryFromSourceParams([new ft("("),m.getSQL(),new ft(")")],s):u?{sql:this.mapInlineParam(m,s),params:[]}:{sql:a(c.value++,m),params:[m],typings:["none"]}}))}mapInlineParam(e,{escapeString:n}){if(e===null)return"null";if(typeof e=="number"||typeof e=="boolean")return e.toString();if(typeof e=="string")return n(e);if(typeof e=="object"){const s=e.toString();return n(s==="[object Object]"?JSON.stringify(e):s)}throw new Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return e===void 0?this:new ln.Aliased(this,e)}mapWith(e){return this.decoder=typeof e=="function"?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}};D(ln,nl,"SQL");let Ie=ln;var sl;sl=V;class hi{constructor(e){D(this,"brand");this.value=e}getSQL(){return new Ie([this])}}D(hi,sl,"Name");const Xm={mapFromDriverValue:t=>t},Ym={mapToDriverValue:t=>t};({...Xm,...Ym});var il;il=V;class mo{constructor(e,n=Ym){D(this,"brand");this.value=e,this.encoder=n}getSQL(){return new Ie([this])}}D(mo,il,"Param");function Nn(t,...e){const n=[];(e.length>0||t.length>0&&t[0]!=="")&&n.push(new ft(t[0]));for(const[s,i]of e.entries())n.push(i,new ft(t[s+1]));return new Ie(n)}(t=>{function e(){return new Ie([])}t.empty=e;function n(u){return new Ie(u)}t.fromList=n;function s(u){return new Ie([new ft(u)])}t.raw=s;function i(u,c){const m=[];for(const[f,g]of u.entries())f>0&&c!==void 0&&m.push(c),m.push(g);return new Ie(m)}t.join=i;function r(u){return new hi(u)}t.identifier=r;function a(u){return new pi(u)}t.placeholder=a;function l(u,c){return new mo(u,c)}t.param=l})(Nn||(Nn={}));(t=>{var n;n=V;const s=class s{constructor(r,a){D(this,"isSelectionField",!1);this.sql=r,this.fieldAlias=a}getSQL(){return this.sql}clone(){return new s(this.sql,this.fieldAlias)}};D(s,n,"SQL.Aliased");let e=s;t.Aliased=e})(Ie||(Ie={}));var rl;rl=V;class pi{constructor(e){this.name=e}getSQL(){return new Ie([this])}}D(pi,rl,"Placeholder");const Jm=Symbol.for("drizzle:IsDrizzleView");var ol,al,ll;ll=V,al=In,ol=Jm;class ef{constructor({name:e,schema:n,selectedFields:s,query:i}){D(this,al);D(this,ol,!0);this[In]={name:e,originalName:e,schema:n,selectedFields:s,query:i,isExisting:!i,isAlias:!1}}getSQL(){return new Ie([this])}}D(ef,ll,"View");function Rv(t){return typeof t=="object"&&t!==null&&Jm in t}Wn.prototype.getSQL=function(){return new Ie([this])};rt.prototype.getSQL=function(){return new Ie([this])};uo.prototype.getSQL=function(){return new Ie([this])};function Av(t){return t[rt.Symbol.Columns]}function Iv(t){return t[In].selectedFields}function Me(t,e){return{name:typeof t=="string"&&t.length>0?t:"",config:typeof t=="object"?t:e}}var cl,ul;class Rs extends(ul=xe,cl=V,ul){generatedAlwaysAsIdentity(e){if(e){const{name:n,...s}=e;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:s}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){const{name:n,...s}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:s}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}D(Rs,cl,"PgIntColumnBaseBuilder");var dl,ml;class tf extends(ml=Rs,dl=V,ml){constructor(e){super(e,"number","PgBigInt53")}build(e){return new nf(e,this.config)}}D(tf,dl,"PgBigInt53Builder");var fl,hl;class nf extends(hl=re,fl=V,hl){getSQLType(){return"bigint"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}D(nf,fl,"PgBigInt53");var pl,gl;class sf extends(gl=Rs,pl=V,gl){constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new rf(e,this.config)}}D(sf,pl,"PgBigInt64Builder");var xl,bl;class rf extends(bl=re,xl=V,bl){getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}D(rf,xl,"PgBigInt64");function Mv(t,e){const{name:n,config:s}=Me(t,e);return s.mode==="number"?new tf(n):new sf(n)}var Nl,vl;class of extends(vl=xe,Nl=V,vl){constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new af(e,this.config)}}D(of,Nl,"PgBigSerial53Builder");var yl,_l;class af extends(_l=re,yl=V,_l){getSQLType(){return"bigserial"}mapFromDriverValue(e){return typeof e=="number"?e:Number(e)}}D(af,yl,"PgBigSerial53");var Dl,Sl;class lf extends(Sl=xe,Dl=V,Sl){constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new cf(e,this.config)}}D(lf,Dl,"PgBigSerial64Builder");var wl,Cl;class cf extends(Cl=re,wl=V,Cl){getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}D(cf,wl,"PgBigSerial64");function Lv(t,e){const{name:n,config:s}=Me(t,e);return s.mode==="number"?new of(n):new lf(n)}var El,Ol;class uf extends(Ol=xe,El=V,Ol){constructor(e){super(e,"boolean","PgBoolean")}build(e){return new df(e,this.config)}}D(uf,El,"PgBooleanBuilder");var jl,Tl;class df extends(Tl=re,jl=V,Tl){getSQLType(){return"boolean"}}D(df,jl,"PgBoolean");function Hn(t){return new uf(t??"")}var Vl,Bl;class mf extends(Bl=xe,Vl=V,Bl){constructor(e,n){super(e,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new ff(e,this.config)}}D(mf,Vl,"PgCharBuilder");var Pl,kl;class ff extends(kl=re,Pl=V,kl){constructor(){super(...arguments);D(this,"length",this.config.length);D(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}D(ff,Pl,"PgChar");function Fv(t,e={}){const{name:n,config:s}=Me(t,e);return new mf(n,s)}var Rl,Al;class hf extends(Al=xe,Rl=V,Al){constructor(e){super(e,"string","PgCidr")}build(e){return new pf(e,this.config)}}D(hf,Rl,"PgCidrBuilder");var Il,Ml;class pf extends(Ml=re,Il=V,Ml){getSQLType(){return"cidr"}}D(pf,Il,"PgCidr");function $v(t){return new hf(t??"")}var Ll,Fl;class gf extends(Fl=xe,Ll=V,Fl){constructor(e,n,s){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=s}build(e){return new xf(e,this.config)}}D(gf,Ll,"PgCustomColumnBuilder");var $l,zl;class xf extends(zl=re,$l=V,zl){constructor(n,s){super(n,s);D(this,"sqlName");D(this,"mapTo");D(this,"mapFrom");this.sqlName=s.customTypeParams.dataType(s.fieldConfig),this.mapTo=s.customTypeParams.toDriver,this.mapFrom=s.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(n){return typeof this.mapFrom=="function"?this.mapFrom(n):n}mapToDriverValue(n){return typeof this.mapTo=="function"?this.mapTo(n):n}}D(xf,$l,"PgCustomColumn");function zv(t){return(e,n)=>{const{name:s,config:i}=Me(e,n);return new gf(s,i,t)}}var Ul,Wl;class ns extends(Wl=xe,Ul=V,Wl){defaultNow(){return this.default(Nn`now()`)}}D(ns,Ul,"PgDateColumnBaseBuilder");var Hl,ql;class bf extends(ql=ns,Hl=V,ql){constructor(e){super(e,"date","PgDate")}build(e){return new Nf(e,this.config)}}D(bf,Hl,"PgDateBuilder");var Zl,Kl;class Nf extends(Kl=re,Zl=V,Kl){getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}D(Nf,Zl,"PgDate");var Gl,Ql;class vf extends(Ql=ns,Gl=V,Ql){constructor(e){super(e,"string","PgDateString")}build(e){return new yf(e,this.config)}}D(vf,Gl,"PgDateStringBuilder");var Xl,Yl;class yf extends(Yl=re,Xl=V,Yl){getSQLType(){return"date"}}D(yf,Xl,"PgDateString");function Uv(t,e){const{name:n,config:s}=Me(t,e);return(s==null?void 0:s.mode)==="date"?new bf(n):new vf(n)}var Jl,ec;class _f extends(ec=xe,Jl=V,ec){constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new Df(e,this.config)}}D(_f,Jl,"PgDoublePrecisionBuilder");var tc,nc;class Df extends(nc=re,tc=V,nc){getSQLType(){return"double precision"}mapFromDriverValue(e){return typeof e=="string"?Number.parseFloat(e):e}}D(Df,tc,"PgDoublePrecision");function Wv(t){return new _f(t??"")}var sc,ic;class Sf extends(ic=xe,sc=V,ic){constructor(e){super(e,"string","PgInet")}build(e){return new wf(e,this.config)}}D(Sf,sc,"PgInetBuilder");var rc,oc;class wf extends(oc=re,rc=V,oc){getSQLType(){return"inet"}}D(wf,rc,"PgInet");function Hv(t){return new Sf(t??"")}var ac,lc;class Cf extends(lc=Rs,ac=V,lc){constructor(e){super(e,"number","PgInteger")}build(e){return new Ef(e,this.config)}}D(Cf,ac,"PgIntegerBuilder");var cc,uc;class Ef extends(uc=re,cc=V,uc){getSQLType(){return"integer"}mapFromDriverValue(e){return typeof e=="string"?Number.parseInt(e):e}}D(Ef,cc,"PgInteger");function Rr(t){return new Cf(t??"")}var dc,mc;class Of extends(mc=xe,dc=V,mc){constructor(e,n){super(e,"string","PgInterval"),this.config.intervalConfig=n}build(e){return new jf(e,this.config)}}D(Of,dc,"PgIntervalBuilder");var fc,hc;class jf extends(hc=re,fc=V,hc){constructor(){super(...arguments);D(this,"fields",this.config.intervalConfig.fields);D(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const n=this.fields?` ${this.fields}`:"",s=this.precision?`(${this.precision})`:"";return`interval${n}${s}`}}D(jf,fc,"PgInterval");function qv(t,e={}){const{name:n,config:s}=Me(t,e);return new Of(n,s)}var pc,gc;class Tf extends(gc=xe,pc=V,gc){constructor(e){super(e,"json","PgJson")}build(e){return new Vf(e,this.config)}}D(Tf,pc,"PgJsonBuilder");var xc,bc;class Vf extends(bc=re,xc=V,bc){constructor(e,n){super(e,n)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}D(Vf,xc,"PgJson");function Zv(t){return new Tf(t??"")}var Nc,vc;class Bf extends(vc=xe,Nc=V,vc){constructor(e){super(e,"json","PgJsonb")}build(e){return new Pf(e,this.config)}}D(Bf,Nc,"PgJsonbBuilder");var yc,_c;class Pf extends(_c=re,yc=V,_c){constructor(e,n){super(e,n)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e}}D(Pf,yc,"PgJsonb");function Kv(t){return new Bf(t??"")}var Dc,Sc;class kf extends(Sc=xe,Dc=V,Sc){constructor(e){super(e,"array","PgLine")}build(e){return new Rf(e,this.config)}}D(kf,Dc,"PgLineBuilder");var wc,Cc;class Rf extends(Cc=re,wc=V,Cc){getSQLType(){return"line"}mapFromDriverValue(e){const[n,s,i]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(s),Number.parseFloat(i)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}D(Rf,wc,"PgLine");var Ec,Oc;class Af extends(Oc=xe,Ec=V,Oc){constructor(e){super(e,"json","PgLineABC")}build(e){return new If(e,this.config)}}D(Af,Ec,"PgLineABCBuilder");var jc,Tc;class If extends(Tc=re,jc=V,Tc){getSQLType(){return"line"}mapFromDriverValue(e){const[n,s,i]=e.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(s),c:Number.parseFloat(i)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}D(If,jc,"PgLineABC");function Gv(t,e){const{name:n,config:s}=Me(t,e);return!(s!=null&&s.mode)||s.mode==="tuple"?new kf(n):new Af(n)}var Vc,Bc;class Mf extends(Bc=xe,Vc=V,Bc){constructor(e){super(e,"string","PgMacaddr")}build(e){return new Lf(e,this.config)}}D(Mf,Vc,"PgMacaddrBuilder");var Pc,kc;class Lf extends(kc=re,Pc=V,kc){getSQLType(){return"macaddr"}}D(Lf,Pc,"PgMacaddr");function Qv(t){return new Mf(t??"")}var Rc,Ac;class Ff extends(Ac=xe,Rc=V,Ac){constructor(e){super(e,"string","PgMacaddr8")}build(e){return new $f(e,this.config)}}D(Ff,Rc,"PgMacaddr8Builder");var Ic,Mc;class $f extends(Mc=re,Ic=V,Mc){getSQLType(){return"macaddr8"}}D($f,Ic,"PgMacaddr8");function Xv(t){return new Ff(t??"")}var Lc,Fc;class zf extends(Fc=xe,Lc=V,Fc){constructor(e,n,s){super(e,"string","PgNumeric"),this.config.precision=n,this.config.scale=s}build(e){return new Uf(e,this.config)}}D(zf,Lc,"PgNumericBuilder");var $c,zc;class Uf extends(zc=re,$c=V,zc){constructor(n,s){super(n,s);D(this,"precision");D(this,"scale");this.precision=s.precision,this.scale=s.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}D(Uf,$c,"PgNumeric");function Wf(t,e){const{name:n,config:s}=Me(t,e);return new zf(n,s==null?void 0:s.precision,s==null?void 0:s.scale)}const Yv=Wf;var Uc,Wc;class Hf extends(Wc=xe,Uc=V,Wc){constructor(e){super(e,"array","PgPointTuple")}build(e){return new qf(e,this.config)}}D(Hf,Uc,"PgPointTupleBuilder");var Hc,qc;class qf extends(qc=re,Hc=V,qc){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,s]=e.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(s)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}D(qf,Hc,"PgPointTuple");var Zc,Kc;class Zf extends(Kc=xe,Zc=V,Kc){constructor(e){super(e,"json","PgPointObject")}build(e){return new Kf(e,this.config)}}D(Zf,Zc,"PgPointObjectBuilder");var Gc,Qc;class Kf extends(Qc=re,Gc=V,Qc){getSQLType(){return"point"}mapFromDriverValue(e){if(typeof e=="string"){const[n,s]=e.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(s)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}D(Kf,Gc,"PgPointObject");function Jv(t,e){const{name:n,config:s}=Me(t,e);return!(s!=null&&s.mode)||s.mode==="tuple"?new Hf(n):new Zf(n)}function ey(t){const e=[];for(let n=0;n<t.length;n+=2)e.push(Number.parseInt(t.slice(n,n+2),16));return new Uint8Array(e)}function da(t,e){const n=new ArrayBuffer(8),s=new DataView(n);for(let i=0;i<8;i++)s.setUint8(i,t[e+i]);return s.getFloat64(0,!0)}function Gf(t){const e=ey(t);let n=0;const s=e[n];n+=1;const i=new DataView(e.buffer),r=i.getUint32(n,s===1);if(n+=4,r&536870912&&(i.getUint32(n,s===1),n+=4),(r&65535)===1){const a=da(e,n);n+=8;const l=da(e,n);return n+=8,[a,l]}throw new Error("Unsupported geometry type")}var Xc,Yc;class Qf extends(Yc=xe,Xc=V,Yc){constructor(e){super(e,"array","PgGeometry")}build(e){return new Xf(e,this.config)}}D(Qf,Xc,"PgGeometryBuilder");var Jc,eu;class Xf extends(eu=re,Jc=V,eu){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return Gf(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}D(Xf,Jc,"PgGeometry");var tu,nu;class Yf extends(nu=xe,tu=V,nu){constructor(e){super(e,"json","PgGeometryObject")}build(e){return new Jf(e,this.config)}}D(Yf,tu,"PgGeometryObjectBuilder");var su,iu;class Jf extends(iu=re,su=V,iu){getSQLType(){return"geometry(point)"}mapFromDriverValue(e){const n=Gf(e);return{x:n[0],y:n[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}D(Jf,su,"PgGeometryObject");function ty(t,e){const{name:n,config:s}=Me(t,e);return!(s!=null&&s.mode)||s.mode==="tuple"?new Qf(n):new Yf(n)}var ru,ou;class eh extends(ou=xe,ru=V,ou){constructor(e,n){super(e,"number","PgReal"),this.config.length=n}build(e){return new th(e,this.config)}}D(eh,ru,"PgRealBuilder");var au,lu;class th extends(lu=re,au=V,lu){constructor(n,s){super(n,s);D(this,"mapFromDriverValue",n=>typeof n=="string"?Number.parseFloat(n):n)}getSQLType(){return"real"}}D(th,au,"PgReal");function ny(t){return new eh(t??"")}var cu,uu;class nh extends(uu=xe,cu=V,uu){constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new sh(e,this.config)}}D(nh,cu,"PgSerialBuilder");var du,mu;class sh extends(mu=re,du=V,mu){getSQLType(){return"serial"}}D(sh,du,"PgSerial");function sy(t){return new nh(t??"")}var fu,hu;class ih extends(hu=Rs,fu=V,hu){constructor(e){super(e,"number","PgSmallInt")}build(e){return new rh(e,this.config)}}D(ih,fu,"PgSmallIntBuilder");var pu,gu;class rh extends(gu=re,pu=V,gu){constructor(){super(...arguments);D(this,"mapFromDriverValue",n=>typeof n=="string"?Number(n):n)}getSQLType(){return"smallint"}}D(rh,pu,"PgSmallInt");function iy(t){return new ih(t??"")}var xu,bu;class oh extends(bu=xe,xu=V,bu){constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new ah(e,this.config)}}D(oh,xu,"PgSmallSerialBuilder");var Nu,vu;class ah extends(vu=re,Nu=V,vu){getSQLType(){return"smallserial"}}D(ah,Nu,"PgSmallSerial");function ry(t){return new oh(t??"")}var yu,_u;class lh extends(_u=xe,yu=V,_u){constructor(e,n){super(e,"string","PgText"),this.config.enumValues=n.enum}build(e){return new ch(e,this.config)}}D(lh,yu,"PgTextBuilder");var Du,Su;class ch extends(Su=re,Du=V,Su){constructor(){super(...arguments);D(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}D(ch,Du,"PgText");function st(t,e={}){const{name:n,config:s}=Me(t,e);return new lh(n,s)}var wu,Cu;class uh extends(Cu=ns,wu=V,Cu){constructor(e,n,s){super(e,"string","PgTime"),this.withTimezone=n,this.precision=s,this.config.withTimezone=n,this.config.precision=s}build(e){return new dh(e,this.config)}}D(uh,wu,"PgTimeBuilder");var Eu,Ou;class dh extends(Ou=re,Eu=V,Ou){constructor(n,s){super(n,s);D(this,"withTimezone");D(this,"precision");this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}D(dh,Eu,"PgTime");function oy(t,e={}){const{name:n,config:s}=Me(t,e);return new uh(n,s.withTimezone??!1,s.precision)}var ju,Tu;class mh extends(Tu=ns,ju=V,Tu){constructor(e,n,s){super(e,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=s}build(e){return new fh(e,this.config)}}D(mh,ju,"PgTimestampBuilder");var Vu,Bu;class fh extends(Bu=re,Vu=V,Bu){constructor(n,s){super(n,s);D(this,"withTimezone");D(this,"precision");D(this,"mapFromDriverValue",n=>new Date(this.withTimezone?n:n+"+0000"));D(this,"mapToDriverValue",n=>n.toISOString());this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}D(fh,Vu,"PgTimestamp");var Pu,ku;class hh extends(ku=ns,Pu=V,ku){constructor(e,n,s){super(e,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=s}build(e){return new ph(e,this.config)}}D(hh,Pu,"PgTimestampStringBuilder");var Ru,Au;class ph extends(Au=re,Ru=V,Au){constructor(n,s){super(n,s);D(this,"withTimezone");D(this,"precision");this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}D(ph,Ru,"PgTimestampString");function mn(t,e={}){const{name:n,config:s}=Me(t,e);return(s==null?void 0:s.mode)==="string"?new hh(n,s.withTimezone??!1,s.precision):new mh(n,(s==null?void 0:s.withTimezone)??!1,s==null?void 0:s.precision)}var Iu,Mu;class gh extends(Mu=xe,Iu=V,Mu){constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(Nn`gen_random_uuid()`)}build(e){return new xh(e,this.config)}}D(gh,Iu,"PgUUIDBuilder");var Lu,Fu;class xh extends(Fu=re,Lu=V,Fu){getSQLType(){return"uuid"}}D(xh,Lu,"PgUUID");function ay(t){return new gh(t??"")}var $u,zu;class bh extends(zu=xe,$u=V,zu){constructor(e,n){super(e,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(e){return new Nh(e,this.config)}}D(bh,$u,"PgVarcharBuilder");var Uu,Wu;class Nh extends(Wu=re,Uu=V,Wu){constructor(){super(...arguments);D(this,"length",this.config.length);D(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}D(Nh,Uu,"PgVarchar");function fn(t,e={}){const{name:n,config:s}=Me(t,e);return new bh(n,s)}var Hu,qu;class vh extends(qu=xe,Hu=V,qu){constructor(e,n){super(e,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(e){return new yh(e,this.config)}}D(vh,Hu,"PgBinaryVectorBuilder");var Zu,Ku;class yh extends(Ku=re,Zu=V,Ku){constructor(){super(...arguments);D(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}D(yh,Zu,"PgBinaryVector");function ly(t,e){const{name:n,config:s}=Me(t,e);return new vh(n,s)}var Gu,Qu;class _h extends(Qu=xe,Gu=V,Qu){constructor(e,n){super(e,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(e){return new Dh(e,this.config)}}D(_h,Gu,"PgHalfVectorBuilder");var Xu,Yu;class Dh extends(Yu=re,Xu=V,Yu){constructor(){super(...arguments);D(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}D(Dh,Xu,"PgHalfVector");function cy(t,e){const{name:n,config:s}=Me(t,e);return new _h(n,s)}var Ju,ed;class Sh extends(ed=xe,Ju=V,ed){constructor(e,n){super(e,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(e){return new wh(e,this.config)}}D(Sh,Ju,"PgSparseVectorBuilder");var td,nd;class wh extends(nd=re,td=V,nd){constructor(){super(...arguments);D(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}D(wh,td,"PgSparseVector");function uy(t,e){const{name:n,config:s}=Me(t,e);return new Sh(n,s)}var sd,id;class Ch extends(id=xe,sd=V,id){constructor(e,n){super(e,"array","PgVector"),this.config.dimensions=n.dimensions}build(e){return new Eh(e,this.config)}}D(Ch,sd,"PgVectorBuilder");var rd,od;class Eh extends(od=re,rd=V,od){constructor(){super(...arguments);D(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}D(Eh,rd,"PgVector");function dy(t,e){const{name:n,config:s}=Me(t,e);return new Ch(n,s)}function my(){return{bigint:Mv,bigserial:Lv,boolean:Hn,char:Fv,cidr:$v,customType:zv,date:Uv,doublePrecision:Wv,inet:Hv,integer:Rr,interval:qv,json:Zv,jsonb:Kv,line:Gv,macaddr:Qv,macaddr8:Xv,numeric:Wf,point:Jv,geometry:ty,real:ny,serial:sy,smallint:iy,smallserial:ry,text:st,time:oy,timestamp:mn,uuid:ay,varchar:fn,bit:ly,halfvec:cy,sparsevec:uy,vector:dy}}const Ar=Symbol.for("drizzle:PgInlineForeignKeys"),ma=Symbol.for("drizzle:EnableRLS");var ad,ld,cd,ud,dd;class gi extends(dd=rt,ud=V,cd=Ar,ld=ma,ad=rt.Symbol.ExtraConfigBuilder,dd){constructor(){super(...arguments);D(this,cd,[]);D(this,ld,!1);D(this,ad)}}D(gi,ud,"PgTable"),D(gi,"Symbol",Object.assign({},rt.Symbol,{InlineForeignKeys:Ar,EnableRLS:ma}));function fy(t,e,n,s,i=t){const r=new gi(t,s,i),a=typeof e=="function"?e(my()):e,l=Object.fromEntries(Object.entries(a).map(([m,f])=>{const g=f;g.setName(m);const b=g.build(r);return r[Ar].push(...g.buildForeignKeys(b,r)),[m,b]})),u=Object.fromEntries(Object.entries(a).map(([m,f])=>{const g=f;g.setName(m);const b=g.buildExtraConfigColumn(r);return[m,b]})),c=Object.assign(r,l);return c[rt.Symbol.Columns]=l,c[rt.Symbol.ExtraConfigColumns]=u,Object.assign(c,{enableRLS:()=>(c[gi.Symbol.EnableRLS]=!0,c)})}const fo=(t,e,n)=>fy(t,e,n,void 0);var ge;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const r={};for(const a of i)r[a]=a;return r},t.getValidEnumValues=i=>{const r=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),a={};for(const l of r)a[l]=i[l];return t.objectValues(a)},t.objectValues=i=>t.objectKeys(i).map(function(r){return i[r]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const r=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&r.push(a);return r},t.find=(i,r)=>{for(const a of i)if(r(a))return a},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function s(i,r=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(r)}t.joinValues=s,t.jsonStringifyReplacer=(i,r)=>typeof r=="bigint"?r.toString():r})(ge||(ge={}));var Ir;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(Ir||(Ir={}));const $=ge.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Rt=t=>{switch(typeof t){case"undefined":return $.undefined;case"string":return $.string;case"number":return isNaN(t)?$.nan:$.number;case"boolean":return $.boolean;case"function":return $.function;case"bigint":return $.bigint;case"symbol":return $.symbol;case"object":return Array.isArray(t)?$.array:t===null?$.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?$.promise:typeof Map<"u"&&t instanceof Map?$.map:typeof Set<"u"&&t instanceof Set?$.set:typeof Date<"u"&&t instanceof Date?$.date:$.object;default:return $.unknown}},R=ge.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),hy=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class ct extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(r){return r.message},s={_errors:[]},i=r=>{for(const a of r.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)s._errors.push(n(a));else{let l=s,u=0;for(;u<a.path.length;){const c=a.path[u];u===a.path.length-1?(l[c]=l[c]||{_errors:[]},l[c]._errors.push(n(a))):l[c]=l[c]||{_errors:[]},l=l[c],u++}}};return i(this),s}static assert(e){if(!(e instanceof ct))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ge.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},s=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):s.push(e(i));return{formErrors:s,fieldErrors:n}}get formErrors(){return this.flatten()}}ct.create=t=>new ct(t);const qn=(t,e)=>{let n;switch(t.code){case R.invalid_type:t.received===$.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case R.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ge.jsonStringifyReplacer)}`;break;case R.unrecognized_keys:n=`Unrecognized key(s) in object: ${ge.joinValues(t.keys,", ")}`;break;case R.invalid_union:n="Invalid input";break;case R.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ge.joinValues(t.options)}`;break;case R.invalid_enum_value:n=`Invalid enum value. Expected ${ge.joinValues(t.options)}, received '${t.received}'`;break;case R.invalid_arguments:n="Invalid function arguments";break;case R.invalid_return_type:n="Invalid function return type";break;case R.invalid_date:n="Invalid date";break;case R.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ge.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case R.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case R.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case R.custom:n="Invalid input";break;case R.invalid_intersection_types:n="Intersection results could not be merged";break;case R.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case R.not_finite:n="Number must be finite";break;default:n=e.defaultError,ge.assertNever(t)}return{message:n}};let Oh=qn;function py(t){Oh=t}function xi(){return Oh}const bi=t=>{const{data:e,path:n,errorMaps:s,issueData:i}=t,r=[...n,...i.path||[]],a={...i,path:r};if(i.message!==void 0)return{...i,path:r,message:i.message};let l="";const u=s.filter(c=>!!c).slice().reverse();for(const c of u)l=c(a,{data:e,defaultError:l}).message;return{...i,path:r,message:l}},gy=[];function I(t,e){const n=xi(),s=bi({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===qn?void 0:qn].filter(i=>!!i)});t.common.issues.push(s)}class He{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const s=[];for(const i of n){if(i.status==="aborted")return X;i.status==="dirty"&&e.dirty(),s.push(i.value)}return{status:e.value,value:s}}static async mergeObjectAsync(e,n){const s=[];for(const i of n){const r=await i.key,a=await i.value;s.push({key:r,value:a})}return He.mergeObjectSync(e,s)}static mergeObjectSync(e,n){const s={};for(const i of n){const{key:r,value:a}=i;if(r.status==="aborted"||a.status==="aborted")return X;r.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),r.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(s[r.value]=a.value)}return{status:e.value,value:s}}}const X=Object.freeze({status:"aborted"}),Bn=t=>({status:"dirty",value:t}),Ke=t=>({status:"valid",value:t}),Mr=t=>t.status==="aborted",Lr=t=>t.status==="dirty",vn=t=>t.status==="valid",Ns=t=>typeof Promise<"u"&&t instanceof Promise;function Ni(t,e,n,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function jh(t,e,n,s,i){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,n),n}var W;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(W||(W={}));var ls,cs;class Ot{constructor(e,n,s,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=s,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const fa=(t,e)=>{if(vn(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ct(t.common.issues);return this._error=n,this._error}}};function ie(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:s,description:i}=t;if(e&&(n||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,l)=>{var u,c;const{message:m}=t;return a.code==="invalid_enum_value"?{message:m??l.defaultError}:typeof l.data>"u"?{message:(u=m??s)!==null&&u!==void 0?u:l.defaultError}:a.code!=="invalid_type"?{message:l.defaultError}:{message:(c=m??n)!==null&&c!==void 0?c:l.defaultError}},description:i}}class ce{get description(){return this._def.description}_getType(e){return Rt(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Rt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new He,ctx:{common:e.parent.common,data:e.data,parsedType:Rt(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Ns(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const s=this.safeParse(e,n);if(s.success)return s.data;throw s.error}safeParse(e,n){var s;const i={common:{issues:[],async:(s=n==null?void 0:n.async)!==null&&s!==void 0?s:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Rt(e)},r=this._parseSync({data:e,path:i.path,parent:i});return fa(i,r)}"~validate"(e){var n,s;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Rt(e)};if(!this["~standard"].async)try{const r=this._parseSync({data:e,path:[],parent:i});return vn(r)?{value:r.value}:{issues:i.common.issues}}catch(r){!((s=(n=r==null?void 0:r.message)===null||n===void 0?void 0:n.toLowerCase())===null||s===void 0)&&s.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:i}).then(r=>vn(r)?{value:r.value}:{issues:i.common.issues})}async parseAsync(e,n){const s=await this.safeParseAsync(e,n);if(s.success)return s.data;throw s.error}async safeParseAsync(e,n){const s={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Rt(e)},i=this._parse({data:e,path:s.path,parent:s}),r=await(Ns(i)?i:Promise.resolve(i));return fa(s,r)}refine(e,n){const s=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,r)=>{const a=e(i),l=()=>r.addIssue({code:R.custom,...s(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(u=>u?!0:(l(),!1)):a?!0:(l(),!1)})}refinement(e,n){return this._refinement((s,i)=>e(s)?!0:(i.addIssue(typeof n=="function"?n(s,i):n),!1))}_refinement(e){return new yt({schema:this,typeName:G.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Ct.create(this,this._def)}nullable(){return Jt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return bt.create(this)}promise(){return Kn.create(this,this._def)}or(e){return Ds.create([this,e],this._def)}and(e){return Ss.create(this,e,this._def)}transform(e){return new yt({...ie(this._def),schema:this,typeName:G.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new js({...ie(this._def),innerType:this,defaultValue:n,typeName:G.ZodDefault})}brand(){return new ho({typeName:G.ZodBranded,type:this,...ie(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Ts({...ie(this._def),innerType:this,catchValue:n,typeName:G.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return As.create(this,e)}readonly(){return Vs.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const xy=/^c[^\s-]{8,}$/i,by=/^[0-9a-z]+$/,Ny=/^[0-9A-HJKMNP-TV-Z]{26}$/i,vy=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,yy=/^[a-z0-9_-]{21}$/i,_y=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Dy=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Sy=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,wy="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let dr;const Cy=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Ey=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Oy=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,jy=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Ty=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Vy=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Th="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",By=new RegExp(`^${Th}$`);function Vh(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Py(t){return new RegExp(`^${Vh(t)}$`)}function Bh(t){let e=`${Th}T${Vh(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function ky(t,e){return!!((e==="v4"||!e)&&Cy.test(t)||(e==="v6"||!e)&&Oy.test(t))}function Ry(t,e){if(!_y.test(t))return!1;try{const[n]=t.split("."),s=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(s));return!(typeof i!="object"||i===null||!i.typ||!i.alg||e&&i.alg!==e)}catch{return!1}}function Ay(t,e){return!!((e==="v4"||!e)&&Ey.test(t)||(e==="v6"||!e)&&jy.test(t))}class xt extends ce{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==$.string){const r=this._getOrReturnCtx(e);return I(r,{code:R.invalid_type,expected:$.string,received:r.parsedType}),X}const s=new He;let i;for(const r of this._def.checks)if(r.kind==="min")e.data.length<r.value&&(i=this._getOrReturnCtx(e,i),I(i,{code:R.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),s.dirty());else if(r.kind==="max")e.data.length>r.value&&(i=this._getOrReturnCtx(e,i),I(i,{code:R.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!1,message:r.message}),s.dirty());else if(r.kind==="length"){const a=e.data.length>r.value,l=e.data.length<r.value;(a||l)&&(i=this._getOrReturnCtx(e,i),a?I(i,{code:R.too_big,maximum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}):l&&I(i,{code:R.too_small,minimum:r.value,type:"string",inclusive:!0,exact:!0,message:r.message}),s.dirty())}else if(r.kind==="email")Sy.test(e.data)||(i=this._getOrReturnCtx(e,i),I(i,{validation:"email",code:R.invalid_string,message:r.message}),s.dirty());else if(r.kind==="emoji")dr||(dr=new RegExp(wy,"u")),dr.test(e.data)||(i=this._getOrReturnCtx(e,i),I(i,{validation:"emoji",code:R.invalid_string,message:r.message}),s.dirty());else if(r.kind==="uuid")vy.test(e.data)||(i=this._getOrReturnCtx(e,i),I(i,{validation:"uuid",code:R.invalid_string,message:r.message}),s.dirty());else if(r.kind==="nanoid")yy.test(e.data)||(i=this._getOrReturnCtx(e,i),I(i,{validation:"nanoid",code:R.invalid_string,message:r.message}),s.dirty());else if(r.kind==="cuid")xy.test(e.data)||(i=this._getOrReturnCtx(e,i),I(i,{validation:"cuid",code:R.invalid_string,message:r.message}),s.dirty());else if(r.kind==="cuid2")by.test(e.data)||(i=this._getOrReturnCtx(e,i),I(i,{validation:"cuid2",code:R.invalid_string,message:r.message}),s.dirty());else if(r.kind==="ulid")Ny.test(e.data)||(i=this._getOrReturnCtx(e,i),I(i,{validation:"ulid",code:R.invalid_string,message:r.message}),s.dirty());else if(r.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),I(i,{validation:"url",code:R.invalid_string,message:r.message}),s.dirty()}else r.kind==="regex"?(r.regex.lastIndex=0,r.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),I(i,{validation:"regex",code:R.invalid_string,message:r.message}),s.dirty())):r.kind==="trim"?e.data=e.data.trim():r.kind==="includes"?e.data.includes(r.value,r.position)||(i=this._getOrReturnCtx(e,i),I(i,{code:R.invalid_string,validation:{includes:r.value,position:r.position},message:r.message}),s.dirty()):r.kind==="toLowerCase"?e.data=e.data.toLowerCase():r.kind==="toUpperCase"?e.data=e.data.toUpperCase():r.kind==="startsWith"?e.data.startsWith(r.value)||(i=this._getOrReturnCtx(e,i),I(i,{code:R.invalid_string,validation:{startsWith:r.value},message:r.message}),s.dirty()):r.kind==="endsWith"?e.data.endsWith(r.value)||(i=this._getOrReturnCtx(e,i),I(i,{code:R.invalid_string,validation:{endsWith:r.value},message:r.message}),s.dirty()):r.kind==="datetime"?Bh(r).test(e.data)||(i=this._getOrReturnCtx(e,i),I(i,{code:R.invalid_string,validation:"datetime",message:r.message}),s.dirty()):r.kind==="date"?By.test(e.data)||(i=this._getOrReturnCtx(e,i),I(i,{code:R.invalid_string,validation:"date",message:r.message}),s.dirty()):r.kind==="time"?Py(r).test(e.data)||(i=this._getOrReturnCtx(e,i),I(i,{code:R.invalid_string,validation:"time",message:r.message}),s.dirty()):r.kind==="duration"?Dy.test(e.data)||(i=this._getOrReturnCtx(e,i),I(i,{validation:"duration",code:R.invalid_string,message:r.message}),s.dirty()):r.kind==="ip"?ky(e.data,r.version)||(i=this._getOrReturnCtx(e,i),I(i,{validation:"ip",code:R.invalid_string,message:r.message}),s.dirty()):r.kind==="jwt"?Ry(e.data,r.alg)||(i=this._getOrReturnCtx(e,i),I(i,{validation:"jwt",code:R.invalid_string,message:r.message}),s.dirty()):r.kind==="cidr"?Ay(e.data,r.version)||(i=this._getOrReturnCtx(e,i),I(i,{validation:"cidr",code:R.invalid_string,message:r.message}),s.dirty()):r.kind==="base64"?Ty.test(e.data)||(i=this._getOrReturnCtx(e,i),I(i,{validation:"base64",code:R.invalid_string,message:r.message}),s.dirty()):r.kind==="base64url"?Vy.test(e.data)||(i=this._getOrReturnCtx(e,i),I(i,{validation:"base64url",code:R.invalid_string,message:r.message}),s.dirty()):ge.assertNever(r);return{status:s.value,value:e.data}}_regex(e,n,s){return this.refinement(i=>e.test(i),{validation:n,code:R.invalid_string,...W.errToObj(s)})}_addCheck(e){return new xt({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...W.errToObj(e)})}url(e){return this._addCheck({kind:"url",...W.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...W.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...W.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...W.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...W.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...W.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...W.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...W.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...W.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...W.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...W.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...W.errToObj(e)})}datetime(e){var n,s;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,local:(s=e==null?void 0:e.local)!==null&&s!==void 0?s:!1,...W.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...W.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...W.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...W.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...W.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...W.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...W.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...W.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...W.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...W.errToObj(n)})}nonempty(e){return this.min(1,W.errToObj(e))}trim(){return new xt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new xt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new xt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}xt.create=t=>{var e;return new xt({checks:[],typeName:G.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ie(t)})};function Iy(t,e){const n=(t.toString().split(".")[1]||"").length,s=(e.toString().split(".")[1]||"").length,i=n>s?n:s,r=parseInt(t.toFixed(i).replace(".","")),a=parseInt(e.toFixed(i).replace(".",""));return r%a/Math.pow(10,i)}class Qt extends ce{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==$.number){const r=this._getOrReturnCtx(e);return I(r,{code:R.invalid_type,expected:$.number,received:r.parsedType}),X}let s;const i=new He;for(const r of this._def.checks)r.kind==="int"?ge.isInteger(e.data)||(s=this._getOrReturnCtx(e,s),I(s,{code:R.invalid_type,expected:"integer",received:"float",message:r.message}),i.dirty()):r.kind==="min"?(r.inclusive?e.data<r.value:e.data<=r.value)&&(s=this._getOrReturnCtx(e,s),I(s,{code:R.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),i.dirty()):r.kind==="max"?(r.inclusive?e.data>r.value:e.data>=r.value)&&(s=this._getOrReturnCtx(e,s),I(s,{code:R.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),i.dirty()):r.kind==="multipleOf"?Iy(e.data,r.value)!==0&&(s=this._getOrReturnCtx(e,s),I(s,{code:R.not_multiple_of,multipleOf:r.value,message:r.message}),i.dirty()):r.kind==="finite"?Number.isFinite(e.data)||(s=this._getOrReturnCtx(e,s),I(s,{code:R.not_finite,message:r.message}),i.dirty()):ge.assertNever(r);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,W.toString(n))}gt(e,n){return this.setLimit("min",e,!1,W.toString(n))}lte(e,n){return this.setLimit("max",e,!0,W.toString(n))}lt(e,n){return this.setLimit("max",e,!1,W.toString(n))}setLimit(e,n,s,i){return new Qt({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:s,message:W.toString(i)}]})}_addCheck(e){return new Qt({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:W.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:W.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:W.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:W.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:W.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:W.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:W.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:W.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:W.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ge.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(n===null||s.value>n)&&(n=s.value):s.kind==="max"&&(e===null||s.value<e)&&(e=s.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Qt.create=t=>new Qt({checks:[],typeName:G.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ie(t)});class Xt extends ce{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==$.bigint)return this._getInvalidInput(e);let s;const i=new He;for(const r of this._def.checks)r.kind==="min"?(r.inclusive?e.data<r.value:e.data<=r.value)&&(s=this._getOrReturnCtx(e,s),I(s,{code:R.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),i.dirty()):r.kind==="max"?(r.inclusive?e.data>r.value:e.data>=r.value)&&(s=this._getOrReturnCtx(e,s),I(s,{code:R.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),i.dirty()):r.kind==="multipleOf"?e.data%r.value!==BigInt(0)&&(s=this._getOrReturnCtx(e,s),I(s,{code:R.not_multiple_of,multipleOf:r.value,message:r.message}),i.dirty()):ge.assertNever(r);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return I(n,{code:R.invalid_type,expected:$.bigint,received:n.parsedType}),X}gte(e,n){return this.setLimit("min",e,!0,W.toString(n))}gt(e,n){return this.setLimit("min",e,!1,W.toString(n))}lte(e,n){return this.setLimit("max",e,!0,W.toString(n))}lt(e,n){return this.setLimit("max",e,!1,W.toString(n))}setLimit(e,n,s,i){return new Xt({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:s,message:W.toString(i)}]})}_addCheck(e){return new Xt({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:W.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:W.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:W.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:W.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:W.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Xt.create=t=>{var e;return new Xt({checks:[],typeName:G.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...ie(t)})};class vs extends ce{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==$.boolean){const s=this._getOrReturnCtx(e);return I(s,{code:R.invalid_type,expected:$.boolean,received:s.parsedType}),X}return Ke(e.data)}}vs.create=t=>new vs({typeName:G.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ie(t)});class yn extends ce{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==$.date){const r=this._getOrReturnCtx(e);return I(r,{code:R.invalid_type,expected:$.date,received:r.parsedType}),X}if(isNaN(e.data.getTime())){const r=this._getOrReturnCtx(e);return I(r,{code:R.invalid_date}),X}const s=new He;let i;for(const r of this._def.checks)r.kind==="min"?e.data.getTime()<r.value&&(i=this._getOrReturnCtx(e,i),I(i,{code:R.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),s.dirty()):r.kind==="max"?e.data.getTime()>r.value&&(i=this._getOrReturnCtx(e,i),I(i,{code:R.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),s.dirty()):ge.assertNever(r);return{status:s.value,value:new Date(e.data.getTime())}}_addCheck(e){return new yn({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:W.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:W.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}yn.create=t=>new yn({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:G.ZodDate,...ie(t)});class vi extends ce{_parse(e){if(this._getType(e)!==$.symbol){const s=this._getOrReturnCtx(e);return I(s,{code:R.invalid_type,expected:$.symbol,received:s.parsedType}),X}return Ke(e.data)}}vi.create=t=>new vi({typeName:G.ZodSymbol,...ie(t)});class ys extends ce{_parse(e){if(this._getType(e)!==$.undefined){const s=this._getOrReturnCtx(e);return I(s,{code:R.invalid_type,expected:$.undefined,received:s.parsedType}),X}return Ke(e.data)}}ys.create=t=>new ys({typeName:G.ZodUndefined,...ie(t)});class _s extends ce{_parse(e){if(this._getType(e)!==$.null){const s=this._getOrReturnCtx(e);return I(s,{code:R.invalid_type,expected:$.null,received:s.parsedType}),X}return Ke(e.data)}}_s.create=t=>new _s({typeName:G.ZodNull,...ie(t)});class Zn extends ce{constructor(){super(...arguments),this._any=!0}_parse(e){return Ke(e.data)}}Zn.create=t=>new Zn({typeName:G.ZodAny,...ie(t)});class hn extends ce{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ke(e.data)}}hn.create=t=>new hn({typeName:G.ZodUnknown,...ie(t)});class Ft extends ce{_parse(e){const n=this._getOrReturnCtx(e);return I(n,{code:R.invalid_type,expected:$.never,received:n.parsedType}),X}}Ft.create=t=>new Ft({typeName:G.ZodNever,...ie(t)});class yi extends ce{_parse(e){if(this._getType(e)!==$.undefined){const s=this._getOrReturnCtx(e);return I(s,{code:R.invalid_type,expected:$.void,received:s.parsedType}),X}return Ke(e.data)}}yi.create=t=>new yi({typeName:G.ZodVoid,...ie(t)});class bt extends ce{_parse(e){const{ctx:n,status:s}=this._processInputParams(e),i=this._def;if(n.parsedType!==$.array)return I(n,{code:R.invalid_type,expected:$.array,received:n.parsedType}),X;if(i.exactLength!==null){const a=n.data.length>i.exactLength.value,l=n.data.length<i.exactLength.value;(a||l)&&(I(n,{code:a?R.too_big:R.too_small,minimum:l?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),s.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(I(n,{code:R.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),s.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(I(n,{code:R.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),s.dirty()),n.common.async)return Promise.all([...n.data].map((a,l)=>i.type._parseAsync(new Ot(n,a,n.path,l)))).then(a=>He.mergeArray(s,a));const r=[...n.data].map((a,l)=>i.type._parseSync(new Ot(n,a,n.path,l)));return He.mergeArray(s,r)}get element(){return this._def.type}min(e,n){return new bt({...this._def,minLength:{value:e,message:W.toString(n)}})}max(e,n){return new bt({...this._def,maxLength:{value:e,message:W.toString(n)}})}length(e,n){return new bt({...this._def,exactLength:{value:e,message:W.toString(n)}})}nonempty(e){return this.min(1,e)}}bt.create=(t,e)=>new bt({type:t,minLength:null,maxLength:null,exactLength:null,typeName:G.ZodArray,...ie(e)});function Vn(t){if(t instanceof Oe){const e={};for(const n in t.shape){const s=t.shape[n];e[n]=Ct.create(Vn(s))}return new Oe({...t._def,shape:()=>e})}else return t instanceof bt?new bt({...t._def,type:Vn(t.element)}):t instanceof Ct?Ct.create(Vn(t.unwrap())):t instanceof Jt?Jt.create(Vn(t.unwrap())):t instanceof jt?jt.create(t.items.map(e=>Vn(e))):t}class Oe extends ce{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ge.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==$.object){const c=this._getOrReturnCtx(e);return I(c,{code:R.invalid_type,expected:$.object,received:c.parsedType}),X}const{status:s,ctx:i}=this._processInputParams(e),{shape:r,keys:a}=this._getCached(),l=[];if(!(this._def.catchall instanceof Ft&&this._def.unknownKeys==="strip"))for(const c in i.data)a.includes(c)||l.push(c);const u=[];for(const c of a){const m=r[c],f=i.data[c];u.push({key:{status:"valid",value:c},value:m._parse(new Ot(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Ft){const c=this._def.unknownKeys;if(c==="passthrough")for(const m of l)u.push({key:{status:"valid",value:m},value:{status:"valid",value:i.data[m]}});else if(c==="strict")l.length>0&&(I(i,{code:R.unrecognized_keys,keys:l}),s.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const m of l){const f=i.data[m];u.push({key:{status:"valid",value:m},value:c._parse(new Ot(i,f,i.path,m)),alwaysSet:m in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const m of u){const f=await m.key,g=await m.value;c.push({key:f,value:g,alwaysSet:m.alwaysSet})}return c}).then(c=>He.mergeObjectSync(s,c)):He.mergeObjectSync(s,u)}get shape(){return this._def.shape()}strict(e){return W.errToObj,new Oe({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,s)=>{var i,r,a,l;const u=(a=(r=(i=this._def).errorMap)===null||r===void 0?void 0:r.call(i,n,s).message)!==null&&a!==void 0?a:s.defaultError;return n.code==="unrecognized_keys"?{message:(l=W.errToObj(e).message)!==null&&l!==void 0?l:u}:{message:u}}}:{}})}strip(){return new Oe({...this._def,unknownKeys:"strip"})}passthrough(){return new Oe({...this._def,unknownKeys:"passthrough"})}extend(e){return new Oe({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Oe({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:G.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new Oe({...this._def,catchall:e})}pick(e){const n={};return ge.objectKeys(e).forEach(s=>{e[s]&&this.shape[s]&&(n[s]=this.shape[s])}),new Oe({...this._def,shape:()=>n})}omit(e){const n={};return ge.objectKeys(this.shape).forEach(s=>{e[s]||(n[s]=this.shape[s])}),new Oe({...this._def,shape:()=>n})}deepPartial(){return Vn(this)}partial(e){const n={};return ge.objectKeys(this.shape).forEach(s=>{const i=this.shape[s];e&&!e[s]?n[s]=i:n[s]=i.optional()}),new Oe({...this._def,shape:()=>n})}required(e){const n={};return ge.objectKeys(this.shape).forEach(s=>{if(e&&!e[s])n[s]=this.shape[s];else{let r=this.shape[s];for(;r instanceof Ct;)r=r._def.innerType;n[s]=r}}),new Oe({...this._def,shape:()=>n})}keyof(){return Ph(ge.objectKeys(this.shape))}}Oe.create=(t,e)=>new Oe({shape:()=>t,unknownKeys:"strip",catchall:Ft.create(),typeName:G.ZodObject,...ie(e)});Oe.strictCreate=(t,e)=>new Oe({shape:()=>t,unknownKeys:"strict",catchall:Ft.create(),typeName:G.ZodObject,...ie(e)});Oe.lazycreate=(t,e)=>new Oe({shape:t,unknownKeys:"strip",catchall:Ft.create(),typeName:G.ZodObject,...ie(e)});class Ds extends ce{_parse(e){const{ctx:n}=this._processInputParams(e),s=this._def.options;function i(r){for(const l of r)if(l.result.status==="valid")return l.result;for(const l of r)if(l.result.status==="dirty")return n.common.issues.push(...l.ctx.common.issues),l.result;const a=r.map(l=>new ct(l.ctx.common.issues));return I(n,{code:R.invalid_union,unionErrors:a}),X}if(n.common.async)return Promise.all(s.map(async r=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await r._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(i);{let r;const a=[];for(const u of s){const c={...n,common:{...n.common,issues:[]},parent:null},m=u._parseSync({data:n.data,path:n.path,parent:c});if(m.status==="valid")return m;m.status==="dirty"&&!r&&(r={result:m,ctx:c}),c.common.issues.length&&a.push(c.common.issues)}if(r)return n.common.issues.push(...r.ctx.common.issues),r.result;const l=a.map(u=>new ct(u));return I(n,{code:R.invalid_union,unionErrors:l}),X}}get options(){return this._def.options}}Ds.create=(t,e)=>new Ds({options:t,typeName:G.ZodUnion,...ie(e)});const kt=t=>t instanceof Cs?kt(t.schema):t instanceof yt?kt(t.innerType()):t instanceof Es?[t.value]:t instanceof Yt?t.options:t instanceof Os?ge.objectValues(t.enum):t instanceof js?kt(t._def.innerType):t instanceof ys?[void 0]:t instanceof _s?[null]:t instanceof Ct?[void 0,...kt(t.unwrap())]:t instanceof Jt?[null,...kt(t.unwrap())]:t instanceof ho||t instanceof Vs?kt(t.unwrap()):t instanceof Ts?kt(t._def.innerType):[];class $i extends ce{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==$.object)return I(n,{code:R.invalid_type,expected:$.object,received:n.parsedType}),X;const s=this.discriminator,i=n.data[s],r=this.optionsMap.get(i);return r?n.common.async?r._parseAsync({data:n.data,path:n.path,parent:n}):r._parseSync({data:n.data,path:n.path,parent:n}):(I(n,{code:R.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),X)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,s){const i=new Map;for(const r of n){const a=kt(r.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const l of a){if(i.has(l))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(l)}`);i.set(l,r)}}return new $i({typeName:G.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...ie(s)})}}function Fr(t,e){const n=Rt(t),s=Rt(e);if(t===e)return{valid:!0,data:t};if(n===$.object&&s===$.object){const i=ge.objectKeys(e),r=ge.objectKeys(t).filter(l=>i.indexOf(l)!==-1),a={...t,...e};for(const l of r){const u=Fr(t[l],e[l]);if(!u.valid)return{valid:!1};a[l]=u.data}return{valid:!0,data:a}}else if(n===$.array&&s===$.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let r=0;r<t.length;r++){const a=t[r],l=e[r],u=Fr(a,l);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return n===$.date&&s===$.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Ss extends ce{_parse(e){const{status:n,ctx:s}=this._processInputParams(e),i=(r,a)=>{if(Mr(r)||Mr(a))return X;const l=Fr(r.value,a.value);return l.valid?((Lr(r)||Lr(a))&&n.dirty(),{status:n.value,value:l.data}):(I(s,{code:R.invalid_intersection_types}),X)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([r,a])=>i(r,a)):i(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}Ss.create=(t,e,n)=>new Ss({left:t,right:e,typeName:G.ZodIntersection,...ie(n)});class jt extends ce{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==$.array)return I(s,{code:R.invalid_type,expected:$.array,received:s.parsedType}),X;if(s.data.length<this._def.items.length)return I(s,{code:R.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),X;!this._def.rest&&s.data.length>this._def.items.length&&(I(s,{code:R.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const r=[...s.data].map((a,l)=>{const u=this._def.items[l]||this._def.rest;return u?u._parse(new Ot(s,a,s.path,l)):null}).filter(a=>!!a);return s.common.async?Promise.all(r).then(a=>He.mergeArray(n,a)):He.mergeArray(n,r)}get items(){return this._def.items}rest(e){return new jt({...this._def,rest:e})}}jt.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new jt({items:t,typeName:G.ZodTuple,rest:null,...ie(e)})};class ws extends ce{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==$.object)return I(s,{code:R.invalid_type,expected:$.object,received:s.parsedType}),X;const i=[],r=this._def.keyType,a=this._def.valueType;for(const l in s.data)i.push({key:r._parse(new Ot(s,l,s.path,l)),value:a._parse(new Ot(s,s.data[l],s.path,l)),alwaysSet:l in s.data});return s.common.async?He.mergeObjectAsync(n,i):He.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,s){return n instanceof ce?new ws({keyType:e,valueType:n,typeName:G.ZodRecord,...ie(s)}):new ws({keyType:xt.create(),valueType:e,typeName:G.ZodRecord,...ie(n)})}}class _i extends ce{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==$.map)return I(s,{code:R.invalid_type,expected:$.map,received:s.parsedType}),X;const i=this._def.keyType,r=this._def.valueType,a=[...s.data.entries()].map(([l,u],c)=>({key:i._parse(new Ot(s,l,s.path,[c,"key"])),value:r._parse(new Ot(s,u,s.path,[c,"value"]))}));if(s.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const u of a){const c=await u.key,m=await u.value;if(c.status==="aborted"||m.status==="aborted")return X;(c.status==="dirty"||m.status==="dirty")&&n.dirty(),l.set(c.value,m.value)}return{status:n.value,value:l}})}else{const l=new Map;for(const u of a){const c=u.key,m=u.value;if(c.status==="aborted"||m.status==="aborted")return X;(c.status==="dirty"||m.status==="dirty")&&n.dirty(),l.set(c.value,m.value)}return{status:n.value,value:l}}}}_i.create=(t,e,n)=>new _i({valueType:e,keyType:t,typeName:G.ZodMap,...ie(n)});class _n extends ce{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.parsedType!==$.set)return I(s,{code:R.invalid_type,expected:$.set,received:s.parsedType}),X;const i=this._def;i.minSize!==null&&s.data.size<i.minSize.value&&(I(s,{code:R.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&s.data.size>i.maxSize.value&&(I(s,{code:R.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const r=this._def.valueType;function a(u){const c=new Set;for(const m of u){if(m.status==="aborted")return X;m.status==="dirty"&&n.dirty(),c.add(m.value)}return{status:n.value,value:c}}const l=[...s.data.values()].map((u,c)=>r._parse(new Ot(s,u,s.path,c)));return s.common.async?Promise.all(l).then(u=>a(u)):a(l)}min(e,n){return new _n({...this._def,minSize:{value:e,message:W.toString(n)}})}max(e,n){return new _n({...this._def,maxSize:{value:e,message:W.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}_n.create=(t,e)=>new _n({valueType:t,minSize:null,maxSize:null,typeName:G.ZodSet,...ie(e)});class Mn extends ce{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==$.function)return I(n,{code:R.invalid_type,expected:$.function,received:n.parsedType}),X;function s(l,u){return bi({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,xi(),qn].filter(c=>!!c),issueData:{code:R.invalid_arguments,argumentsError:u}})}function i(l,u){return bi({data:l,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,xi(),qn].filter(c=>!!c),issueData:{code:R.invalid_return_type,returnTypeError:u}})}const r={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof Kn){const l=this;return Ke(async function(...u){const c=new ct([]),m=await l._def.args.parseAsync(u,r).catch(b=>{throw c.addIssue(s(u,b)),c}),f=await Reflect.apply(a,this,m);return await l._def.returns._def.type.parseAsync(f,r).catch(b=>{throw c.addIssue(i(f,b)),c})})}else{const l=this;return Ke(function(...u){const c=l._def.args.safeParse(u,r);if(!c.success)throw new ct([s(u,c.error)]);const m=Reflect.apply(a,this,c.data),f=l._def.returns.safeParse(m,r);if(!f.success)throw new ct([i(m,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Mn({...this._def,args:jt.create(e).rest(hn.create())})}returns(e){return new Mn({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,s){return new Mn({args:e||jt.create([]).rest(hn.create()),returns:n||hn.create(),typeName:G.ZodFunction,...ie(s)})}}class Cs extends ce{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Cs.create=(t,e)=>new Cs({getter:t,typeName:G.ZodLazy,...ie(e)});class Es extends ce{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return I(n,{received:n.data,code:R.invalid_literal,expected:this._def.value}),X}return{status:"valid",value:e.data}}get value(){return this._def.value}}Es.create=(t,e)=>new Es({value:t,typeName:G.ZodLiteral,...ie(e)});function Ph(t,e){return new Yt({values:t,typeName:G.ZodEnum,...ie(e)})}class Yt extends ce{constructor(){super(...arguments),ls.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),s=this._def.values;return I(n,{expected:ge.joinValues(s),received:n.parsedType,code:R.invalid_type}),X}if(Ni(this,ls)||jh(this,ls,new Set(this._def.values)),!Ni(this,ls).has(e.data)){const n=this._getOrReturnCtx(e),s=this._def.values;return I(n,{received:n.data,code:R.invalid_enum_value,options:s}),X}return Ke(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return Yt.create(e,{...this._def,...n})}exclude(e,n=this._def){return Yt.create(this.options.filter(s=>!e.includes(s)),{...this._def,...n})}}ls=new WeakMap;Yt.create=Ph;class Os extends ce{constructor(){super(...arguments),cs.set(this,void 0)}_parse(e){const n=ge.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(e);if(s.parsedType!==$.string&&s.parsedType!==$.number){const i=ge.objectValues(n);return I(s,{expected:ge.joinValues(i),received:s.parsedType,code:R.invalid_type}),X}if(Ni(this,cs)||jh(this,cs,new Set(ge.getValidEnumValues(this._def.values))),!Ni(this,cs).has(e.data)){const i=ge.objectValues(n);return I(s,{received:s.data,code:R.invalid_enum_value,options:i}),X}return Ke(e.data)}get enum(){return this._def.values}}cs=new WeakMap;Os.create=(t,e)=>new Os({values:t,typeName:G.ZodNativeEnum,...ie(e)});class Kn extends ce{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==$.promise&&n.common.async===!1)return I(n,{code:R.invalid_type,expected:$.promise,received:n.parsedType}),X;const s=n.parsedType===$.promise?n.data:Promise.resolve(n.data);return Ke(s.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Kn.create=(t,e)=>new Kn({type:t,typeName:G.ZodPromise,...ie(e)});class yt extends ce{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===G.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:s}=this._processInputParams(e),i=this._def.effect||null,r={addIssue:a=>{I(s,a),a.fatal?n.abort():n.dirty()},get path(){return s.path}};if(r.addIssue=r.addIssue.bind(r),i.type==="preprocess"){const a=i.transform(s.data,r);if(s.common.async)return Promise.resolve(a).then(async l=>{if(n.value==="aborted")return X;const u=await this._def.schema._parseAsync({data:l,path:s.path,parent:s});return u.status==="aborted"?X:u.status==="dirty"||n.value==="dirty"?Bn(u.value):u});{if(n.value==="aborted")return X;const l=this._def.schema._parseSync({data:a,path:s.path,parent:s});return l.status==="aborted"?X:l.status==="dirty"||n.value==="dirty"?Bn(l.value):l}}if(i.type==="refinement"){const a=l=>{const u=i.refinement(l,r);if(s.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return l.status==="aborted"?X:(l.status==="dirty"&&n.dirty(),a(l.value),{status:n.value,value:l.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>l.status==="aborted"?X:(l.status==="dirty"&&n.dirty(),a(l.value).then(()=>({status:n.value,value:l.value}))))}if(i.type==="transform")if(s.common.async===!1){const a=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!vn(a))return a;const l=i.transform(a.value,r);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:l}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(a=>vn(a)?Promise.resolve(i.transform(a.value,r)).then(l=>({status:n.value,value:l})):a);ge.assertNever(i)}}yt.create=(t,e,n)=>new yt({schema:t,typeName:G.ZodEffects,effect:e,...ie(n)});yt.createWithPreprocess=(t,e,n)=>new yt({schema:e,effect:{type:"preprocess",transform:t},typeName:G.ZodEffects,...ie(n)});class Ct extends ce{_parse(e){return this._getType(e)===$.undefined?Ke(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ct.create=(t,e)=>new Ct({innerType:t,typeName:G.ZodOptional,...ie(e)});class Jt extends ce{_parse(e){return this._getType(e)===$.null?Ke(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Jt.create=(t,e)=>new Jt({innerType:t,typeName:G.ZodNullable,...ie(e)});class js extends ce{_parse(e){const{ctx:n}=this._processInputParams(e);let s=n.data;return n.parsedType===$.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}js.create=(t,e)=>new js({innerType:t,typeName:G.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ie(e)});class Ts extends ce{_parse(e){const{ctx:n}=this._processInputParams(e),s={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Ns(i)?i.then(r=>({status:"valid",value:r.status==="valid"?r.value:this._def.catchValue({get error(){return new ct(s.common.issues)},input:s.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ct(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}Ts.create=(t,e)=>new Ts({innerType:t,typeName:G.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ie(e)});class Di extends ce{_parse(e){if(this._getType(e)!==$.nan){const s=this._getOrReturnCtx(e);return I(s,{code:R.invalid_type,expected:$.nan,received:s.parsedType}),X}return{status:"valid",value:e.data}}}Di.create=t=>new Di({typeName:G.ZodNaN,...ie(t)});const My=Symbol("zod_brand");class ho extends ce{_parse(e){const{ctx:n}=this._processInputParams(e),s=n.data;return this._def.type._parse({data:s,path:n.path,parent:n})}unwrap(){return this._def.type}}class As extends ce{_parse(e){const{status:n,ctx:s}=this._processInputParams(e);if(s.common.async)return(async()=>{const r=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return r.status==="aborted"?X:r.status==="dirty"?(n.dirty(),Bn(r.value)):this._def.out._parseAsync({data:r.value,path:s.path,parent:s})})();{const i=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?X:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:s.path,parent:s})}}static create(e,n){return new As({in:e,out:n,typeName:G.ZodPipeline})}}class Vs extends ce{_parse(e){const n=this._def.innerType._parse(e),s=i=>(vn(i)&&(i.value=Object.freeze(i.value)),i);return Ns(n)?n.then(i=>s(i)):s(n)}unwrap(){return this._def.innerType}}Vs.create=(t,e)=>new Vs({innerType:t,typeName:G.ZodReadonly,...ie(e)});function ha(t,e){const n=typeof t=="function"?t(e):typeof t=="string"?{message:t}:t;return typeof n=="string"?{message:n}:n}function kh(t,e={},n){return t?Zn.create().superRefine((s,i)=>{var r,a;const l=t(s);if(l instanceof Promise)return l.then(u=>{var c,m;if(!u){const f=ha(e,s),g=(m=(c=f.fatal)!==null&&c!==void 0?c:n)!==null&&m!==void 0?m:!0;i.addIssue({code:"custom",...f,fatal:g})}});if(!l){const u=ha(e,s),c=(a=(r=u.fatal)!==null&&r!==void 0?r:n)!==null&&a!==void 0?a:!0;i.addIssue({code:"custom",...u,fatal:c})}}):Zn.create()}const Ly={object:Oe.lazycreate};var G;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(G||(G={}));const Fy=(t,e={message:`Input not instance of ${t.name}`})=>kh(n=>n instanceof t,e),Rh=xt.create,Ah=Qt.create,$y=Di.create,zy=Xt.create,Ih=vs.create,Uy=yn.create,Wy=vi.create,Hy=ys.create,qy=_s.create,Zy=Zn.create,Ky=hn.create,Gy=Ft.create,Qy=yi.create,Xy=bt.create,Yy=Oe.create,Jy=Oe.strictCreate,e_=Ds.create,t_=$i.create,n_=Ss.create,s_=jt.create,i_=ws.create,r_=_i.create,o_=_n.create,a_=Mn.create,l_=Cs.create,c_=Es.create,u_=Yt.create,d_=Os.create,m_=Kn.create,pa=yt.create,f_=Ct.create,h_=Jt.create,p_=yt.createWithPreprocess,g_=As.create,x_=()=>Rh().optional(),b_=()=>Ah().optional(),N_=()=>Ih().optional(),v_={string:(t=>xt.create({...t,coerce:!0})),number:(t=>Qt.create({...t,coerce:!0})),boolean:(t=>vs.create({...t,coerce:!0})),bigint:(t=>Xt.create({...t,coerce:!0})),date:(t=>yn.create({...t,coerce:!0}))},y_=X;var le=Object.freeze({__proto__:null,defaultErrorMap:qn,setErrorMap:py,getErrorMap:xi,makeIssue:bi,EMPTY_PATH:gy,addIssueToContext:I,ParseStatus:He,INVALID:X,DIRTY:Bn,OK:Ke,isAborted:Mr,isDirty:Lr,isValid:vn,isAsync:Ns,get util(){return ge},get objectUtil(){return Ir},ZodParsedType:$,getParsedType:Rt,ZodType:ce,datetimeRegex:Bh,ZodString:xt,ZodNumber:Qt,ZodBigInt:Xt,ZodBoolean:vs,ZodDate:yn,ZodSymbol:vi,ZodUndefined:ys,ZodNull:_s,ZodAny:Zn,ZodUnknown:hn,ZodNever:Ft,ZodVoid:yi,ZodArray:bt,ZodObject:Oe,ZodUnion:Ds,ZodDiscriminatedUnion:$i,ZodIntersection:Ss,ZodTuple:jt,ZodRecord:ws,ZodMap:_i,ZodSet:_n,ZodFunction:Mn,ZodLazy:Cs,ZodLiteral:Es,ZodEnum:Yt,ZodNativeEnum:Os,ZodPromise:Kn,ZodEffects:yt,ZodTransformer:yt,ZodOptional:Ct,ZodNullable:Jt,ZodDefault:js,ZodCatch:Ts,ZodNaN:Di,BRAND:My,ZodBranded:ho,ZodPipeline:As,ZodReadonly:Vs,custom:kh,Schema:ce,ZodSchema:ce,late:Ly,get ZodFirstPartyTypeKind(){return G},coerce:v_,any:Zy,array:Xy,bigint:zy,boolean:Ih,date:Uy,discriminatedUnion:t_,effect:pa,enum:u_,function:a_,instanceof:Fy,intersection:n_,lazy:l_,literal:c_,map:r_,nan:$y,nativeEnum:d_,never:Gy,null:qy,nullable:h_,number:Ah,object:Yy,oboolean:N_,onumber:b_,optional:f_,ostring:x_,pipeline:g_,preprocess:p_,promise:m_,record:i_,set:o_,strictObject:Jy,string:Rh,symbol:Wy,transformer:pa,tuple:s_,undefined:Hy,union:e_,unknown:Ky,void:Qy,NEVER:y_,ZodIssueCode:R,quotelessJson:hy,ZodError:ct});const Ee={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Pe(t,e){return e.includes(t.columnType)}function __(t){return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0}const D_=le.union([le.string(),le.number(),le.boolean(),le.null()]),S_=le.union([D_,le.record(le.any()),le.array(le.any())]),w_=le.custom(t=>t instanceof Buffer);function Mh(t,e){const n=(e==null?void 0:e.zodInstance)??le,s=(e==null?void 0:e.coerce)??{};let i;return __(t)&&(i=t.enumValues.length?n.enum(t.enumValues):n.string()),i||(Pe(t,["PgGeometry","PgPointTuple"])?i=n.tuple([n.number(),n.number()]):Pe(t,["PgGeometryObject","PgPointObject"])?i=n.object({x:n.number(),y:n.number()}):Pe(t,["PgHalfVector","PgVector"])?(i=n.array(n.number()),i=t.dimensions?i.length(t.dimensions):i):Pe(t,["PgLine"])?i=n.tuple([n.number(),n.number(),n.number()]):Pe(t,["PgLineABC"])?i=n.object({a:n.number(),b:n.number(),c:n.number()}):Pe(t,["PgArray"])?(i=n.array(Mh(t.baseColumn,n)),i=t.size?i.length(t.size):i):t.dataType==="array"?i=n.array(n.any()):t.dataType==="number"?i=C_(t,n,s):t.dataType==="bigint"?i=E_(t,n,s):t.dataType==="boolean"?i=s===!0||s.boolean?n.coerce.boolean():n.boolean():t.dataType==="date"?i=s===!0||s.date?n.coerce.date():n.date():t.dataType==="string"?i=O_(t,n,s):t.dataType==="json"?i=S_:t.dataType==="custom"?i=n.any():t.dataType==="buffer"&&(i=w_)),i||(i=n.any()),i}function C_(t,e,n){let s=t.getSQLType().includes("unsigned"),i,r,a=!1;Pe(t,["MySqlTinyInt","SingleStoreTinyInt"])?(i=s?0:Ee.INT8_MIN,r=s?Ee.INT8_UNSIGNED_MAX:Ee.INT8_MAX,a=!0):Pe(t,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(i=s?0:Ee.INT16_MIN,r=s?Ee.INT16_UNSIGNED_MAX:Ee.INT16_MAX,a=!0):Pe(t,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(i=s?0:Ee.INT24_MIN,r=s?Ee.INT24_UNSIGNED_MAX:Ee.INT24_MAX,a=Pe(t,["MySqlMediumInt","SingleStoreMediumInt"])):Pe(t,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(i=s?0:Ee.INT32_MIN,r=s?Ee.INT32_UNSIGNED_MAX:Ee.INT32_MAX,a=!0):Pe(t,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(i=s?0:Ee.INT48_MIN,r=s?Ee.INT48_UNSIGNED_MAX:Ee.INT48_MAX):Pe(t,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(s=s||Pe(t,["MySqlSerial","SingleStoreSerial"]),i=s?0:Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER,a=!0):Pe(t,["MySqlYear","SingleStoreYear"])?(i=1901,r=2155,a=!0):(i=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER);let l=n===!0||n!=null&&n.number?e.coerce.number():e.number();return l=l.min(i).max(r),a?l.int():l}function E_(t,e,n){const s=t.getSQLType().includes("unsigned"),i=s?0n:Ee.INT64_MIN,r=s?Ee.INT64_UNSIGNED_MAX:Ee.INT64_MAX;return(n===!0||n!=null&&n.bigint?e.coerce.bigint():e.bigint()).min(i).max(r)}function O_(t,e,n){if(Pe(t,["PgUUID"]))return e.string().uuid();let s,i,r=!1;Pe(t,["PgVarchar","SQLiteText"])?s=t.length:Pe(t,["MySqlVarChar","SingleStoreVarChar"])?s=t.length??Ee.INT16_UNSIGNED_MAX:Pe(t,["MySqlText","SingleStoreText"])&&(t.textType==="longtext"?s=Ee.INT32_UNSIGNED_MAX:t.textType==="mediumtext"?s=Ee.INT24_UNSIGNED_MAX:t.textType==="text"?s=Ee.INT16_UNSIGNED_MAX:s=Ee.INT8_UNSIGNED_MAX),Pe(t,["PgChar","MySqlChar","SingleStoreChar"])&&(s=t.length,r=!0),Pe(t,["PgBinaryVector"])&&(i=/^[01]+$/,s=t.dimensions);let a=n===!0||n!=null&&n.string?e.coerce.string():e.string();return a=i?a.regex(i):a,s&&r?a.length(s):s?a.max(s):a}function Lh(t){return Qm(t)?Av(t):Iv(t)}function Fh(t,e,n,s){const i={};for(const[r,a]of Object.entries(t)){if(!Le(a,Wn)&&!Le(a,Ie)&&!Le(a,Ie.Aliased)&&typeof a=="object"){const f=Qm(a)||Rv(a)?Lh(a):a;i[r]=Fh(f,e[r]??{},n,s);continue}const l=e[r];if(l!==void 0&&typeof l!="function"){i[r]=l;continue}const u=Le(a,Wn)?a:void 0,c=u?Mh(u,s):le.any(),m=typeof l=="function"?l(c):c;n.never(u)||(i[r]=m,u&&(n.nullable(u)&&(i[r]=i[r].nullable()),n.optional(u)&&(i[r]=i[r].optional())))}return le.object(i)}const j_={never:t=>{var e,n;return((e=t==null?void 0:t.generated)==null?void 0:e.type)==="always"||((n=t==null?void 0:t.generatedIdentity)==null?void 0:n.type)==="always"},optional:t=>!t.notNull||t.notNull&&t.hasDefault,nullable:t=>!t.notNull},po=(t,e)=>{const n=Lh(t);return Fh(n,{},j_)},go=fo("users",{id:fn("id").primaryKey().default(Nn`gen_random_uuid()`),username:st("username").notNull().unique(),password:st("password").notNull(),role:st("role").notNull().default("employee"),employeeId:st("employee_id").unique(),department:st("department"),joinDate:mn("join_date").defaultNow(),isActive:Hn("is_active").default(!0),isLoggedIn:Hn("is_logged_in").default(!1),defaultStartTime:st("default_start_time"),defaultEndTime:st("default_end_time"),createdAt:mn("created_at").defaultNow()}),$h=fo("attendance_records",{id:fn("id").primaryKey().default(Nn`gen_random_uuid()`),userId:fn("user_id").notNull().references(()=>go.id),checkInTime:mn("check_in_time").notNull(),checkOutTime:mn("check_out_time"),hoursWorked:Yv("hours_worked",{precision:5,scale:2}),isLate:Hn("is_late").default(!1),isEarlyLeave:Hn("is_early_leave").default(!1),audioFileUrl:st("audio_file_url"),date:st("date").notNull(),createdAt:mn("created_at").defaultNow()}),T_=fo("audio_recordings",{id:fn("id").primaryKey().default(Nn`gen_random_uuid()`),userId:fn("user_id").notNull().references(()=>go.id),attendanceId:fn("attendance_id").references(()=>$h.id),fileUrl:st("file_url"),fileName:st("file_name"),fileSize:Rr("file_size"),duration:Rr("duration"),recordingDate:st("recording_date").notNull(),isActive:Hn("is_active").default(!1),createdAt:mn("created_at").defaultNow()});po(go).omit({id:!0,createdAt:!0,isLoggedIn:!0});po($h).omit({id:!0,createdAt:!0});po(T_).omit({id:!0,createdAt:!0});const V_=le.object({username:le.string().min(1,"Username is required"),password:le.string().min(1,"Password is required"),location:le.object({latitude:le.number(),longitude:le.number(),accuracy:le.number()}).nullable()});le.object({username:le.string().min(1,"Username is required"),password:le.string().min(1,"Password is required"),audioPassword:le.string().optional()});function B_(){const{user:t,isLoading:e,loginMutation:n}=Vt();$t();const[s,i]=d.useState(!1),[r,a]=d.useState(null),l=ms({resolver:bs(V_),defaultValues:{username:"",password:"",location:null}});if(t)return o.jsxDEV(ai,{to:t.role==="admin"?"/admin":"/"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:34,columnNumber:12},this);if(e)return o.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxDEV(je,{className:"h-8 w-8 animate-spin text-primary"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:40,columnNumber:9},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:39,columnNumber:7},this);const u=async c=>{if(n.isPending||s)return;a(null);let m={latitude:0,longitude:0,accuracy:1};try{await n.mutateAsync({...c,location:m})}catch{}};return o.jsxDEV("div",{className:"min-h-screen bg-gray-50 flex",children:[o.jsxDEV("div",{className:"flex-1 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:o.jsxDEV("div",{className:"max-w-md w-full space-y-8",children:o.jsxDEV(he,{children:[o.jsxDEV(ze,{className:"space-y-1",children:[o.jsxDEV(Ue,{className:"text-2xl font-bold text-center text-gray-900",children:"Employee Portal"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:69,columnNumber:15},this),o.jsxDEV("p",{className:"text-center text-gray-600",children:"Bedi Enterprises Attendance System"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:72,columnNumber:15},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:68,columnNumber:13},this),o.jsxDEV(pe,{children:o.jsxDEV("div",{className:"space-y-4",children:o.jsxDEV(xs,{...l,children:o.jsxDEV("form",{onSubmit:l.handleSubmit(u),className:"space-y-4",children:[o.jsxDEV(tt,{control:l.control,name:"username",render:({field:c})=>o.jsxDEV(Qe,{children:[o.jsxDEV(nt,{children:"Username"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:85,columnNumber:29},this),o.jsxDEV(Xe,{children:o.jsxDEV(ot,{placeholder:"Enter username",autoComplete:"username",...c,"data-testid":"input-username"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:87,columnNumber:31},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:86,columnNumber:29},this),o.jsxDEV(Ye,{},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:94,columnNumber:29},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:84,columnNumber:27},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:80,columnNumber:23},this),o.jsxDEV(tt,{control:l.control,name:"password",render:({field:c})=>o.jsxDEV(Qe,{children:[o.jsxDEV(nt,{children:"Password"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:104,columnNumber:29},this),o.jsxDEV(Xe,{children:o.jsxDEV(ot,{type:"password",placeholder:"Enter password",autoComplete:"current-password",...c,"data-testid":"input-password"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:106,columnNumber:31},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:105,columnNumber:29},this),o.jsxDEV(Ye,{},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:114,columnNumber:29},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:103,columnNumber:27},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:99,columnNumber:23},this),o.jsxDEV(te,{type:"submit",className:"w-full bg-primary hover:bg-blue-700",disabled:n.isPending||s,"data-testid":"button-login",children:[(n.isPending||s)&&o.jsxDEV(je,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:126,columnNumber:27},this),"Sign In"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:119,columnNumber:23},this),r&&o.jsxDEV("p",{className:"text-sm text-red-600","data-testid":"location-error",children:r},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:131,columnNumber:25},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:79,columnNumber:21},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:78,columnNumber:19},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:77,columnNumber:15},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:76,columnNumber:13},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:67,columnNumber:11},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:66,columnNumber:9},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:65,columnNumber:7},this),o.jsxDEV("div",{className:"hidden lg:flex flex-1 bg-primary",children:o.jsxDEV("div",{className:"flex items-center justify-center w-full px-12",children:o.jsxDEV("div",{className:"text-center text-white",children:[o.jsxDEV(Hg,{className:"h-16 w-16 mx-auto mb-6"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:147,columnNumber:13},this),o.jsxDEV("h2",{className:"text-3xl font-bold mb-4",children:"Bedi Enterprises"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:148,columnNumber:13},this),o.jsxDEV("p",{className:"text-xl mb-6",children:"Modern Attendance & Monitoring System"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:149,columnNumber:13},this),o.jsxDEV("ul",{className:"text-left space-y-2 max-w-sm",children:[o.jsxDEV("li",{className:"flex items-center",children:[o.jsxDEV("div",{className:"w-2 h-2 bg-white rounded-full mr-3"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:152,columnNumber:17},this),"GPS-based check-in/out"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:151,columnNumber:15},this),o.jsxDEV("li",{className:"flex items-center",children:[o.jsxDEV("div",{className:"w-2 h-2 bg-white rounded-full mr-3"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:156,columnNumber:17},this),"Real-time attendance tracking"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:155,columnNumber:15},this),o.jsxDEV("li",{className:"flex items-center",children:[o.jsxDEV("div",{className:"w-2 h-2 bg-white rounded-full mr-3"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:160,columnNumber:17},this),"Admin-managed accounts"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:159,columnNumber:15},this),o.jsxDEV("li",{className:"flex items-center",children:[o.jsxDEV("div",{className:"w-2 h-2 bg-white rounded-full mr-3"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:164,columnNumber:17},this),"Secure and reliable"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:163,columnNumber:15},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:150,columnNumber:13},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:146,columnNumber:11},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:145,columnNumber:9},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:144,columnNumber:7},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/auth-page.tsx",lineNumber:63,columnNumber:5},this)}const P_=Pi("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function qt({className:t,variant:e,...n}){return o.jsxDEV("div",{className:se(P_({variant:e}),t),...n},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/badge.tsx",lineNumber:32,columnNumber:5},this)}class k_{constructor(){D(this,"mediaRecorder",null);D(this,"stream",null);D(this,"isRecording",!1);D(this,"startTime",null);D(this,"chunkStartTime",0);D(this,"chunkTimer",null);D(this,"isCycling",!1);D(this,"lastUploadAt",null);D(this,"sentFirstChunk",!1);D(this,"chosenMimeType",null);D(this,"fileExtension","ogg")}pickSupportedMime(){try{const e=["audio/ogg;codecs=opus","audio/webm;codecs=opus","audio/ogg","audio/webm"];for(const n of e)if(window.MediaRecorder&&MediaRecorder.isTypeSupported&&MediaRecorder.isTypeSupported(n)){this.chosenMimeType=n,this.fileExtension=n.includes("ogg")?"ogg":"webm";return}this.chosenMimeType=null,this.fileExtension="ogg"}catch{this.chosenMimeType=null,this.fileExtension="ogg"}}async startRecording(){if(this.isRecording){console.log(" Recording already in progress");return}try{console.log(" Requesting microphone access..."),this.stream=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0}}),this.pickSupportedMime();const e=this.chosenMimeType?{mimeType:this.chosenMimeType,audioBitsPerSecond:128e3}:{mimeType:"audio/ogg;codecs=opus",audioBitsPerSecond:128e3};this.mediaRecorder=new MediaRecorder(this.stream,e),this.startTime=new Date,this.chunkStartTime=Date.now(),this.lastUploadAt=Date.now(),this.sentFirstChunk=!1,this.isCycling=!1,this.mediaRecorder.ondataavailable=n=>{if(n.data.size>0){const s=Date.now(),i=Math.max(1,Math.floor((s-this.chunkStartTime)/1e3));this.sentFirstChunk=!0,console.log(` Audio chunk recorded: ${n.data.size} bytes (~${i}s)`),this.uploadAudio(n.data,i)}},this.mediaRecorder.onerror=n=>{console.error(" MediaRecorder error:",n)},this.mediaRecorder.onstop=()=>{this.isCycling?(console.log(" Cycling recording chunk..."),this.isCycling=!1,this.mediaRecorder&&this.isRecording&&(this.chunkStartTime=Date.now(),this.mediaRecorder.start(),this.startChunkTimer())):(console.log(" Recording stopped"),this.cleanup())},this.mediaRecorder.start(),this.isRecording=!0,this.startChunkTimer(),console.log(" Audio recording started successfully")}catch(e){if(console.error(" Failed to start recording:",e),e instanceof Error){if(e.name==="NotAllowedError")throw new Error("Microphone access denied. Please allow microphone access and try again.");if(e.name==="NotFoundError")throw new Error("No microphone found. Please connect a microphone and try again.")}throw e}}startChunkTimer(){this.chunkTimer&&clearTimeout(this.chunkTimer),this.chunkTimer=setTimeout(()=>{this.isRecording&&this.mediaRecorder&&this.mediaRecorder.state==="recording"&&(this.isCycling=!0,this.mediaRecorder.stop())},6e4)}async stopRecording(){return!this.isRecording||!this.mediaRecorder?(console.log(" No active recording to stop"),null):(console.log(" Stopping audio recording..."),this.isRecording=!1,this.chunkTimer&&clearTimeout(this.chunkTimer),new Promise(e=>{if(!this.mediaRecorder){e(null);return}const n=this.mediaRecorder.onstop;this.mediaRecorder.onstop=s=>{n&&n.call(this.mediaRecorder,s),e(null)},this.mediaRecorder.state!=="inactive"?this.mediaRecorder.stop():(this.cleanup(),e(null))}))}async uploadAudio(e,n){try{console.log(` Uploading audio blob: ${e.size} bytes`);const s=new FormData,r=`recording-${Date.now()}.${this.fileExtension}`;s.append("audio",e,r),s.append("duration",n.toString());let a;try{const c=localStorage.getItem("uploadToken");c&&(a={Authorization:`Bearer ${c}`})}catch{}const l=ei(),u=await fetch(`${l}/api/audio/upload`,{method:"POST",body:s,credentials:"include",headers:a});if(u.ok){const c=await u.json();console.log(" Audio upload successful:",c)}else{const c=await u.text();throw console.error(` Audio upload failed: ${u.status} ${u.statusText}`,c),new Error(`Upload failed: ${u.status} ${u.statusText}`)}}catch(s){console.error(" Audio upload error:",s)}}cleanup(){this.stream&&(this.stream.getTracks().forEach(e=>{e.stop(),console.log(` Stopped audio track: ${e.kind}`)}),this.stream=null),this.mediaRecorder=null,this.startTime=null,console.log(" Audio recorder cleaned up")}getRecordingState(){return this.isRecording}getRecordingDuration(){return!this.isRecording||!this.startTime?0:Math.floor((Date.now()-this.startTime.getTime())/1e3)}}const as=new k_;let un=null,ii=null;async function R_(){try{const t=navigator;if(!("wakeLock"in t))return!1;un=await t.wakeLock.request("screen");const e=async()=>{try{document.visibilityState==="visible"&&!un&&(un=await t.wakeLock.request("screen"))}catch{}};return ii=e,document.addEventListener("visibilitychange",e),!0}catch{return!1}}function ga(){try{un&&typeof un.release=="function"&&un.release()}catch{}un=null,ii&&(document.removeEventListener("visibilitychange",ii),ii=null)}function A_(t,e,n,s){const r=t*Math.PI/180,a=n*Math.PI/180,l=(n-t)*Math.PI/180,u=(s-e)*Math.PI/180,c=Math.sin(l/2)**2+Math.cos(r)*Math.cos(a)*Math.sin(u/2)**2;return 6371e3*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))}const xa={latitude:29.394154,longitude:76.969757};function I_(){const{user:t,logoutMutation:e}=Vt(),{toast:n}=$t(),[s,i]=d.useState({distance:null,isWithinRange:!1,isLoading:!0,error:null}),[r,a]=d.useState("0h 0m"),[l,u]=d.useState(!1);d.useEffect(()=>{let p;try{const S=Je();if(S){const E=new URL(S);p=`${E.protocol==="https:"?"wss:":"ws:"}//${E.host}/ws`}else p=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`}catch{p=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`}let _=null;try{_=new WebSocket(p),_.onmessage=async S=>{try{const E=JSON.parse(S.data);if((E==null?void 0:E.type)==="audio_stop"){try{await as.stopRecording()}catch{}u(!1);try{ga()}catch{}}}catch{}}}catch{}return()=>{_&&_.readyState===WebSocket.OPEN&&_.close()}},[]);const{data:c,isLoading:m}=It({queryKey:["/api/attendance/today"],refetchInterval:3e4}),f=et({mutationFn:async({latitude:p,longitude:_})=>await(await $e("POST","/api/attendance/checkin",{latitude:p,longitude:_})).json(),onSuccess:async p=>{Fe.setQueryData(["/api/attendance/today"],p),n({title:"Checked in successfully",description:"Your attendance has been recorded"});try{await as.startRecording();try{await R_()}catch{}u(!0),console.log("[rec] Web recording started")}catch(_){console.error("Audio recording failed:",_),n({title:"Microphone permission required",description:"Please allow microphone access in the browser and try again.",variant:"destructive"})}},onError:p=>{n({title:"Check-in failed",description:p.message,variant:"destructive"})}}),g=et({mutationFn:async()=>await(await $e("POST","/api/attendance/checkout")).json(),onSuccess:async p=>{Fe.setQueryData(["/api/attendance/today"],p),n({title:"Checked out successfully",description:"Your work session has been completed"});try{await as.stopRecording();try{ga()}catch{}u(!1),console.log(" Audio recording stopped")}catch(_){console.error("Audio recording stop failed:",_)}},onError:p=>{n({title:"Check-out failed",description:p.message,variant:"destructive"})}});d.useEffect(()=>{const p=async()=>{i(P=>({...P,isLoading:!0}));const S={latitude:0,longitude:0},E=A_(S.latitude,S.longitude,xa.latitude,xa.longitude);i({distance:Math.round(E),isWithinRange:!0,isLoading:!1,error:null})};p();const _=setInterval(p,1e4);return()=>clearInterval(_)},[]),d.useEffect(()=>{const p=()=>{if(!(c!=null&&c.checkInTime)){a("0h 0m");return}const S=new Date(c.checkInTime),P=(c.checkOutTime?new Date(c.checkOutTime):new Date).getTime()-S.getTime(),w=Math.floor(P/(1e3*60*60)),L=Math.floor(P%(1e3*60*60)/(1e3*60));a(`${w}h ${L}m`)};p();const _=setInterval(p,1e3);return()=>clearInterval(_)},[c]),d.useEffect(()=>{if(c){const p=c.checkInTime&&!c.checkOutTime;u(p)}},[c]),d.useEffect(()=>{let p;return l&&(p=setInterval(async()=>{try{as.getRecordingState()||await as.startRecording()}catch{}},15e3)),()=>{p&&clearInterval(p)}},[l]);const b=async()=>{const p={latitude:0,longitude:0};f.mutate(p)},v=()=>{confirm("Are you sure you want to check out?")&&g.mutate()},h=!!c,x=c&&!c.checkOutTime,y=!h;return o.jsxDEV("div",{className:"min-h-screen bg-gray-50",children:[o.jsxDEV("div",{className:"bg-white shadow-sm border-b",children:o.jsxDEV("div",{className:"max-w-md mx-auto px-4 py-4 flex justify-between items-center",children:[o.jsxDEV("h1",{className:"text-lg font-semibold text-gray-900","data-testid":"text-dashboard-title",children:"Dashboard"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:249,columnNumber:11},this),o.jsxDEV("div",{className:"flex items-center space-x-4",children:[o.jsxDEV(At,{href:"/history",children:o.jsxDEV(te,{variant:"ghost",size:"sm","data-testid":"button-history",children:o.jsxDEV(qg,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:255,columnNumber:17},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:254,columnNumber:15},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:253,columnNumber:13},this),o.jsxDEV(At,{href:"/profile",children:o.jsxDEV(te,{variant:"ghost",size:"sm","data-testid":"button-profile",children:o.jsxDEV(hd,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:260,columnNumber:17},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:259,columnNumber:15},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:258,columnNumber:13},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:252,columnNumber:11},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:248,columnNumber:9},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:247,columnNumber:7},this),o.jsxDEV("div",{className:"max-w-md mx-auto px-4 py-6 space-y-6",children:[o.jsxDEV(he,{children:o.jsxDEV(pe,{className:"pt-6",children:o.jsxDEV("div",{className:"text-center",children:[o.jsxDEV("div",{className:"flex items-center justify-center mb-2",children:[o.jsxDEV(Zg,{className:"h-5 w-5 mr-2 text-gray-600"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:273,columnNumber:17},this),s.isLoading?o.jsxDEV("div",{className:"flex items-center",children:[o.jsxDEV(je,{className:"h-4 w-4 animate-spin mr-2"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:276,columnNumber:21},this),o.jsxDEV("span",{className:"text-gray-600",children:"Getting location..."},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:277,columnNumber:21},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:275,columnNumber:19},this):s.error?o.jsxDEV("span",{className:"text-error","data-testid":"text-location-error",children:"Location unavailable"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:280,columnNumber:19},this):o.jsxDEV(o.Fragment,{children:[o.jsxDEV("span",{className:"text-2xl mr-2","data-testid":"text-location-status",children:s.isWithinRange?"":""},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:285,columnNumber:21},this),o.jsxDEV("span",{className:`text-lg font-medium ${s.isWithinRange?"text-success":"text-error"}`,children:s.isWithinRange?"At Shop":"Away"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:291,columnNumber:21},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:284,columnNumber:19},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:272,columnNumber:15},this),s.distance!==null&&o.jsxDEV("p",{className:"text-sm text-gray-600","data-testid":"text-distance",children:["Distance: ",s.distance," meters"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:302,columnNumber:17},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:271,columnNumber:13},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:270,columnNumber:11},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:269,columnNumber:9},this),o.jsxDEV(he,{children:o.jsxDEV(pe,{className:"pt-6 text-center",children:[o.jsxDEV(te,{size:"lg",className:`w-36 h-36 rounded-full text-xl font-bold shadow-lg mb-4 transition-all duration-300 ${x?"bg-red-600 hover:bg-red-700 text-white animate-pulse":y?"bg-green-600 hover:bg-green-700 text-white":"bg-gray-400 cursor-not-allowed"}`,disabled:!y&&!x||f.isPending||g.isPending,onClick:x?v:b,"data-testid":x?"button-checkout":"button-checkin",children:[(f.isPending||g.isPending)&&o.jsxDEV(je,{className:"h-6 w-6 animate-spin"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:327,columnNumber:17},this),!f.isPending&&!g.isPending&&(x?"I'M OUT":"I'M HERE")]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:313,columnNumber:13},this),o.jsxDEV("p",{className:"text-xs text-gray-500",children:x?"Tap to stop work":h?"Today's attendance recorded":"Tap to start work"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:333,columnNumber:13},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:312,columnNumber:11},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:311,columnNumber:9},this),o.jsxDEV(he,{children:[o.jsxDEV(ze,{children:o.jsxDEV(Ue,{className:"text-base",children:"Today's Activity"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:346,columnNumber:13},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:345,columnNumber:11},this),o.jsxDEV(pe,{children:m?o.jsxDEV("div",{className:"flex justify-center",children:o.jsxDEV(je,{className:"h-4 w-4 animate-spin"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:351,columnNumber:17},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:350,columnNumber:15},this):o.jsxDEV("div",{className:"space-y-2 text-sm",children:[o.jsxDEV("div",{className:"flex justify-between",children:[o.jsxDEV("span",{className:"text-gray-600",children:"Check-in Time:"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:356,columnNumber:19},this),o.jsxDEV("span",{className:"font-medium","data-testid":"text-checkin-time",children:c!=null&&c.checkInTime?new Date(c.checkInTime).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"Not checked in"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:357,columnNumber:19},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:355,columnNumber:17},this),o.jsxDEV("div",{className:"flex justify-between",children:[o.jsxDEV("span",{className:"text-gray-600",children:"Hours Worked:"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:368,columnNumber:19},this),o.jsxDEV("div",{className:"flex items-center space-x-2",children:[o.jsxDEV("span",{className:"font-medium","data-testid":"text-hours-worked",children:r},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:370,columnNumber:21},this),x&&o.jsxDEV("div",{className:"flex items-center",children:[o.jsxDEV("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:375,columnNumber:25},this),o.jsxDEV("span",{className:"text-xs text-green-600 ml-1",children:"Live"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:376,columnNumber:25},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:374,columnNumber:23},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:369,columnNumber:19},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:367,columnNumber:17},this),o.jsxDEV("div",{className:"flex justify-between",children:[o.jsxDEV("span",{className:"text-gray-600",children:"Status:"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:382,columnNumber:19},this),o.jsxDEV(qt,{variant:c!=null&&c.isLate?"destructive":"default",className:c!=null&&c.isLate?"":"bg-success text-white","data-testid":"badge-status",children:c!=null&&c.isLate?"Late":"On Time"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:383,columnNumber:19},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:381,columnNumber:17},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:354,columnNumber:15},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:348,columnNumber:11},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:344,columnNumber:9},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:267,columnNumber:7},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-dashboard.tsx",lineNumber:244,columnNumber:5},this)}function M_(){const{user:t}=Vt(),{data:e,isLoading:n}=It({queryKey:["/api/attendance/history"]}),s=c=>{const m=typeof c=="string"?new Date(c):c,f=new Date,g=new Date(f);return g.setDate(g.getDate()-1),m.toDateString()===f.toDateString()?"Today":m.toDateString()===g.toDateString()?"Yesterday":m.toLocaleDateString()},i=c=>(typeof c=="string"?new Date(c):c).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),a=(()=>{if(!e)return{totalHours:0,daysPresent:0};const c=new Date;c.setDate(c.getDate()-7);const m=e.filter(g=>new Date(g.checkInTime)>=c),f=m.reduce((g,b)=>g+parseFloat(b.hoursWorked||"0"),0);return{totalHours:Math.round(f*10)/10,daysPresent:m.length}})(),u=(()=>{if(!e)return{totalHours:0,daysPresent:0};const c=new Date,m=new Date(c.getFullYear(),c.getMonth(),1),f=e.filter(b=>new Date(b.checkInTime)>=m),g=f.reduce((b,v)=>b+parseFloat(v.hoursWorked||"0"),0);return{totalHours:Math.round(g*10)/10,daysPresent:f.length}})();return o.jsxDEV("div",{className:"min-h-screen bg-gray-50",children:[o.jsxDEV("div",{className:"bg-white shadow-sm border-b",children:o.jsxDEV("div",{className:"max-w-md mx-auto px-4 py-4 flex items-center",children:[o.jsxDEV(At,{href:"/",children:o.jsxDEV(te,{variant:"ghost",size:"sm",className:"mr-4","data-testid":"button-back",children:o.jsxDEV(Ti,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:82,columnNumber:15},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:81,columnNumber:13},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:80,columnNumber:11},this),o.jsxDEV("h1",{className:"text-lg font-semibold text-gray-900","data-testid":"text-history-title",children:"Attendance History"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:85,columnNumber:11},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:79,columnNumber:9},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:78,columnNumber:7},this),o.jsxDEV("div",{className:"max-w-md mx-auto px-4 py-6",children:n?o.jsxDEV("div",{className:"flex justify-center py-8",children:o.jsxDEV(je,{className:"h-6 w-6 animate-spin"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:94,columnNumber:13},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:93,columnNumber:11},this):o.jsxDEV(o.Fragment,{children:[o.jsxDEV("div",{className:"space-y-3 mb-6",children:[e==null?void 0:e.map(c=>o.jsxDEV(he,{"data-testid":`card-attendance-${c.id}`,children:o.jsxDEV(pe,{className:"p-4",children:[o.jsxDEV("div",{className:"flex justify-between items-start mb-2",children:[o.jsxDEV("span",{className:"font-medium text-gray-900",children:s(c.checkInTime)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:104,columnNumber:23},this),o.jsxDEV(qt,{variant:c.isLate?"destructive":"default",className:c.isLate?"":"bg-success text-white","data-testid":`badge-status-${c.id}`,children:c.isLate?"Late":c.isEarlyLeave?"Early Leave":"On Time"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:107,columnNumber:23},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:103,columnNumber:21},this),o.jsxDEV("div",{className:"text-sm text-gray-600 space-y-1",children:[o.jsxDEV("div",{"data-testid":`text-times-${c.id}`,children:["Check-in: ",i(c.checkInTime),c.checkOutTime&&o.jsxDEV(o.Fragment,{children:["  Check-out: ",i(c.checkOutTime)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:119,columnNumber:27},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:116,columnNumber:23},this),o.jsxDEV("div",{"data-testid":`text-hours-${c.id}`,children:["Hours: ",c.hoursWorked||"0","h",!c.checkOutTime&&" (In Progress)"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:122,columnNumber:23},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:115,columnNumber:21},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:102,columnNumber:19},this)},c.id,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:101,columnNumber:17},this)),!e||e.length===0?o.jsxDEV(he,{children:o.jsxDEV(pe,{className:"p-6 text-center",children:o.jsxDEV("p",{className:"text-gray-500","data-testid":"text-no-records",children:"No attendance records found"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:134,columnNumber:21},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:133,columnNumber:19},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:132,columnNumber:17},this):null]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:99,columnNumber:13},this),o.jsxDEV("div",{className:"grid grid-cols-1 gap-4",children:[o.jsxDEV(he,{"data-testid":"card-weekly-summary",children:[o.jsxDEV(ze,{children:o.jsxDEV(Ue,{className:"text-base",children:"This Week"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:146,columnNumber:19},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:145,columnNumber:17},this),o.jsxDEV(pe,{children:o.jsxDEV("div",{className:"text-sm space-y-2",children:[o.jsxDEV("div",{className:"flex justify-between",children:[o.jsxDEV("span",{className:"text-gray-600",children:"Total Hours:"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:151,columnNumber:23},this),o.jsxDEV("span",{className:"font-medium","data-testid":"text-total-hours",children:[a.totalHours,"h"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:152,columnNumber:23},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:150,columnNumber:21},this),o.jsxDEV("div",{className:"flex justify-between",children:[o.jsxDEV("span",{className:"text-gray-600",children:"Days Present:"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:157,columnNumber:23},this),o.jsxDEV("span",{className:"font-medium","data-testid":"text-days-present",children:a.daysPresent},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:158,columnNumber:23},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:156,columnNumber:21},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:149,columnNumber:19},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:148,columnNumber:17},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:144,columnNumber:15},this),o.jsxDEV(he,{"data-testid":"card-monthly-summary",children:[o.jsxDEV(ze,{children:o.jsxDEV(Ue,{className:"text-base",children:"This Month"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:169,columnNumber:19},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:168,columnNumber:17},this),o.jsxDEV(pe,{children:o.jsxDEV("div",{className:"text-sm space-y-2",children:[o.jsxDEV("div",{className:"flex justify-between",children:[o.jsxDEV("span",{className:"text-gray-600",children:"Total Hours:"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:174,columnNumber:23},this),o.jsxDEV("span",{className:"font-medium",children:[u.totalHours,"h"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:175,columnNumber:23},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:173,columnNumber:21},this),o.jsxDEV("div",{className:"flex justify-between",children:[o.jsxDEV("span",{className:"text-gray-600",children:"Days Present:"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:180,columnNumber:23},this),o.jsxDEV("span",{className:"font-medium",children:u.daysPresent},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:181,columnNumber:23},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:179,columnNumber:21},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:172,columnNumber:19},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:171,columnNumber:17},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:167,columnNumber:15},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:142,columnNumber:13},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:97,columnNumber:11},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:91,columnNumber:7},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-history.tsx",lineNumber:76,columnNumber:5},this)}function L_(){const{user:t,logoutMutation:e}=Vt();if(!t)return o.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxDEV(je,{className:"h-8 w-8 animate-spin text-primary"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-profile.tsx",lineNumber:15,columnNumber:9},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-profile.tsx",lineNumber:14,columnNumber:7},this);const n=()=>{e.mutate()};return o.jsxDEV("div",{className:"min-h-screen bg-gray-50",children:[o.jsxDEV("div",{className:"bg-white shadow-sm border-b",children:o.jsxDEV("div",{className:"max-w-md mx-auto px-4 py-4 flex items-center",children:[o.jsxDEV(At,{href:"/",children:o.jsxDEV(te,{variant:"ghost",size:"sm",className:"mr-4","data-testid":"button-back",children:o.jsxDEV(Ti,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-profile.tsx",lineNumber:33,columnNumber:15},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-profile.tsx",lineNumber:32,columnNumber:13},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-profile.tsx",lineNumber:31,columnNumber:11},this),o.jsxDEV("h1",{className:"text-lg font-semibold text-gray-900","data-testid":"text-profile-title",children:"Profile"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-profile.tsx",lineNumber:36,columnNumber:11},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-profile.tsx",lineNumber:30,columnNumber:9},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-profile.tsx",lineNumber:29,columnNumber:7},this),o.jsxDEV("div",{className:"max-w-md mx-auto px-4 py-6",children:o.jsxDEV(he,{children:o.jsxDEV(pe,{className:"p-6",children:[o.jsxDEV("div",{className:"text-center mb-6",children:[o.jsxDEV("div",{className:"w-16 h-16 bg-gray-300 rounded-full mx-auto mb-3 flex items-center justify-center",children:o.jsxDEV(hd,{className:"h-8 w-8 text-gray-600"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-profile.tsx",lineNumber:47,columnNumber:17},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-profile.tsx",lineNumber:46,columnNumber:15},this),o.jsxDEV("h2",{className:"text-xl font-semibold text-gray-900","data-testid":"text-username",children:t.username},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-profile.tsx",lineNumber:49,columnNumber:15},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-profile.tsx",lineNumber:45,columnNumber:13},this),o.jsxDEV("div",{className:"space-y-4",children:[o.jsxDEV("div",{children:o.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-profile.tsx",lineNumber:57,columnNumber:17},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-profile.tsx",lineNumber:56,columnNumber:15},this),o.jsxDEV("div",{children:[o.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shift Time"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-profile.tsx",lineNumber:88,columnNumber:17},this),o.jsxDEV("p",{className:"text-gray-900","data-testid":"text-shift-time",children:"9:00 AM - 9:30 PM"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-profile.tsx",lineNumber:91,columnNumber:17},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-profile.tsx",lineNumber:87,columnNumber:15},this),t.joinDate&&o.jsxDEV("div",{children:[o.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Join Date"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-profile.tsx",lineNumber:98,columnNumber:19},this),o.jsxDEV("p",{className:"text-gray-900","data-testid":"text-join-date",children:new Date(t.joinDate).toLocaleDateString()},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-profile.tsx",lineNumber:101,columnNumber:19},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-profile.tsx",lineNumber:97,columnNumber:17},this),o.jsxDEV(te,{onClick:n,className:"w-full bg-gray-600 text-white hover:bg-gray-700 mt-6",disabled:e.isPending,"data-testid":"button-logout",children:[e.isPending&&o.jsxDEV(je,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-profile.tsx",lineNumber:113,columnNumber:46},this),"Logout"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-profile.tsx",lineNumber:107,columnNumber:15},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-profile.tsx",lineNumber:55,columnNumber:13},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-profile.tsx",lineNumber:44,columnNumber:11},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-profile.tsx",lineNumber:43,columnNumber:9},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-profile.tsx",lineNumber:42,columnNumber:7},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/employee-profile.tsx",lineNumber:27,columnNumber:5},this)}const F_=le.object({username:le.string().min(1,"Username is required"),password:le.string().min(1,"Password is required")});function $_(){const{user:t,isLoading:e,adminLoginMutation:n}=Vt(),s=ms({resolver:bs(F_),defaultValues:{username:"",password:""}});if((t==null?void 0:t.role)==="admin")return o.jsxDEV(ai,{to:"/admin"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-login.tsx",lineNumber:32,columnNumber:12},this);if((t==null?void 0:t.role)==="employee")return o.jsxDEV(ai,{to:"/"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-login.tsx",lineNumber:37,columnNumber:12},this);if(e)return o.jsxDEV("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxDEV(je,{className:"h-8 w-8 animate-spin text-primary"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-login.tsx",lineNumber:43,columnNumber:9},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-login.tsx",lineNumber:42,columnNumber:7},this);const i=r=>{n.mutate(r)};return o.jsxDEV("div",{className:"min-h-screen flex items-center justify-center px-4 bg-gray-50",children:o.jsxDEV("div",{className:"max-w-md w-full",children:o.jsxDEV(he,{children:[o.jsxDEV(ze,{className:"space-y-1 text-center",children:[o.jsxDEV("div",{className:"flex justify-center mb-4",children:o.jsxDEV(Kg,{className:"h-12 w-12 text-primary"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-login.tsx",lineNumber:58,columnNumber:15},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-login.tsx",lineNumber:57,columnNumber:13},this),o.jsxDEV(Ue,{className:"text-3xl font-bold text-gray-900",children:"Admin Portal"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-login.tsx",lineNumber:60,columnNumber:13},this),o.jsxDEV("p",{className:"text-gray-600",children:"Bedi Enterprises Management System"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-login.tsx",lineNumber:63,columnNumber:13},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-login.tsx",lineNumber:56,columnNumber:11},this),o.jsxDEV(pe,{className:"space-y-6",children:o.jsxDEV(xs,{...s,children:o.jsxDEV("form",{onSubmit:s.handleSubmit(i),className:"space-y-6",children:[o.jsxDEV(tt,{control:s.control,name:"username",render:({field:r})=>o.jsxDEV(Qe,{children:[o.jsxDEV(nt,{children:"Username"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-login.tsx",lineNumber:75,columnNumber:23},this),o.jsxDEV(Xe,{children:o.jsxDEV(ot,{...r,autoComplete:"username","data-testid":"input-admin-username",className:"px-4 py-3"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-login.tsx",lineNumber:77,columnNumber:25},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-login.tsx",lineNumber:76,columnNumber:23},this),o.jsxDEV(Ye,{},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-login.tsx",lineNumber:84,columnNumber:23},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-login.tsx",lineNumber:74,columnNumber:21},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-login.tsx",lineNumber:70,columnNumber:17},this),o.jsxDEV(tt,{control:s.control,name:"password",render:({field:r})=>o.jsxDEV(Qe,{children:[o.jsxDEV(nt,{children:"Password"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-login.tsx",lineNumber:94,columnNumber:23},this),o.jsxDEV(Xe,{children:o.jsxDEV(ot,{type:"password",placeholder:"Enter password",autoComplete:"current-password",...r,"data-testid":"input-admin-password",className:"px-4 py-3"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-login.tsx",lineNumber:96,columnNumber:25},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-login.tsx",lineNumber:95,columnNumber:23},this),o.jsxDEV(Ye,{},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-login.tsx",lineNumber:105,columnNumber:23},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-login.tsx",lineNumber:93,columnNumber:21},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-login.tsx",lineNumber:89,columnNumber:17},this),o.jsxDEV(te,{type:"submit",className:"w-full bg-primary hover:bg-blue-700 py-3 font-medium",disabled:n.isPending,"data-testid":"button-admin-login",children:[n.isPending&&o.jsxDEV(je,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-login.tsx",lineNumber:117,columnNumber:52},this),"Access Admin Panel"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-login.tsx",lineNumber:111,columnNumber:17},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-login.tsx",lineNumber:69,columnNumber:15},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-login.tsx",lineNumber:68,columnNumber:13},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-login.tsx",lineNumber:67,columnNumber:11},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-login.tsx",lineNumber:55,columnNumber:9},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-login.tsx",lineNumber:54,columnNumber:7},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-login.tsx",lineNumber:53,columnNumber:5},this)}const Is=d.forwardRef(({className:t,...e},n)=>o.jsxDEV("div",{className:"relative w-full overflow-auto",children:o.jsxDEV("table",{ref:n,className:se("w-full caption-bottom text-sm",t),...e},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/table.tsx",lineNumber:10,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/table.tsx",lineNumber:9,columnNumber:3},void 0));Is.displayName="Table";const Ms=d.forwardRef(({className:t,...e},n)=>o.jsxDEV("thead",{ref:n,className:se("[&_tr]:border-b",t),...e},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/table.tsx",lineNumber:23,columnNumber:3},void 0));Ms.displayName="TableHeader";const Ls=d.forwardRef(({className:t,...e},n)=>o.jsxDEV("tbody",{ref:n,className:se("[&_tr:last-child]:border-0",t),...e},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/table.tsx",lineNumber:31,columnNumber:3},void 0));Ls.displayName="TableBody";const z_=d.forwardRef(({className:t,...e},n)=>o.jsxDEV("tfoot",{ref:n,className:se("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/table.tsx",lineNumber:43,columnNumber:3},void 0));z_.displayName="TableFooter";const at=d.forwardRef(({className:t,...e},n)=>o.jsxDEV("tr",{ref:n,className:se("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/table.tsx",lineNumber:58,columnNumber:3},void 0));at.displayName="TableRow";const Te=d.forwardRef(({className:t,...e},n)=>o.jsxDEV("th",{ref:n,className:se("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/table.tsx",lineNumber:73,columnNumber:3},void 0));Te.displayName="TableHead";const ye=d.forwardRef(({className:t,...e},n)=>o.jsxDEV("td",{ref:n,className:se("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/table.tsx",lineNumber:88,columnNumber:3},void 0));ye.displayName="TableCell";const U_=d.forwardRef(({className:t,...e},n)=>o.jsxDEV("caption",{ref:n,className:se("mt-4 text-sm text-muted-foreground",t),...e},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/table.tsx",lineNumber:100,columnNumber:3},void 0));U_.displayName="TableCaption";function ba(t,[e,n]){return Math.min(n,Math.max(e,t))}var W_=d.createContext(void 0);function H_(t){const e=d.useContext(W_);return t||e||"ltr"}var mr=0;function xo(){d.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Na()),document.body.insertAdjacentElement("beforeend",t[1]??Na()),mr++,()=>{mr===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),mr--}},[])}function Na(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var fr="focusScope.autoFocusOnMount",hr="focusScope.autoFocusOnUnmount",va={bubbles:!1,cancelable:!0},q_="FocusScope",zi=d.forwardRef((t,e)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:r,...a}=t,[l,u]=d.useState(null),c=ut(i),m=ut(r),f=d.useRef(null),g=we(e,h=>u(h)),b=d.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;d.useEffect(()=>{if(s){let h=function(_){if(b.paused||!l)return;const S=_.target;l.contains(S)?f.current=S:Ht(f.current,{select:!0})},x=function(_){if(b.paused||!l)return;const S=_.relatedTarget;S!==null&&(l.contains(S)||Ht(f.current,{select:!0}))},y=function(_){if(document.activeElement===document.body)for(const E of _)E.removedNodes.length>0&&Ht(l)};document.addEventListener("focusin",h),document.addEventListener("focusout",x);const p=new MutationObserver(y);return l&&p.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",x),p.disconnect()}}},[s,l,b.paused]),d.useEffect(()=>{if(l){_a.add(b);const h=document.activeElement;if(!l.contains(h)){const y=new CustomEvent(fr,va);l.addEventListener(fr,c),l.dispatchEvent(y),y.defaultPrevented||(Z_(Y_(zh(l)),{select:!0}),document.activeElement===h&&Ht(l))}return()=>{l.removeEventListener(fr,c),setTimeout(()=>{const y=new CustomEvent(hr,va);l.addEventListener(hr,m),l.dispatchEvent(y),y.defaultPrevented||Ht(h??document.body,{select:!0}),l.removeEventListener(hr,m),_a.remove(b)},0)}}},[l,c,m,b]);const v=d.useCallback(h=>{if(!n&&!s||b.paused)return;const x=h.key==="Tab"&&!h.altKey&&!h.ctrlKey&&!h.metaKey,y=document.activeElement;if(x&&y){const p=h.currentTarget,[_,S]=K_(p);_&&S?!h.shiftKey&&y===S?(h.preventDefault(),n&&Ht(_,{select:!0})):h.shiftKey&&y===_&&(h.preventDefault(),n&&Ht(S,{select:!0})):y===p&&h.preventDefault()}},[n,s,b.paused]);return C.jsx(de.div,{tabIndex:-1,...a,ref:g,onKeyDown:v})});zi.displayName=q_;function Z_(t,{select:e=!1}={}){const n=document.activeElement;for(const s of t)if(Ht(s,{select:e}),document.activeElement!==n)return}function K_(t){const e=zh(t),n=ya(e,t),s=ya(e.reverse(),t);return[n,s]}function zh(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function ya(t,e){for(const n of t)if(!G_(n,{upTo:e}))return n}function G_(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Q_(t){return t instanceof HTMLInputElement&&"select"in t}function Ht(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&Q_(t)&&e&&t.select()}}var _a=X_();function X_(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=Da(t,e),t.unshift(e)},remove(e){var n;t=Da(t,e),(n=t[0])==null||n.resume()}}}function Da(t,e){const n=[...t],s=n.indexOf(e);return s!==-1&&n.splice(s,1),n}function Y_(t){return t.filter(e=>e.tagName!=="A")}function J_(t){const e=d.useRef({value:t,previous:t});return d.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var eD=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},On=new WeakMap,Ks=new WeakMap,Gs={},pr=0,Uh=function(t){return t&&(t.host||Uh(t.parentNode))},tD=function(t,e){return e.map(function(n){if(t.contains(n))return n;var s=Uh(n);return s&&t.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},nD=function(t,e,n,s){var i=tD(e,Array.isArray(t)?t:[t]);Gs[n]||(Gs[n]=new WeakMap);var r=Gs[n],a=[],l=new Set,u=new Set(i),c=function(f){!f||l.has(f)||(l.add(f),c(f.parentNode))};i.forEach(c);var m=function(f){!f||u.has(f)||Array.prototype.forEach.call(f.children,function(g){if(l.has(g))m(g);else try{var b=g.getAttribute(s),v=b!==null&&b!=="false",h=(On.get(g)||0)+1,x=(r.get(g)||0)+1;On.set(g,h),r.set(g,x),a.push(g),h===1&&v&&Ks.set(g,!0),x===1&&g.setAttribute(n,"true"),v||g.setAttribute(s,"true")}catch(y){console.error("aria-hidden: cannot operate on ",g,y)}})};return m(e),l.clear(),pr++,function(){a.forEach(function(f){var g=On.get(f)-1,b=r.get(f)-1;On.set(f,g),r.set(f,b),g||(Ks.has(f)||f.removeAttribute(s),Ks.delete(f)),b||f.removeAttribute(n)}),pr--,pr||(On=new WeakMap,On=new WeakMap,Ks=new WeakMap,Gs={})}},bo=function(t,e,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(t)?t:[t]),i=eD(t);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live]"))),nD(s,i,n,"aria-hidden")):function(){return null}},St=function(){return St=Object.assign||function(e){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},St.apply(this,arguments)};function Wh(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function sD(t,e,n){if(n||arguments.length===2)for(var s=0,i=e.length,r;s<i;s++)(r||!(s in e))&&(r||(r=Array.prototype.slice.call(e,0,s)),r[s]=e[s]);return t.concat(r||Array.prototype.slice.call(e))}var ri="right-scroll-bar-position",oi="width-before-scroll-bar",iD="with-scroll-bars-hidden",rD="--removed-body-scroll-bar-size";function gr(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function oD(t,e){var n=d.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(s){var i=n.value;i!==s&&(n.value=s,n.callback(s,i))}}}})[0];return n.callback=e,n.facade}var aD=typeof window<"u"?d.useLayoutEffect:d.useEffect,Sa=new WeakMap;function lD(t,e){var n=oD(null,function(s){return t.forEach(function(i){return gr(i,s)})});return aD(function(){var s=Sa.get(n);if(s){var i=new Set(s),r=new Set(t),a=n.current;i.forEach(function(l){r.has(l)||gr(l,null)}),r.forEach(function(l){i.has(l)||gr(l,a)})}Sa.set(n,t)},[t]),n}function cD(t){return t}function uD(t,e){e===void 0&&(e=cD);var n=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(r){var a=e(r,s);return n.push(a),function(){n=n.filter(function(l){return l!==a})}},assignSyncMedium:function(r){for(s=!0;n.length;){var a=n;n=[],a.forEach(r)}n={push:function(l){return r(l)},filter:function(){return n}}},assignMedium:function(r){s=!0;var a=[];if(n.length){var l=n;n=[],l.forEach(r),a=n}var u=function(){var m=a;a=[],m.forEach(r)},c=function(){return Promise.resolve().then(u)};c(),n={push:function(m){a.push(m),c()},filter:function(m){return a=a.filter(m),n}}}};return i}function dD(t){t===void 0&&(t={});var e=uD(null);return e.options=St({async:!0,ssr:!1},t),e}var Hh=function(t){var e=t.sideCar,n=Wh(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=e.read();if(!s)throw new Error("Sidecar medium not found");return d.createElement(s,St({},n))};Hh.isSideCarExport=!0;function mD(t,e){return t.useMedium(e),Hh}var qh=dD(),xr=function(){},Ui=d.forwardRef(function(t,e){var n=d.useRef(null),s=d.useState({onScrollCapture:xr,onWheelCapture:xr,onTouchMoveCapture:xr}),i=s[0],r=s[1],a=t.forwardProps,l=t.children,u=t.className,c=t.removeScrollBar,m=t.enabled,f=t.shards,g=t.sideCar,b=t.noIsolation,v=t.inert,h=t.allowPinchZoom,x=t.as,y=x===void 0?"div":x,p=t.gapMode,_=Wh(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=g,E=lD([n,e]),P=St(St({},_),i);return d.createElement(d.Fragment,null,m&&d.createElement(S,{sideCar:qh,removeScrollBar:c,shards:f,noIsolation:b,inert:v,setCallbacks:r,allowPinchZoom:!!h,lockRef:n,gapMode:p}),a?d.cloneElement(d.Children.only(l),St(St({},P),{ref:E})):d.createElement(y,St({},P,{className:u,ref:E}),l))});Ui.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Ui.classNames={fullWidth:oi,zeroRight:ri};var fD=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function hD(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=fD();return e&&t.setAttribute("nonce",e),t}function pD(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function gD(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var xD=function(){var t=0,e=null;return{add:function(n){t==0&&(e=hD())&&(pD(e,n),gD(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},bD=function(){var t=xD();return function(e,n){d.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Zh=function(){var t=bD(),e=function(n){var s=n.styles,i=n.dynamic;return t(s,i),null};return e},ND={left:0,top:0,right:0,gap:0},br=function(t){return parseInt(t||"",10)||0},vD=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],s=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[br(n),br(s),br(i)]},yD=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return ND;var e=vD(t),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,s-n+e[2]-e[0])}},_D=Zh(),Ln="data-scroll-locked",DD=function(t,e,n,s){var i=t.left,r=t.top,a=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(iD,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(l,"px ").concat(s,`;
  }
  body[`).concat(Ln,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(r,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ri,` {
    right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(oi,` {
    margin-right: `).concat(l,"px ").concat(s,`;
  }
  
  .`).concat(ri," .").concat(ri,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(oi," .").concat(oi,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Ln,`] {
    `).concat(rD,": ").concat(l,`px;
  }
`)},wa=function(){var t=parseInt(document.body.getAttribute(Ln)||"0",10);return isFinite(t)?t:0},SD=function(){d.useEffect(function(){return document.body.setAttribute(Ln,(wa()+1).toString()),function(){var t=wa()-1;t<=0?document.body.removeAttribute(Ln):document.body.setAttribute(Ln,t.toString())}},[])},wD=function(t){var e=t.noRelative,n=t.noImportant,s=t.gapMode,i=s===void 0?"margin":s;SD();var r=d.useMemo(function(){return yD(i)},[i]);return d.createElement(_D,{styles:DD(r,!e,i,n?"":"!important")})},$r=!1;if(typeof window<"u")try{var Qs=Object.defineProperty({},"passive",{get:function(){return $r=!0,!0}});window.addEventListener("test",Qs,Qs),window.removeEventListener("test",Qs,Qs)}catch{$r=!1}var jn=$r?{passive:!1}:!1,CD=function(t){return t.tagName==="TEXTAREA"},Kh=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!CD(t)&&n[e]==="visible")},ED=function(t){return Kh(t,"overflowY")},OD=function(t){return Kh(t,"overflowX")},Ca=function(t,e){var n=e.ownerDocument,s=e;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=Gh(t,s);if(i){var r=Qh(t,s),a=r[1],l=r[2];if(a>l)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},jD=function(t){var e=t.scrollTop,n=t.scrollHeight,s=t.clientHeight;return[e,n,s]},TD=function(t){var e=t.scrollLeft,n=t.scrollWidth,s=t.clientWidth;return[e,n,s]},Gh=function(t,e){return t==="v"?ED(e):OD(e)},Qh=function(t,e){return t==="v"?jD(e):TD(e)},VD=function(t,e){return t==="h"&&e==="rtl"?-1:1},BD=function(t,e,n,s,i){var r=VD(t,window.getComputedStyle(e).direction),a=r*s,l=n.target,u=e.contains(l),c=!1,m=a>0,f=0,g=0;do{var b=Qh(t,l),v=b[0],h=b[1],x=b[2],y=h-x-r*v;(v||y)&&Gh(t,l)&&(f+=y,g+=v),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!u&&l!==document.body||u&&(e.contains(l)||e===l));return(m&&Math.abs(f)<1||!m&&Math.abs(g)<1)&&(c=!0),c},Xs=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Ea=function(t){return[t.deltaX,t.deltaY]},Oa=function(t){return t&&"current"in t?t.current:t},PD=function(t,e){return t[0]===e[0]&&t[1]===e[1]},kD=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},RD=0,Tn=[];function AD(t){var e=d.useRef([]),n=d.useRef([0,0]),s=d.useRef(),i=d.useState(RD++)[0],r=d.useState(Zh)[0],a=d.useRef(t);d.useEffect(function(){a.current=t},[t]),d.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var h=sD([t.lockRef.current],(t.shards||[]).map(Oa),!0).filter(Boolean);return h.forEach(function(x){return x.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),h.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=d.useCallback(function(h,x){if("touches"in h&&h.touches.length===2||h.type==="wheel"&&h.ctrlKey)return!a.current.allowPinchZoom;var y=Xs(h),p=n.current,_="deltaX"in h?h.deltaX:p[0]-y[0],S="deltaY"in h?h.deltaY:p[1]-y[1],E,P=h.target,w=Math.abs(_)>Math.abs(S)?"h":"v";if("touches"in h&&w==="h"&&P.type==="range")return!1;var L=Ca(w,P);if(!L)return!0;if(L?E=w:(E=w==="v"?"h":"v",L=Ca(w,P)),!L)return!1;if(!s.current&&"changedTouches"in h&&(_||S)&&(s.current=E),!E)return!0;var Z=s.current||E;return BD(Z,x,h,Z==="h"?_:S)},[]),u=d.useCallback(function(h){var x=h;if(!(!Tn.length||Tn[Tn.length-1]!==r)){var y="deltaY"in x?Ea(x):Xs(x),p=e.current.filter(function(E){return E.name===x.type&&(E.target===x.target||x.target===E.shadowParent)&&PD(E.delta,y)})[0];if(p&&p.should){x.cancelable&&x.preventDefault();return}if(!p){var _=(a.current.shards||[]).map(Oa).filter(Boolean).filter(function(E){return E.contains(x.target)}),S=_.length>0?l(x,_[0]):!a.current.noIsolation;S&&x.cancelable&&x.preventDefault()}}},[]),c=d.useCallback(function(h,x,y,p){var _={name:h,delta:x,target:y,should:p,shadowParent:ID(y)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(S){return S!==_})},1)},[]),m=d.useCallback(function(h){n.current=Xs(h),s.current=void 0},[]),f=d.useCallback(function(h){c(h.type,Ea(h),h.target,l(h,t.lockRef.current))},[]),g=d.useCallback(function(h){c(h.type,Xs(h),h.target,l(h,t.lockRef.current))},[]);d.useEffect(function(){return Tn.push(r),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",u,jn),document.addEventListener("touchmove",u,jn),document.addEventListener("touchstart",m,jn),function(){Tn=Tn.filter(function(h){return h!==r}),document.removeEventListener("wheel",u,jn),document.removeEventListener("touchmove",u,jn),document.removeEventListener("touchstart",m,jn)}},[]);var b=t.removeScrollBar,v=t.inert;return d.createElement(d.Fragment,null,v?d.createElement(r,{styles:kD(i)}):null,b?d.createElement(wD,{gapMode:t.gapMode}):null)}function ID(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const MD=mD(qh,AD);var Wi=d.forwardRef(function(t,e){return d.createElement(Ui,St({},t,{ref:e,sideCar:MD}))});Wi.classNames=Ui.classNames;var LD=[" ","Enter","ArrowUp","ArrowDown"],FD=[" ","Enter"],Fs="Select",[Hi,qi,$D]=Sd(Fs),[ss,mS]=wn(Fs,[$D,ts]),Zi=ts(),[zD,tn]=ss(Fs),[UD,WD]=ss(Fs),Xh=t=>{const{__scopeSelect:e,children:n,open:s,defaultOpen:i,onOpenChange:r,value:a,defaultValue:l,onValueChange:u,dir:c,name:m,autoComplete:f,disabled:g,required:b,form:v}=t,h=Zi(e),[x,y]=d.useState(null),[p,_]=d.useState(null),[S,E]=d.useState(!1),P=H_(c),[w=!1,L]=hs({prop:s,defaultProp:i,onChange:r}),[Z,Y]=hs({prop:a,defaultProp:l,onChange:u}),k=d.useRef(null),T=x?v||!!x.closest("form"):!0,[O,B]=d.useState(new Set),U=Array.from(O).map(z=>z.props.value).join(";");return C.jsx(Cm,{...h,children:C.jsxs(zD,{required:b,scope:e,trigger:x,onTriggerChange:y,valueNode:p,onValueNodeChange:_,valueNodeHasChildren:S,onValueNodeHasChildrenChange:E,contentId:dn(),value:Z,onValueChange:Y,open:w,onOpenChange:L,dir:P,triggerPointerDownPosRef:k,disabled:g,children:[C.jsx(Hi.Provider,{scope:e,children:C.jsx(UD,{scope:t.__scopeSelect,onNativeOptionAdd:d.useCallback(z=>{B(K=>new Set(K).add(z))},[]),onNativeOptionRemove:d.useCallback(z=>{B(K=>{const M=new Set(K);return M.delete(z),M})},[]),children:n})}),T?C.jsxs(_p,{"aria-hidden":!0,required:b,tabIndex:-1,name:m,autoComplete:f,value:Z,onChange:z=>Y(z.target.value),disabled:g,form:v,children:[Z===void 0?C.jsx("option",{value:""}):null,Array.from(O)]},U):null]})})};Xh.displayName=Fs;var Yh="SelectTrigger",Jh=d.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:s=!1,...i}=t,r=Zi(n),a=tn(Yh,n),l=a.disabled||s,u=we(e,a.onTriggerChange),c=qi(n),m=d.useRef("touch"),[f,g,b]=Dp(h=>{const x=c().filter(_=>!_.disabled),y=x.find(_=>_.value===a.value),p=Sp(x,h,y);p!==void 0&&a.onValueChange(p.value)}),v=h=>{l||(a.onOpenChange(!0),b()),h&&(a.triggerPointerDownPosRef.current={x:Math.round(h.pageX),y:Math.round(h.pageY)})};return C.jsx(Ii,{asChild:!0,...r,children:C.jsx(de.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":yp(a.value)?"":void 0,...i,ref:u,onClick:ne(i.onClick,h=>{h.currentTarget.focus(),m.current!=="mouse"&&v(h)}),onPointerDown:ne(i.onPointerDown,h=>{m.current=h.pointerType;const x=h.target;x.hasPointerCapture(h.pointerId)&&x.releasePointerCapture(h.pointerId),h.button===0&&h.ctrlKey===!1&&h.pointerType==="mouse"&&(v(h),h.preventDefault())}),onKeyDown:ne(i.onKeyDown,h=>{const x=f.current!=="";!(h.ctrlKey||h.altKey||h.metaKey)&&h.key.length===1&&g(h.key),!(x&&h.key===" ")&&LD.includes(h.key)&&(v(),h.preventDefault())})})})});Jh.displayName=Yh;var ep="SelectValue",tp=d.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:i,children:r,placeholder:a="",...l}=t,u=tn(ep,n),{onValueNodeHasChildrenChange:c}=u,m=r!==void 0,f=we(e,u.onValueNodeChange);return We(()=>{c(m)},[c,m]),C.jsx(de.span,{...l,ref:f,style:{pointerEvents:"none"},children:yp(u.value)?C.jsx(C.Fragment,{children:a}):r})});tp.displayName=ep;var HD="SelectIcon",np=d.forwardRef((t,e)=>{const{__scopeSelect:n,children:s,...i}=t;return C.jsx(de.span,{"aria-hidden":!0,...i,ref:e,children:s||""})});np.displayName=HD;var qD="SelectPortal",sp=t=>C.jsx(Bs,{asChild:!0,...t});sp.displayName=qD;var Dn="SelectContent",ip=d.forwardRef((t,e)=>{const n=tn(Dn,t.__scopeSelect),[s,i]=d.useState();if(We(()=>{i(new DocumentFragment)},[]),!n.open){const r=s;return r?Qn.createPortal(C.jsx(rp,{scope:t.__scopeSelect,children:C.jsx(Hi.Slot,{scope:t.__scopeSelect,children:C.jsx("div",{children:t.children})})}),r):null}return C.jsx(op,{...t,ref:e})});ip.displayName=Dn;var gt=10,[rp,nn]=ss(Dn),ZD="SelectContentImpl",KD=xn("SelectContent.RemoveScroll"),op=d.forwardRef((t,e)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:r,onPointerDownOutside:a,side:l,sideOffset:u,align:c,alignOffset:m,arrowPadding:f,collisionBoundary:g,collisionPadding:b,sticky:v,hideWhenDetached:h,avoidCollisions:x,...y}=t,p=tn(Dn,n),[_,S]=d.useState(null),[E,P]=d.useState(null),w=we(e,Q=>S(Q)),[L,Z]=d.useState(null),[Y,k]=d.useState(null),T=qi(n),[O,B]=d.useState(!1),U=d.useRef(!1);d.useEffect(()=>{if(_)return bo(_)},[_]),xo();const z=d.useCallback(Q=>{const[_e,...ke]=T().map(Ne=>Ne.ref.current),[be]=ke.slice(-1),De=document.activeElement;for(const Ne of Q)if(Ne===De||(Ne==null||Ne.scrollIntoView({block:"nearest"}),Ne===_e&&E&&(E.scrollTop=0),Ne===be&&E&&(E.scrollTop=E.scrollHeight),Ne==null||Ne.focus(),document.activeElement!==De))return},[T,E]),K=d.useCallback(()=>z([L,_]),[z,L,_]);d.useEffect(()=>{O&&K()},[O,K]);const{onOpenChange:M,triggerPointerDownPosRef:j}=p;d.useEffect(()=>{if(_){let Q={x:0,y:0};const _e=be=>{var De,Ne;Q={x:Math.abs(Math.round(be.pageX)-(((De=j.current)==null?void 0:De.x)??0)),y:Math.abs(Math.round(be.pageY)-(((Ne=j.current)==null?void 0:Ne.y)??0))}},ke=be=>{Q.x<=10&&Q.y<=10?be.preventDefault():_.contains(be.target)||M(!1),document.removeEventListener("pointermove",_e),j.current=null};return j.current!==null&&(document.addEventListener("pointermove",_e),document.addEventListener("pointerup",ke,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",_e),document.removeEventListener("pointerup",ke,{capture:!0})}}},[_,M,j]),d.useEffect(()=>{const Q=()=>M(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[M]);const[H,q]=Dp(Q=>{const _e=T().filter(De=>!De.disabled),ke=_e.find(De=>De.ref.current===document.activeElement),be=Sp(_e,Q,ke);be&&setTimeout(()=>be.ref.current.focus())}),J=d.useCallback((Q,_e,ke)=>{const be=!U.current&&!ke;(p.value!==void 0&&p.value===_e||be)&&(Z(Q),be&&(U.current=!0))},[p.value]),ae=d.useCallback(()=>_==null?void 0:_.focus(),[_]),me=d.useCallback((Q,_e,ke)=>{const be=!U.current&&!ke;(p.value!==void 0&&p.value===_e||be)&&k(Q)},[p.value]),Ve=s==="popper"?zr:ap,Ae=Ve===zr?{side:l,sideOffset:u,align:c,alignOffset:m,arrowPadding:f,collisionBoundary:g,collisionPadding:b,sticky:v,hideWhenDetached:h,avoidCollisions:x}:{};return C.jsx(rp,{scope:n,content:_,viewport:E,onViewportChange:P,itemRefCallback:J,selectedItem:L,onItemLeave:ae,itemTextRefCallback:me,focusSelectedItem:K,selectedItemText:Y,position:s,isPositioned:O,searchRef:H,children:C.jsx(Wi,{as:KD,allowPinchZoom:!0,children:C.jsx(zi,{asChild:!0,trapped:p.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:ne(i,Q=>{var _e;(_e=p.trigger)==null||_e.focus({preventScroll:!0}),Q.preventDefault()}),children:C.jsx(Xn,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>p.onOpenChange(!1),children:C.jsx(Ve,{role:"listbox",id:p.contentId,"data-state":p.open?"open":"closed",dir:p.dir,onContextMenu:Q=>Q.preventDefault(),...y,...Ae,onPlaced:()=>B(!0),ref:w,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:ne(y.onKeyDown,Q=>{const _e=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!_e&&Q.key.length===1&&q(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let be=T().filter(De=>!De.disabled).map(De=>De.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(be=be.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const De=Q.target,Ne=be.indexOf(De);be=be.slice(Ne+1)}setTimeout(()=>z(be)),Q.preventDefault()}})})})})})})});op.displayName=ZD;var GD="SelectItemAlignedPosition",ap=d.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:s,...i}=t,r=tn(Dn,n),a=nn(Dn,n),[l,u]=d.useState(null),[c,m]=d.useState(null),f=we(e,w=>m(w)),g=qi(n),b=d.useRef(!1),v=d.useRef(!0),{viewport:h,selectedItem:x,selectedItemText:y,focusSelectedItem:p}=a,_=d.useCallback(()=>{if(r.trigger&&r.valueNode&&l&&c&&h&&x&&y){const w=r.trigger.getBoundingClientRect(),L=c.getBoundingClientRect(),Z=r.valueNode.getBoundingClientRect(),Y=y.getBoundingClientRect();if(r.dir!=="rtl"){const De=Y.left-L.left,Ne=Z.left-De,qe=w.left-Ne,dt=w.width+qe,Dt=Math.max(dt,L.width),pt=window.innerWidth-gt,zt=ba(Ne,[gt,Math.max(gt,pt-Dt)]);l.style.minWidth=dt+"px",l.style.left=zt+"px"}else{const De=L.right-Y.right,Ne=window.innerWidth-Z.right-De,qe=window.innerWidth-w.right-Ne,dt=w.width+qe,Dt=Math.max(dt,L.width),pt=window.innerWidth-gt,zt=ba(Ne,[gt,Math.max(gt,pt-Dt)]);l.style.minWidth=dt+"px",l.style.right=zt+"px"}const k=g(),T=window.innerHeight-gt*2,O=h.scrollHeight,B=window.getComputedStyle(c),U=parseInt(B.borderTopWidth,10),z=parseInt(B.paddingTop,10),K=parseInt(B.borderBottomWidth,10),M=parseInt(B.paddingBottom,10),j=U+z+O+M+K,H=Math.min(x.offsetHeight*5,j),q=window.getComputedStyle(h),J=parseInt(q.paddingTop,10),ae=parseInt(q.paddingBottom,10),me=w.top+w.height/2-gt,Ve=T-me,Ae=x.offsetHeight/2,Q=x.offsetTop+Ae,_e=U+z+Q,ke=j-_e;if(_e<=me){const De=k.length>0&&x===k[k.length-1].ref.current;l.style.bottom="0px";const Ne=c.clientHeight-h.offsetTop-h.offsetHeight,qe=Math.max(Ve,Ae+(De?ae:0)+Ne+K),dt=_e+qe;l.style.height=dt+"px"}else{const De=k.length>0&&x===k[0].ref.current;l.style.top="0px";const qe=Math.max(me,U+h.offsetTop+(De?J:0)+Ae)+ke;l.style.height=qe+"px",h.scrollTop=_e-me+h.offsetTop}l.style.margin=`${gt}px 0`,l.style.minHeight=H+"px",l.style.maxHeight=T+"px",s==null||s(),requestAnimationFrame(()=>b.current=!0)}},[g,r.trigger,r.valueNode,l,c,h,x,y,r.dir,s]);We(()=>_(),[_]);const[S,E]=d.useState();We(()=>{c&&E(window.getComputedStyle(c).zIndex)},[c]);const P=d.useCallback(w=>{w&&v.current===!0&&(_(),p==null||p(),v.current=!1)},[_,p]);return C.jsx(XD,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:b,onScrollButtonChange:P,children:C.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:C.jsx(de.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});ap.displayName=GD;var QD="SelectPopperPosition",zr=d.forwardRef((t,e)=>{const{__scopeSelect:n,align:s="start",collisionPadding:i=gt,...r}=t,a=Zi(n);return C.jsx(ao,{...a,...r,ref:e,align:s,collisionPadding:i,style:{boxSizing:"border-box",...r.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});zr.displayName=QD;var[XD,No]=ss(Dn,{}),Ur="SelectViewport",lp=d.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:s,...i}=t,r=nn(Ur,n),a=No(Ur,n),l=we(e,r.onViewportChange),u=d.useRef(0);return C.jsxs(C.Fragment,{children:[C.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),C.jsx(Hi.Slot,{scope:n,children:C.jsx(de.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ne(i.onScroll,c=>{const m=c.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=a;if(g!=null&&g.current&&f){const b=Math.abs(u.current-m.scrollTop);if(b>0){const v=window.innerHeight-gt*2,h=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),y=Math.max(h,x);if(y<v){const p=y+b,_=Math.min(v,p),S=p-_;f.style.height=_+"px",f.style.bottom==="0px"&&(m.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}u.current=m.scrollTop})})})]})});lp.displayName=Ur;var cp="SelectGroup",[YD,JD]=ss(cp),e0=d.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,i=dn();return C.jsx(YD,{scope:n,id:i,children:C.jsx(de.div,{role:"group","aria-labelledby":i,...s,ref:e})})});e0.displayName=cp;var up="SelectLabel",dp=d.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,i=JD(up,n);return C.jsx(de.div,{id:i.id,...s,ref:e})});dp.displayName=up;var Si="SelectItem",[t0,mp]=ss(Si),fp=d.forwardRef((t,e)=>{const{__scopeSelect:n,value:s,disabled:i=!1,textValue:r,...a}=t,l=tn(Si,n),u=nn(Si,n),c=l.value===s,[m,f]=d.useState(r??""),[g,b]=d.useState(!1),v=we(e,p=>{var _;return(_=u.itemRefCallback)==null?void 0:_.call(u,p,s,i)}),h=dn(),x=d.useRef("touch"),y=()=>{i||(l.onValueChange(s),l.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return C.jsx(t0,{scope:n,value:s,disabled:i,textId:h,isSelected:c,onItemTextChange:d.useCallback(p=>{f(_=>_||((p==null?void 0:p.textContent)??"").trim())},[]),children:C.jsx(Hi.ItemSlot,{scope:n,value:s,disabled:i,textValue:m,children:C.jsx(de.div,{role:"option","aria-labelledby":h,"data-highlighted":g?"":void 0,"aria-selected":c&&g,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:v,onFocus:ne(a.onFocus,()=>b(!0)),onBlur:ne(a.onBlur,()=>b(!1)),onClick:ne(a.onClick,()=>{x.current!=="mouse"&&y()}),onPointerUp:ne(a.onPointerUp,()=>{x.current==="mouse"&&y()}),onPointerDown:ne(a.onPointerDown,p=>{x.current=p.pointerType}),onPointerMove:ne(a.onPointerMove,p=>{var _;x.current=p.pointerType,i?(_=u.onItemLeave)==null||_.call(u):x.current==="mouse"&&p.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ne(a.onPointerLeave,p=>{var _;p.currentTarget===document.activeElement&&((_=u.onItemLeave)==null||_.call(u))}),onKeyDown:ne(a.onKeyDown,p=>{var S;((S=u.searchRef)==null?void 0:S.current)!==""&&p.key===" "||(FD.includes(p.key)&&y(),p.key===" "&&p.preventDefault())})})})})});fp.displayName=Si;var us="SelectItemText",hp=d.forwardRef((t,e)=>{const{__scopeSelect:n,className:s,style:i,...r}=t,a=tn(us,n),l=nn(us,n),u=mp(us,n),c=WD(us,n),[m,f]=d.useState(null),g=we(e,y=>f(y),u.onItemTextChange,y=>{var p;return(p=l.itemTextRefCallback)==null?void 0:p.call(l,y,u.value,u.disabled)}),b=m==null?void 0:m.textContent,v=d.useMemo(()=>C.jsx("option",{value:u.value,disabled:u.disabled,children:b},u.value),[u.disabled,u.value,b]),{onNativeOptionAdd:h,onNativeOptionRemove:x}=c;return We(()=>(h(v),()=>x(v)),[h,x,v]),C.jsxs(C.Fragment,{children:[C.jsx(de.span,{id:u.textId,...r,ref:g}),u.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Qn.createPortal(r.children,a.valueNode):null]})});hp.displayName=us;var pp="SelectItemIndicator",gp=d.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return mp(pp,n).isSelected?C.jsx(de.span,{"aria-hidden":!0,...s,ref:e}):null});gp.displayName=pp;var Wr="SelectScrollUpButton",xp=d.forwardRef((t,e)=>{const n=nn(Wr,t.__scopeSelect),s=No(Wr,t.__scopeSelect),[i,r]=d.useState(!1),a=we(e,s.onScrollButtonChange);return We(()=>{if(n.viewport&&n.isPositioned){let l=function(){const c=u.scrollTop>0;r(c)};const u=n.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?C.jsx(Np,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop-u.offsetHeight)}}):null});xp.displayName=Wr;var Hr="SelectScrollDownButton",bp=d.forwardRef((t,e)=>{const n=nn(Hr,t.__scopeSelect),s=No(Hr,t.__scopeSelect),[i,r]=d.useState(!1),a=we(e,s.onScrollButtonChange);return We(()=>{if(n.viewport&&n.isPositioned){let l=function(){const c=u.scrollHeight-u.clientHeight,m=Math.ceil(u.scrollTop)<c;r(m)};const u=n.viewport;return l(),u.addEventListener("scroll",l),()=>u.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),i?C.jsx(Np,{...t,ref:a,onAutoScroll:()=>{const{viewport:l,selectedItem:u}=n;l&&u&&(l.scrollTop=l.scrollTop+u.offsetHeight)}}):null});bp.displayName=Hr;var Np=d.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:s,...i}=t,r=nn("SelectScrollButton",n),a=d.useRef(null),l=qi(n),u=d.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return d.useEffect(()=>()=>u(),[u]),We(()=>{var m;const c=l().find(f=>f.ref.current===document.activeElement);(m=c==null?void 0:c.ref.current)==null||m.scrollIntoView({block:"nearest"})},[l]),C.jsx(de.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:ne(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(s,50))}),onPointerMove:ne(i.onPointerMove,()=>{var c;(c=r.onItemLeave)==null||c.call(r),a.current===null&&(a.current=window.setInterval(s,50))}),onPointerLeave:ne(i.onPointerLeave,()=>{u()})})}),n0="SelectSeparator",vp=d.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t;return C.jsx(de.div,{"aria-hidden":!0,...s,ref:e})});vp.displayName=n0;var qr="SelectArrow",s0=d.forwardRef((t,e)=>{const{__scopeSelect:n,...s}=t,i=Zi(n),r=tn(qr,n),a=nn(qr,n);return r.open&&a.position==="popper"?C.jsx(lo,{...i,...s,ref:e}):null});s0.displayName=qr;function yp(t){return t===""||t===void 0}var _p=d.forwardRef((t,e)=>{const{value:n,...s}=t,i=d.useRef(null),r=we(e,i),a=J_(n);return d.useEffect(()=>{const l=i.current,u=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(u,"value").set;if(a!==n&&m){const f=new Event("change",{bubbles:!0});m.call(l,n),l.dispatchEvent(f)}},[a,n]),C.jsx(Ps,{asChild:!0,children:C.jsx("select",{...s,ref:r,defaultValue:n})})});_p.displayName="BubbleSelect";function Dp(t){const e=ut(t),n=d.useRef(""),s=d.useRef(0),i=d.useCallback(a=>{const l=n.current+a;e(l),(function u(c){n.current=c,window.clearTimeout(s.current),c!==""&&(s.current=window.setTimeout(()=>u(""),1e3))})(l)},[e]),r=d.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,i,r]}function Sp(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,r=n?t.indexOf(n):-1;let a=i0(t,Math.max(r,0));i.length===1&&(a=a.filter(c=>c!==n));const u=a.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function i0(t,e){return t.map((n,s)=>t[(e+s)%t.length])}var r0=Xh,wp=Jh,o0=tp,a0=np,l0=sp,Cp=ip,c0=lp,Ep=dp,Op=fp,u0=hp,d0=gp,jp=xp,Tp=bp,Vp=vp;const Fn=r0,$n=o0,pn=d.forwardRef(({className:t,children:e,...n},s)=>o.jsxDEV(wp,{ref:s,className:se("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,o.jsxDEV(a0,{asChild:!0,children:o.jsxDEV(pd,{className:"h-4 w-4 opacity-50"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/select.tsx",lineNumber:29,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/select.tsx",lineNumber:28,columnNumber:5},void 0)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/select.tsx",lineNumber:19,columnNumber:3},void 0));pn.displayName=wp.displayName;const Bp=d.forwardRef(({className:t,...e},n)=>o.jsxDEV(jp,{ref:n,className:se("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsxDEV(Gg,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/select.tsx",lineNumber:47,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/select.tsx",lineNumber:39,columnNumber:3},void 0));Bp.displayName=jp.displayName;const Pp=d.forwardRef(({className:t,...e},n)=>o.jsxDEV(Tp,{ref:n,className:se("flex cursor-default items-center justify-center py-1",t),...e,children:o.jsxDEV(pd,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/select.tsx",lineNumber:64,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/select.tsx",lineNumber:56,columnNumber:3},void 0));Pp.displayName=Tp.displayName;const gn=d.forwardRef(({className:t,children:e,position:n="popper",...s},i)=>o.jsxDEV(l0,{children:o.jsxDEV(Cp,{ref:i,className:se("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...s,children:[o.jsxDEV(Bp,{},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/select.tsx",lineNumber:86,columnNumber:7},void 0),o.jsxDEV(c0,{className:se("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/select.tsx",lineNumber:87,columnNumber:7},void 0),o.jsxDEV(Pp,{},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/select.tsx",lineNumber:96,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/select.tsx",lineNumber:75,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/select.tsx",lineNumber:74,columnNumber:3},void 0));gn.displayName=Cp.displayName;const m0=d.forwardRef(({className:t,...e},n)=>o.jsxDEV(Ep,{ref:n,className:se("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/select.tsx",lineNumber:106,columnNumber:3},void 0));m0.displayName=Ep.displayName;const ht=d.forwardRef(({className:t,children:e,...n},s)=>o.jsxDEV(Op,{ref:s,className:se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[o.jsxDEV("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsxDEV(d0,{children:o.jsxDEV(Qg,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/select.tsx",lineNumber:128,columnNumber:9},void 0)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/select.tsx",lineNumber:127,columnNumber:7},void 0)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/select.tsx",lineNumber:126,columnNumber:5},void 0),o.jsxDEV(u0,{children:e},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/select.tsx",lineNumber:132,columnNumber:5},void 0)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/select.tsx",lineNumber:118,columnNumber:3},void 0));ht.displayName=Op.displayName;const f0=d.forwardRef(({className:t,...e},n)=>o.jsxDEV(Vp,{ref:n,className:se("-mx-1 my-1 h-px bg-muted",t),...e},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/select.tsx",lineNumber:141,columnNumber:3},void 0));f0.displayName=Vp.displayName;var vo="Dialog",[kp,fS]=wn(vo),[h0,_t]=kp(vo),Rp=t=>{const{__scopeDialog:e,children:n,open:s,defaultOpen:i,onOpenChange:r,modal:a=!0}=t,l=d.useRef(null),u=d.useRef(null),[c=!1,m]=hs({prop:s,defaultProp:i,onChange:r});return C.jsx(h0,{scope:e,triggerRef:l,contentRef:u,contentId:dn(),titleId:dn(),descriptionId:dn(),open:c,onOpenChange:m,onOpenToggle:d.useCallback(()=>m(f=>!f),[m]),modal:a,children:n})};Rp.displayName=vo;var Ap="DialogTrigger",Ip=d.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=_t(Ap,n),r=we(e,i.triggerRef);return C.jsx(de.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Do(i.open),...s,ref:r,onClick:ne(t.onClick,i.onOpenToggle)})});Ip.displayName=Ap;var yo="DialogPortal",[p0,Mp]=kp(yo,{forceMount:void 0}),Lp=t=>{const{__scopeDialog:e,forceMount:n,children:s,container:i}=t,r=_t(yo,e);return C.jsx(p0,{scope:e,forceMount:n,children:d.Children.map(s,a=>C.jsx(en,{present:n||r.open,children:C.jsx(Bs,{asChild:!0,container:i,children:a})}))})};Lp.displayName=yo;var wi="DialogOverlay",Fp=d.forwardRef((t,e)=>{const n=Mp(wi,t.__scopeDialog),{forceMount:s=n.forceMount,...i}=t,r=_t(wi,t.__scopeDialog);return r.modal?C.jsx(en,{present:s||r.open,children:C.jsx(x0,{...i,ref:e})}):null});Fp.displayName=wi;var g0=xn("DialogOverlay.RemoveScroll"),x0=d.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=_t(wi,n);return C.jsx(Wi,{as:g0,allowPinchZoom:!0,shards:[i.contentRef],children:C.jsx(de.div,{"data-state":Do(i.open),...s,ref:e,style:{pointerEvents:"auto",...s.style}})})}),Sn="DialogContent",$p=d.forwardRef((t,e)=>{const n=Mp(Sn,t.__scopeDialog),{forceMount:s=n.forceMount,...i}=t,r=_t(Sn,t.__scopeDialog);return C.jsx(en,{present:s||r.open,children:r.modal?C.jsx(b0,{...i,ref:e}):C.jsx(N0,{...i,ref:e})})});$p.displayName=Sn;var b0=d.forwardRef((t,e)=>{const n=_t(Sn,t.__scopeDialog),s=d.useRef(null),i=we(e,n.contentRef,s);return d.useEffect(()=>{const r=s.current;if(r)return bo(r)},[]),C.jsx(zp,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ne(t.onCloseAutoFocus,r=>{var a;r.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:ne(t.onPointerDownOutside,r=>{const a=r.detail.originalEvent,l=a.button===0&&a.ctrlKey===!0;(a.button===2||l)&&r.preventDefault()}),onFocusOutside:ne(t.onFocusOutside,r=>r.preventDefault())})}),N0=d.forwardRef((t,e)=>{const n=_t(Sn,t.__scopeDialog),s=d.useRef(!1),i=d.useRef(!1);return C.jsx(zp,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:r=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,r),r.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),r.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:r=>{var u,c;(u=t.onInteractOutside)==null||u.call(t,r),r.defaultPrevented||(s.current=!0,r.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=r.target;((c=n.triggerRef.current)==null?void 0:c.contains(a))&&r.preventDefault(),r.detail.originalEvent.type==="focusin"&&i.current&&r.preventDefault()}})}),zp=d.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:r,...a}=t,l=_t(Sn,n),u=d.useRef(null),c=we(e,u);return xo(),C.jsxs(C.Fragment,{children:[C.jsx(zi,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:r,children:C.jsx(Xn,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":Do(l.open),...a,ref:c,onDismiss:()=>l.onOpenChange(!1)})}),C.jsxs(C.Fragment,{children:[C.jsx(v0,{titleId:l.titleId}),C.jsx(_0,{contentRef:u,descriptionId:l.descriptionId})]})]})}),_o="DialogTitle",Up=d.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=_t(_o,n);return C.jsx(de.h2,{id:i.titleId,...s,ref:e})});Up.displayName=_o;var Wp="DialogDescription",Hp=d.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=_t(Wp,n);return C.jsx(de.p,{id:i.descriptionId,...s,ref:e})});Hp.displayName=Wp;var qp="DialogClose",Zp=d.forwardRef((t,e)=>{const{__scopeDialog:n,...s}=t,i=_t(qp,n);return C.jsx(de.button,{type:"button",...s,ref:e,onClick:ne(t.onClick,()=>i.onOpenChange(!1))})});Zp.displayName=qp;function Do(t){return t?"open":"closed"}var Kp="DialogTitleWarning",[hS,Gp]=vx(Kp,{contentName:Sn,titleName:_o,docsSlug:"dialog"}),v0=({titleId:t})=>{const e=Gp(Kp),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return d.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},y0="DialogDescriptionWarning",_0=({contentRef:t,descriptionId:e})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Gp(y0).contentName}}.`;return d.useEffect(()=>{var r;const i=(r=t.current)==null?void 0:r.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(s))},[s,t,e]),null},D0=Rp,S0=Ip,w0=Lp,Qp=Fp,Xp=$p,Yp=Up,Jp=Hp,C0=Zp;const Zr=D0,eg=S0,E0=w0,tg=d.forwardRef(({className:t,...e},n)=>o.jsxDEV(Qp,{ref:n,className:se("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/dialog.tsx",lineNumber:21,columnNumber:3},void 0));tg.displayName=Qp.displayName;const Ci=d.forwardRef(({className:t,children:e,...n},s)=>o.jsxDEV(E0,{children:[o.jsxDEV(tg,{},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/dialog.tsx",lineNumber:37,columnNumber:5},void 0),o.jsxDEV(Xp,{ref:s,className:se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,o.jsxDEV(C0,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsxDEV(li,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/dialog.tsx",lineNumber:48,columnNumber:9},void 0),o.jsxDEV("span",{className:"sr-only",children:"Close"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/dialog.tsx",lineNumber:49,columnNumber:9},void 0)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/dialog.tsx",lineNumber:47,columnNumber:7},void 0)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/dialog.tsx",lineNumber:38,columnNumber:5},void 0)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/dialog.tsx",lineNumber:36,columnNumber:3},void 0));Ci.displayName=Xp.displayName;const Ei=({className:t,...e})=>o.jsxDEV("div",{className:se("flex flex-col space-y-1.5 text-center sm:text-left",t),...e},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/dialog.tsx",lineNumber:60,columnNumber:3},void 0);Ei.displayName="DialogHeader";const Oi=d.forwardRef(({className:t,...e},n)=>o.jsxDEV(Yp,{ref:n,className:se("text-lg font-semibold leading-none tracking-tight",t),...e},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/dialog.tsx",lineNumber:88,columnNumber:3},void 0));Oi.displayName=Yp.displayName;const O0=d.forwardRef(({className:t,...e},n)=>o.jsxDEV(Jp,{ref:n,className:se("text-sm text-muted-foreground",t),...e},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/dialog.tsx",lineNumber:103,columnNumber:3},void 0));O0.displayName=Jp.displayName;const j0=le.object({audioPassword:le.string().min(1,"Audio password is required")});function T0(){const{user:t,logoutMutation:e,audioAccessMutation:n}=Vt(),{toast:s}=$t(),[i,r]=d.useState(!1),{data:a,isLoading:l}=It({queryKey:["/api/admin/attendance/today"],refetchInterval:3e4}),{data:u}=It({queryKey:["/api/admin/employees"]}),c=et({mutationFn:async p=>await(await $e("POST","/api/admin/attendance/checkin",{userId:p})).json(),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/attendance/today"]}),s({title:"Check-in recorded"})},onError:p=>{s({title:"Check-in failed",description:p.message,variant:"destructive"})}}),m=et({mutationFn:async({id:p,isLate:_})=>await(await $e("PUT",`/api/admin/attendance/${p}`,{isLate:_})).json(),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/attendance/today"]}),s({title:"Status updated"})},onError:p=>{s({title:"Update failed",description:p.message,variant:"destructive"})}}),f=(p,_)=>{m.mutate({id:p,isLate:_==="late"})},g=ms({resolver:bs(j0),defaultValues:{audioPassword:""}}),b=p=>{n.mutate(p,{onSuccess:()=>{r(!1),window.location.href="/admin/audio"}})},v=p=>(typeof p=="string"?new Date(p):p).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),x=(()=>{const p=(u==null?void 0:u.length)??0,_=(a==null?void 0:a.length)??0,S=(a==null?void 0:a.filter(P=>P.isLate).length)??0,E=p-_;return{total:p,present:_,late:S,absent:E}})(),y=(u==null?void 0:u.filter(p=>!(a!=null&&a.some(_=>_.user.id===p.id))))??[];return o.jsxDEV("div",{className:"min-h-screen bg-gray-50",children:[o.jsxDEV("div",{className:"bg-white shadow-sm border-b",children:o.jsxDEV("div",{className:"max-w-7xl mx-auto px-6 py-4",children:o.jsxDEV("div",{className:"flex justify-between items-center",children:[o.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"text-admin-dashboard",children:"Admin Dashboard"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:124,columnNumber:13},this),o.jsxDEV("div",{className:"flex items-center space-x-4",children:[o.jsxDEV(At,{href:"/admin/employees",children:o.jsxDEV(te,{variant:"ghost","data-testid":"button-employees",children:[o.jsxDEV(_r,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:130,columnNumber:19},this),"Employees"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:129,columnNumber:17},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:128,columnNumber:15},this),o.jsxDEV(At,{href:"/admin/work-hours",children:o.jsxDEV(te,{variant:"ghost","data-testid":"button-work-hours",children:[o.jsxDEV(fs,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:136,columnNumber:19},this),"Work Hours"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:135,columnNumber:17},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:134,columnNumber:15},this),o.jsxDEV(te,{variant:"ghost",onClick:()=>e.mutate(),disabled:e.isPending,"data-testid":"button-logout",children:[o.jsxDEV(Xg,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:146,columnNumber:17},this),"Logout"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:140,columnNumber:15},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:127,columnNumber:13},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:123,columnNumber:11},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:122,columnNumber:9},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:121,columnNumber:7},this),o.jsxDEV("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[o.jsxDEV(he,{"data-testid":"card-total-employees",children:o.jsxDEV(pe,{className:"p-6",children:o.jsxDEV("div",{className:"flex items-center",children:[o.jsxDEV(_r,{className:"text-primary text-2xl mr-4"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:160,columnNumber:17},this),o.jsxDEV("div",{children:[o.jsxDEV("p",{className:"text-sm text-gray-600",children:"Total Employees"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:162,columnNumber:19},this),o.jsxDEV("p",{className:"text-2xl font-bold text-gray-900","data-testid":"text-total-count",children:x.total},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:163,columnNumber:19},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:161,columnNumber:17},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:159,columnNumber:15},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:158,columnNumber:13},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:157,columnNumber:11},this),o.jsxDEV(he,{"data-testid":"card-present-today",children:o.jsxDEV(pe,{className:"p-6",children:o.jsxDEV("div",{className:"flex items-center",children:[o.jsxDEV(gd,{className:"text-success text-2xl mr-4"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:174,columnNumber:17},this),o.jsxDEV("div",{children:[o.jsxDEV("p",{className:"text-sm text-gray-600",children:"Present Today"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:176,columnNumber:19},this),o.jsxDEV("p",{className:"text-2xl font-bold text-gray-900","data-testid":"text-present-count",children:x.present},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:177,columnNumber:19},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:175,columnNumber:17},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:173,columnNumber:15},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:172,columnNumber:13},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:171,columnNumber:11},this),o.jsxDEV(he,{"data-testid":"card-late-today",children:o.jsxDEV(pe,{className:"p-6",children:o.jsxDEV("div",{className:"flex items-center",children:[o.jsxDEV(fs,{className:"text-warning text-2xl mr-4"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:188,columnNumber:17},this),o.jsxDEV("div",{children:[o.jsxDEV("p",{className:"text-sm text-gray-600",children:"Late Today"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:190,columnNumber:19},this),o.jsxDEV("p",{className:"text-2xl font-bold text-gray-900","data-testid":"text-late-count",children:x.late},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:191,columnNumber:19},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:189,columnNumber:17},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:187,columnNumber:15},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:186,columnNumber:13},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:185,columnNumber:11},this),o.jsxDEV(he,{"data-testid":"card-absent-today",children:o.jsxDEV(pe,{className:"p-6",children:o.jsxDEV("div",{className:"flex items-center",children:[o.jsxDEV(Yg,{className:"text-error text-2xl mr-4"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:202,columnNumber:17},this),o.jsxDEV("div",{children:[o.jsxDEV("p",{className:"text-sm text-gray-600",children:"Absent Today"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:204,columnNumber:19},this),o.jsxDEV("p",{className:"text-2xl font-bold text-gray-900","data-testid":"text-absent-count",children:x.absent},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:205,columnNumber:19},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:203,columnNumber:17},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:201,columnNumber:15},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:200,columnNumber:13},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:199,columnNumber:11},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:156,columnNumber:9},this),o.jsxDEV(he,{children:[o.jsxDEV(ze,{children:o.jsxDEV(Ue,{children:"Today's Attendance"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:217,columnNumber:13},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:216,columnNumber:11},this),o.jsxDEV(pe,{children:l?o.jsxDEV("div",{className:"flex justify-center py-8",children:o.jsxDEV(je,{className:"h-6 w-6 animate-spin"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:222,columnNumber:17},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:221,columnNumber:15},this):o.jsxDEV("div",{className:"overflow-x-auto",children:o.jsxDEV(Is,{children:[o.jsxDEV(Ms,{children:o.jsxDEV(at,{children:[o.jsxDEV(Te,{children:"Employee"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:229,columnNumber:23},this),o.jsxDEV(Te,{children:"Check-in"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:230,columnNumber:23},this),o.jsxDEV(Te,{children:"Check-out"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:231,columnNumber:23},this),o.jsxDEV(Te,{children:"Hours"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:232,columnNumber:23},this),o.jsxDEV(Te,{children:"Status"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:233,columnNumber:23},this),o.jsxDEV(Te,{children:"Action"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:234,columnNumber:23},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:228,columnNumber:21},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:227,columnNumber:19},this),o.jsxDEV(Ls,{children:[a==null?void 0:a.map(p=>o.jsxDEV(at,{"data-testid":`row-attendance-${p.id}`,children:[o.jsxDEV(ye,{children:o.jsxDEV("div",{children:[o.jsxDEV("div",{className:"font-medium text-gray-900",children:p.user.username},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:242,columnNumber:29},this),o.jsxDEV("div",{className:"text-sm text-gray-500",children:p.user.employeeId},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:245,columnNumber:29},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:241,columnNumber:27},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:240,columnNumber:25},this),o.jsxDEV(ye,{children:v(p.checkInTime)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:250,columnNumber:25},this),o.jsxDEV(ye,{children:p.checkOutTime?v(p.checkOutTime):"-"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:251,columnNumber:25},this),o.jsxDEV(ye,{children:[p.hoursWorked||"0","h"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:254,columnNumber:25},this),o.jsxDEV(ye,{children:o.jsxDEV(Fn,{value:p.isLate?"late":"present",onValueChange:_=>f(p.id,_),children:[o.jsxDEV(pn,{className:"w-[110px]",children:o.jsxDEV($n,{},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:263,columnNumber:31},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:262,columnNumber:29},this),o.jsxDEV(gn,{children:[o.jsxDEV(ht,{value:"present",children:"Present"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:266,columnNumber:31},this),o.jsxDEV(ht,{value:"late",children:"Late"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:267,columnNumber:31},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:265,columnNumber:29},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:258,columnNumber:27},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:257,columnNumber:25},this),o.jsxDEV(ye,{},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:271,columnNumber:25},this)]},p.id,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:239,columnNumber:23},this)),y.map(p=>o.jsxDEV(at,{"data-testid":`row-absent-${p.id}`,children:[o.jsxDEV(ye,{children:o.jsxDEV("div",{children:[o.jsxDEV("div",{className:"font-medium text-gray-900",children:p.username},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:278,columnNumber:29},this),o.jsxDEV("div",{className:"text-sm text-gray-500",children:p.employeeId},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:279,columnNumber:29},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:277,columnNumber:27},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:276,columnNumber:25},this),o.jsxDEV(ye,{children:"-"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:282,columnNumber:25},this),o.jsxDEV(ye,{children:"-"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:283,columnNumber:25},this),o.jsxDEV(ye,{children:"0h"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:284,columnNumber:25},this),o.jsxDEV(ye,{children:o.jsxDEV(qt,{variant:"destructive",children:"Absent"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:286,columnNumber:27},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:285,columnNumber:25},this),o.jsxDEV(ye,{children:o.jsxDEV(te,{size:"sm",onClick:()=>c.mutate(p.id),disabled:c.isPending,children:"Mark Present"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:289,columnNumber:27},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:288,columnNumber:25},this)]},p.id,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:275,columnNumber:23},this)),(!a||a.length===0)&&y.length===0?o.jsxDEV(at,{children:o.jsxDEV(ye,{colSpan:6,className:"text-center text-gray-500 py-8",children:"No attendance records for today"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:301,columnNumber:25},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:300,columnNumber:23},this):null]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:237,columnNumber:19},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:226,columnNumber:17},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:225,columnNumber:15},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:219,columnNumber:11},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:215,columnNumber:9},this),o.jsxDEV("div",{className:"mt-8 text-center",children:o.jsxDEV(Zr,{open:i,onOpenChange:r,children:[o.jsxDEV(eg,{asChild:!0,children:o.jsxDEV(te,{variant:"link",className:"text-gray-400 hover:text-gray-600 text-sm underline","data-testid":"button-system-maintenance",children:"System Maintenance"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:317,columnNumber:15},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:316,columnNumber:13},this),o.jsxDEV(Ci,{className:"max-w-md",children:[o.jsxDEV(Ei,{children:o.jsxDEV(Oi,{className:"flex items-center gap-2",children:[o.jsxDEV(Jg,{className:"h-5 w-5 text-primary"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:328,columnNumber:19},this),"Audio Panel Access"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:327,columnNumber:17},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:326,columnNumber:15},this),o.jsxDEV("div",{className:"space-y-4",children:[o.jsxDEV("p",{className:"text-gray-600",children:"Enter the audio access password to continue:"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:333,columnNumber:17},this),o.jsxDEV(xs,{...g,children:o.jsxDEV("form",{onSubmit:g.handleSubmit(b),className:"space-y-4",children:[o.jsxDEV(tt,{control:g.control,name:"audioPassword",render:({field:p})=>o.jsxDEV(Qe,{children:[o.jsxDEV(Xe,{children:o.jsxDEV(ot,{type:"password",placeholder:"audioAccess2025",...p,"data-testid":"input-audio-access-password"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:344,columnNumber:29},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:343,columnNumber:27},this),o.jsxDEV(Ye,{},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:351,columnNumber:27},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:342,columnNumber:25},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:338,columnNumber:21},this),o.jsxDEV("div",{className:"flex space-x-3",children:[o.jsxDEV(te,{type:"submit",className:"flex-1 bg-primary hover:bg-blue-700",disabled:n.isPending,"data-testid":"button-access-panel",children:[n.isPending&&o.jsxDEV(je,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:362,columnNumber:59},this),"Access Panel"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:356,columnNumber:23},this),o.jsxDEV(te,{type:"button",variant:"secondary",className:"flex-1",onClick:()=>r(!1),"data-testid":"button-cancel-audio",children:"Cancel"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:365,columnNumber:23},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:355,columnNumber:21},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:337,columnNumber:19},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:336,columnNumber:17},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:332,columnNumber:15},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:325,columnNumber:13},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:315,columnNumber:11},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:314,columnNumber:9},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:154,columnNumber:7},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-dashboard.tsx",lineNumber:119,columnNumber:5},this)}var So="Popover",[ng,pS]=wn(So,[ts]),$s=ts(),[V0,sn]=ng(So),sg=t=>{const{__scopePopover:e,children:n,open:s,defaultOpen:i,onOpenChange:r,modal:a=!1}=t,l=$s(e),u=d.useRef(null),[c,m]=d.useState(!1),[f=!1,g]=hs({prop:s,defaultProp:i,onChange:r});return C.jsx(Cm,{...l,children:C.jsx(V0,{scope:e,contentId:dn(),triggerRef:u,open:f,onOpenChange:g,onOpenToggle:d.useCallback(()=>g(b=>!b),[g]),hasCustomAnchor:c,onCustomAnchorAdd:d.useCallback(()=>m(!0),[]),onCustomAnchorRemove:d.useCallback(()=>m(!1),[]),modal:a,children:n})})};sg.displayName=So;var ig="PopoverAnchor",B0=d.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,i=sn(ig,n),r=$s(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:l}=i;return d.useEffect(()=>(a(),()=>l()),[a,l]),C.jsx(Ii,{...r,...s,ref:e})});B0.displayName=ig;var rg="PopoverTrigger",og=d.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,i=sn(rg,n),r=$s(n),a=we(e,i.triggerRef),l=C.jsx(de.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":dg(i.open),...s,ref:a,onClick:ne(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:C.jsx(Ii,{asChild:!0,...r,children:l})});og.displayName=rg;var wo="PopoverPortal",[P0,k0]=ng(wo,{forceMount:void 0}),ag=t=>{const{__scopePopover:e,forceMount:n,children:s,container:i}=t,r=sn(wo,e);return C.jsx(P0,{scope:e,forceMount:n,children:C.jsx(en,{present:n||r.open,children:C.jsx(Bs,{asChild:!0,container:i,children:s})})})};ag.displayName=wo;var Gn="PopoverContent",lg=d.forwardRef((t,e)=>{const n=k0(Gn,t.__scopePopover),{forceMount:s=n.forceMount,...i}=t,r=sn(Gn,t.__scopePopover);return C.jsx(en,{present:s||r.open,children:r.modal?C.jsx(A0,{...i,ref:e}):C.jsx(I0,{...i,ref:e})})});lg.displayName=Gn;var R0=xn("PopoverContent.RemoveScroll"),A0=d.forwardRef((t,e)=>{const n=sn(Gn,t.__scopePopover),s=d.useRef(null),i=we(e,s),r=d.useRef(!1);return d.useEffect(()=>{const a=s.current;if(a)return bo(a)},[]),C.jsx(Wi,{as:R0,allowPinchZoom:!0,children:C.jsx(cg,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ne(t.onCloseAutoFocus,a=>{var l;a.preventDefault(),r.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:ne(t.onPointerDownOutside,a=>{const l=a.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,c=l.button===2||u;r.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:ne(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),I0=d.forwardRef((t,e)=>{const n=sn(Gn,t.__scopePopover),s=d.useRef(!1),i=d.useRef(!1);return C.jsx(cg,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:r=>{var a,l;(a=t.onCloseAutoFocus)==null||a.call(t,r),r.defaultPrevented||(s.current||(l=n.triggerRef.current)==null||l.focus(),r.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:r=>{var u,c;(u=t.onInteractOutside)==null||u.call(t,r),r.defaultPrevented||(s.current=!0,r.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=r.target;((c=n.triggerRef.current)==null?void 0:c.contains(a))&&r.preventDefault(),r.detail.originalEvent.type==="focusin"&&i.current&&r.preventDefault()}})}),cg=d.forwardRef((t,e)=>{const{__scopePopover:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:r,disableOutsidePointerEvents:a,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:c,onInteractOutside:m,...f}=t,g=sn(Gn,n),b=$s(n);return xo(),C.jsx(zi,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:r,children:C.jsx(Xn,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:m,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:c,onDismiss:()=>g.onOpenChange(!1),children:C.jsx(ao,{"data-state":dg(g.open),role:"dialog",id:g.contentId,...b,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ug="PopoverClose",M0=d.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,i=sn(ug,n);return C.jsx(de.button,{type:"button",...s,ref:e,onClick:ne(t.onClick,()=>i.onOpenChange(!1))})});M0.displayName=ug;var L0="PopoverArrow",F0=d.forwardRef((t,e)=>{const{__scopePopover:n,...s}=t,i=$s(n);return C.jsx(lo,{...i,...s,ref:e})});F0.displayName=L0;function dg(t){return t?"open":"closed"}var $0=sg,z0=og,U0=ag,mg=lg;const W0=$0,H0=z0,fg=d.forwardRef(({className:t,align:e="center",sideOffset:n=4,...s},i)=>o.jsxDEV(U0,{children:o.jsxDEV(mg,{ref:i,align:e,sideOffset:n,className:se("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",t),...s},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/popover.tsx",lineNumber:15,columnNumber:5},void 0)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/ui/popover.tsx",lineNumber:14,columnNumber:3},void 0));fg.displayName=mg.displayName;function Ys(t){return t.toString().padStart(2,"0")}function ja(t){if(!t)return{h:9,m:0};const e=/^\s*(\d{1,2}):(\d{2})\s*$/.exec(t);if(!e)return{h:9,m:0};const n=Math.max(0,Math.min(23,parseInt(e[1],10))),s=Math.max(0,Math.min(59,parseInt(e[2],10)));return{h:n,m:s}}function Pn({value:t,onChange:e,placeholder:n="HH:MM",className:s}){const{h:i}=d.useMemo(()=>ja(t),[t]),r=d.useMemo(()=>Array.from({length:24},(u,c)=>c),[]);function a(u){e(`${Ys(u)}:00`)}function l(u){const{h:c}=ja(u);e(`${Ys(c)}:00`)}return o.jsxDEV(W0,{children:[o.jsxDEV(H0,{asChild:!0,children:o.jsxDEV(te,{variant:"outline",className:se("w-36 justify-between font-mono",s),children:[o.jsxDEV("span",{children:t||n},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/time-picker.tsx",lineNumber:44,columnNumber:11},this),o.jsxDEV(fs,{className:"h-4 w-4 opacity-60"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/time-picker.tsx",lineNumber:45,columnNumber:11},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/time-picker.tsx",lineNumber:43,columnNumber:9},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/time-picker.tsx",lineNumber:42,columnNumber:7},this),o.jsxDEV(fg,{className:"w-[320px]",children:[o.jsxDEV("div",{className:"mb-2 flex items-center gap-2 text-sm font-medium",children:[o.jsxDEV(fs,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/time-picker.tsx",lineNumber:50,columnNumber:11},this)," Set Time",o.jsxDEV("span",{className:"ml-auto font-mono text-muted-foreground",children:[Ys(i),":00"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/time-picker.tsx",lineNumber:51,columnNumber:11},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/time-picker.tsx",lineNumber:49,columnNumber:9},this),o.jsxDEV("div",{children:[o.jsxDEV("div",{className:"mb-1 text-xs text-muted-foreground",children:"Hour"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/time-picker.tsx",lineNumber:54,columnNumber:11},this),o.jsxDEV("div",{className:"grid max-h-56 grid-cols-6 gap-1 overflow-auto pr-1",children:r.map(u=>o.jsxDEV("button",{type:"button",onClick:()=>a(u),className:se("h-8 rounded-md text-sm hover:bg-muted","border",u===i?"bg-primary text-primary-foreground border-primary":"border-transparent"),children:Ys(u)},u,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/time-picker.tsx",lineNumber:57,columnNumber:15},this))},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/time-picker.tsx",lineNumber:55,columnNumber:11},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/time-picker.tsx",lineNumber:53,columnNumber:9},this),o.jsxDEV("div",{className:"mt-3 flex items-center justify-between",children:[o.jsxDEV("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:["Presets:",o.jsxDEV("button",{className:"rounded border px-2 py-1 hover:bg-muted",onClick:()=>l("09:00"),children:"09:00"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/time-picker.tsx",lineNumber:76,columnNumber:13},this),o.jsxDEV("button",{className:"rounded border px-2 py-1 hover:bg-muted",onClick:()=>l("17:00"),children:"17:00"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/time-picker.tsx",lineNumber:77,columnNumber:13},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/time-picker.tsx",lineNumber:74,columnNumber:11},this),o.jsxDEV(te,{variant:"ghost",size:"sm",onClick:()=>e(""),children:"Clear"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/time-picker.tsx",lineNumber:79,columnNumber:11},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/time-picker.tsx",lineNumber:73,columnNumber:9},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/time-picker.tsx",lineNumber:48,columnNumber:7},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/time-picker.tsx",lineNumber:41,columnNumber:5},this)}function q0(){const[t,e]=d.useState(""),[n,s]=d.useState(""),[i,r]=d.useState(!0),{toast:a}=$t(),[l,u]=d.useState(!1);async function c(){var m;try{u(!0);const f={applyTo:i?"all":"unsetOnly"};if(t&&(f.defaultStartTime=t),n&&(f.defaultEndTime=n),!f.defaultStartTime&&!f.defaultEndTime){a({title:"Nothing to apply",description:"Set start and/or end time"});return}await(await $e("PATCH","/api/admin/employees/schedule",f)).json(),a({title:"Updated",description:"Default work hours applied"});try{(m=window.location)==null||m.reload()}catch{}}catch(f){a({title:"Failed",description:(f==null?void 0:f.message)||String(f),variant:"destructive"})}finally{u(!1)}}return o.jsxDEV(he,{className:"mb-6",children:[o.jsxDEV(ze,{children:o.jsxDEV(Ue,{children:"Default Work Hours"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:54,columnNumber:9},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:53,columnNumber:7},this),o.jsxDEV(pe,{children:o.jsxDEV("div",{className:"flex flex-wrap items-end gap-4",children:[o.jsxDEV("div",{children:[o.jsxDEV("label",{className:"block text-sm font-medium mb-1",children:"Company Start Time"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:59,columnNumber:13},this),o.jsxDEV(Pn,{value:t,onChange:e},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:60,columnNumber:13},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:58,columnNumber:11},this),o.jsxDEV("div",{children:[o.jsxDEV("label",{className:"block text-sm font-medium mb-1",children:"Company End Time"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:63,columnNumber:13},this),o.jsxDEV(Pn,{value:n,onChange:s},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:64,columnNumber:13},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:62,columnNumber:11},this),o.jsxDEV("div",{className:"flex items-center gap-2",children:[o.jsxDEV("input",{id:"applyAll",type:"checkbox",checked:i,onChange:m=>r(m.target.checked)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:67,columnNumber:13},this),o.jsxDEV("label",{htmlFor:"applyAll",className:"text-sm",children:"Apply to all employees (uncheck = only set for employees without custom times)"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:68,columnNumber:13},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:66,columnNumber:11},this),o.jsxDEV(te,{onClick:c,disabled:l||!t&&!n,children:[l&&o.jsxDEV(je,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:71,columnNumber:25},this),"Apply"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:70,columnNumber:11},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:57,columnNumber:9},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:56,columnNumber:7},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:52,columnNumber:5},this)}function Z0(){const{toast:t}=$t(),[e,n]=d.useState(""),[s,i]=d.useState("8am to 9pm"),[r,a]=d.useState("123456"),[l,u]=d.useState(!1);function c(v,h){const x=String(Math.max(0,Math.min(23,v))).padStart(2,"0"),y=String(Math.max(0,Math.min(59,h))).padStart(2,"0");return`${x}:${y}`}function m(v,h){v=v.trim().toLowerCase();let x;if(v.endsWith("am")?(x="am",v=v.slice(0,-2)):v.endsWith("pm")&&(x="pm",v=v.slice(0,-2)),v=v.replace(/[^0-9:]/g,""),!v)return null;let y=0,p=0;if(v.includes(":")){const[_,S]=v.split(":");y=parseInt(_||"0",10),p=parseInt(S||"0",10)||0}else y=parseInt(v,10),p=0;return isNaN(y)||isNaN(p)?null:(x==="am"?y===12&&(y=0):x==="pm"?y<12&&(y+=12):h===!0&&y===12&&(y=0),{h:y,m:p})}function f(v){if(!v)return{};const h=v.replace(//g,"-"),x=h.includes(" to ")?" to ":h.includes("-")?"-":" to ",y=h.split(x),p=(y[0]||"").trim(),_=(y[1]||"").trim(),S=/pm\b/i.test(_),E=m(p,S?!0:void 0),P=m(_),w={};return E&&(w.start=c(E.h,E.m)),P&&(w.end=c(P.h,P.m)),w}const g=f(s);async function b(){var v;try{if(!e.trim()){t({title:"Name required",description:"Enter a username (e.g., xyz)",variant:"destructive"});return}u(!0);const h=await $e("POST","/api/admin/employees/quick",{name:e.trim(),time:s.trim(),password:r});if(!h.ok)throw new Error(`${h.status}`);await h.json(),t({title:"Employee created",description:`${e.trim()} added`});try{(v=window.location)==null||v.reload()}catch{}}catch(h){t({title:"Failed to create",description:(h==null?void 0:h.message)||String(h),variant:"destructive"})}finally{u(!1)}}return o.jsxDEV(he,{className:"mb-6",children:[o.jsxDEV(ze,{children:o.jsxDEV(Ue,{children:"Quick Add Employee"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:150,columnNumber:9},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:149,columnNumber:7},this),o.jsxDEV(pe,{children:o.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 items-end",children:[o.jsxDEV("div",{children:[o.jsxDEV("label",{className:"block text-sm font-medium mb-1",children:"Username"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:155,columnNumber:13},this),o.jsxDEV(ot,{value:e,onChange:v=>n(v.target.value),placeholder:"e.g. xyz","data-testid":"quick-username"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:156,columnNumber:13},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:154,columnNumber:11},this),o.jsxDEV("div",{children:[o.jsxDEV("label",{className:"block text-sm font-medium mb-1",children:"Time Range"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:159,columnNumber:13},this),o.jsxDEV(ot,{value:s,onChange:v=>i(v.target.value),placeholder:"e.g. 7am to 6pm, 7-6, 09:15-18:30","data-testid":"quick-time"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:160,columnNumber:13},this),o.jsxDEV("div",{className:"text-xs text-gray-500 mt-1",children:g.start||g.end?o.jsxDEV(o.Fragment,{children:["Will set Start: ",o.jsxDEV("span",{className:"font-medium",children:g.start||"-"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:163,columnNumber:37},this)," End: ",o.jsxDEV("span",{className:"font-medium",children:g.end||"-"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:163,columnNumber:102},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:163,columnNumber:19},this):o.jsxDEV(o.Fragment,{children:["Could not parse time. You can leave it blank or enter like ",o.jsxDEV("span",{className:"font-mono",children:"7am to 6pm"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:164,columnNumber:80},this),"."]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:164,columnNumber:19},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:161,columnNumber:13},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:158,columnNumber:11},this),o.jsxDEV("div",{children:[o.jsxDEV("label",{className:"block text-sm font-medium mb-1",children:"Password"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:168,columnNumber:13},this),o.jsxDEV(ot,{type:"text",value:r,onChange:v=>a(v.target.value),placeholder:"default 123456","data-testid":"quick-password"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:169,columnNumber:13},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:167,columnNumber:11},this),o.jsxDEV("div",{children:o.jsxDEV(te,{onClick:b,disabled:l,className:"w-full",children:[l&&o.jsxDEV(je,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:173,columnNumber:27},this),"Create"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:172,columnNumber:13},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:171,columnNumber:11},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:153,columnNumber:9},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:152,columnNumber:7},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:148,columnNumber:5},this)}const K0=le.object({username:le.string().min(1,"Username is required"),password:le.string().min(6,"Password must be at least 6 characters"),defaultStartTime:le.string().optional(),defaultEndTime:le.string().optional()}),G0=le.object({username:le.string().min(1,"Username is required"),password:le.string().min(6,"Password must be at least 6 characters").optional(),defaultStartTime:le.string().optional(),defaultEndTime:le.string().optional()});function Q0(){const{user:t,logoutMutation:e}=Vt(),{toast:n}=$t(),[s,i]=d.useState(""),[r,a]=d.useState(!1),[l,u]=d.useState(!1),[c,m]=d.useState(null),{data:f,isLoading:g}=It({queryKey:["/api/admin/employees"]}),b=(f||[]).filter(w=>{const L=s.trim().toLowerCase();if(!L)return!0;const Z=w.department||"";return w.username.toLowerCase().includes(L)||String(Z).toLowerCase().includes(L)}),v=et({mutationFn:async w=>await(await $e("POST","/api/admin/employees",w)).json(),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/employees"]}),a(!1),y.reset(),n({title:"Employee created",description:"New employee has been added successfully"})},onError:w=>{n({title:"Failed to create employee",description:w.message,variant:"destructive"})}}),h=et({mutationFn:async w=>{await $e("DELETE",`/api/admin/employees/${w}`)},onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/employees"]}),n({title:"Employee deleted",description:"Employee has been removed successfully"})},onError:w=>{n({title:"Failed to delete employee",description:w.message,variant:"destructive"})}}),x=et({mutationFn:async({id:w,data:L})=>await(await $e("PUT",`/api/admin/employees/${w}`,L)).json(),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/employees"]}),u(!1),n({title:"Employee updated",description:"Employee details have been updated"})},onError:w=>{n({title:"Failed to update employee",description:w.message,variant:"destructive"})}}),y=ms({resolver:bs(K0),defaultValues:{username:"",password:"123456",defaultStartTime:"08:00",defaultEndTime:"21:00"}}),p=ms({resolver:bs(G0),defaultValues:{username:"",password:"",defaultStartTime:"",defaultEndTime:""}}),_=w=>{v.mutate(w)},S=w=>{c&&x.mutate({id:c.id,data:w})},E=w=>{confirm("Are you sure you want to delete this employee?")&&h.mutate(w)},P=w=>{m(w),p.reset({username:w.username,password:"",defaultStartTime:w.defaultStartTime||"",defaultEndTime:w.defaultEndTime||""}),u(!0)};return o.jsxDEV("div",{className:"min-h-screen bg-gray-50",children:[o.jsxDEV("div",{className:"bg-white shadow-sm border-b",children:o.jsxDEV("div",{className:"max-w-7xl mx-auto px-6 py-4",children:o.jsxDEV("div",{className:"flex justify-between items-center",children:[o.jsxDEV("div",{className:"flex items-center",children:[o.jsxDEV(At,{href:"/admin",children:o.jsxDEV(te,{variant:"ghost",size:"sm",className:"mr-4","data-testid":"button-back",children:o.jsxDEV(Ti,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:340,columnNumber:19},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:339,columnNumber:17},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:338,columnNumber:15},this),o.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900","data-testid":"text-employees-title",children:"Employee Management"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:343,columnNumber:15},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:337,columnNumber:13},this),o.jsxDEV("div",{className:"flex items-center gap-3",children:o.jsxDEV("input",{className:"border rounded px-3 py-1 text-sm",placeholder:"Search username or department",value:s,onChange:w=>i(w.target.value)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:348,columnNumber:17},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:347,columnNumber:15},this),o.jsxDEV(Zr,{open:r,onOpenChange:a,children:[o.jsxDEV(eg,{asChild:!0,children:o.jsxDEV(te,{className:"bg-primary hover:bg-blue-700","data-testid":"button-add-employee",children:[o.jsxDEV(ex,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:358,columnNumber:19},this),"Add Employee"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:357,columnNumber:17},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:356,columnNumber:15},this),o.jsxDEV(Ci,{className:"max-w-md",children:[o.jsxDEV(Ei,{children:o.jsxDEV(Oi,{children:"Add New Employee"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:364,columnNumber:19},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:363,columnNumber:17},this),o.jsxDEV(xs,{...y,children:o.jsxDEV("form",{onSubmit:y.handleSubmit(_),className:"space-y-4",children:[o.jsxDEV(tt,{control:y.control,name:"username",render:({field:w})=>o.jsxDEV(Qe,{children:[o.jsxDEV(nt,{children:"Username"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:373,columnNumber:27},this),o.jsxDEV(Xe,{children:o.jsxDEV(ot,{...w,"data-testid":"input-new-username",autoComplete:"username"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:375,columnNumber:29},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:374,columnNumber:27},this),o.jsxDEV(Ye,{},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:377,columnNumber:27},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:372,columnNumber:25},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:368,columnNumber:21},this),o.jsxDEV(tt,{control:y.control,name:"password",render:({field:w})=>o.jsxDEV(Qe,{children:[o.jsxDEV(nt,{children:"Password"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:389,columnNumber:27},this),o.jsxDEV(Xe,{children:o.jsxDEV(ot,{type:"password",autoComplete:"new-password",...w,"data-testid":"input-new-password"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:391,columnNumber:29},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:390,columnNumber:27},this),o.jsxDEV(Ye,{},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:398,columnNumber:27},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:388,columnNumber:25},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:384,columnNumber:21},this),o.jsxDEV(tt,{control:y.control,name:"defaultStartTime",render:({field:w})=>o.jsxDEV(Qe,{children:[o.jsxDEV(nt,{children:"Start Time (optional)"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:408,columnNumber:27},this),o.jsxDEV(Xe,{children:o.jsxDEV(Pn,{value:w.value||"",onChange:w.onChange},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:410,columnNumber:29},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:409,columnNumber:27},this),o.jsxDEV(Ye,{},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:412,columnNumber:27},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:407,columnNumber:25},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:403,columnNumber:21},this),o.jsxDEV(tt,{control:y.control,name:"defaultEndTime",render:({field:w})=>o.jsxDEV(Qe,{children:[o.jsxDEV(nt,{children:"End Time (optional)"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:421,columnNumber:27},this),o.jsxDEV(Xe,{children:o.jsxDEV(Pn,{value:w.value||"",onChange:w.onChange},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:423,columnNumber:29},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:422,columnNumber:27},this),o.jsxDEV(Ye,{},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:425,columnNumber:27},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:420,columnNumber:25},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:416,columnNumber:21},this),o.jsxDEV("div",{className:"flex space-x-3",children:[o.jsxDEV(te,{type:"submit",className:"flex-1 bg-primary hover:bg-blue-700",disabled:v.isPending,"data-testid":"button-create-employee",children:[v.isPending&&o.jsxDEV(je,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:437,columnNumber:62},this),"Create Employee"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:431,columnNumber:23},this),o.jsxDEV(te,{type:"button",variant:"secondary",className:"flex-1",onClick:()=>a(!1),"data-testid":"button-cancel-create",children:"Cancel"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:440,columnNumber:23},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:430,columnNumber:21},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:367,columnNumber:19},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:366,columnNumber:17},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:362,columnNumber:15},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:355,columnNumber:15},this),o.jsxDEV(Zr,{open:l,onOpenChange:u,children:o.jsxDEV(Ci,{className:"max-w-md",children:[o.jsxDEV(Ei,{children:o.jsxDEV(Oi,{children:"Edit Employee"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:457,columnNumber:19},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:456,columnNumber:17},this),o.jsxDEV(xs,{...p,children:o.jsxDEV("form",{onSubmit:p.handleSubmit(S),className:"space-y-4",children:[o.jsxDEV(tt,{control:p.control,name:"username",render:({field:w})=>o.jsxDEV(Qe,{children:[o.jsxDEV(nt,{children:"Username"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:466,columnNumber:27},this),o.jsxDEV(Xe,{children:o.jsxDEV(ot,{...w,"data-testid":"input-edit-username"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:468,columnNumber:29},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:467,columnNumber:27},this),o.jsxDEV(Ye,{},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:470,columnNumber:27},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:465,columnNumber:25},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:461,columnNumber:21},this),o.jsxDEV(tt,{control:p.control,name:"password",render:({field:w})=>o.jsxDEV(Qe,{children:[o.jsxDEV(nt,{children:"Password"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:482,columnNumber:27},this),o.jsxDEV(Xe,{children:o.jsxDEV(ot,{type:"password",autoComplete:"new-password",...w,"data-testid":"input-edit-password"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:484,columnNumber:29},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:483,columnNumber:27},this),o.jsxDEV(Ye,{},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:486,columnNumber:27},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:481,columnNumber:25},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:477,columnNumber:21},this),o.jsxDEV(tt,{control:p.control,name:"defaultStartTime",render:({field:w})=>o.jsxDEV(Qe,{children:[o.jsxDEV(nt,{children:"Start Time"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:496,columnNumber:27},this),o.jsxDEV(Xe,{children:o.jsxDEV(Pn,{value:w.value||"",onChange:w.onChange},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:498,columnNumber:29},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:497,columnNumber:27},this),o.jsxDEV(Ye,{},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:500,columnNumber:27},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:495,columnNumber:25},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:491,columnNumber:21},this),o.jsxDEV(tt,{control:p.control,name:"defaultEndTime",render:({field:w})=>o.jsxDEV(Qe,{children:[o.jsxDEV(nt,{children:"End Time"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:509,columnNumber:27},this),o.jsxDEV(Xe,{children:o.jsxDEV(Pn,{value:w.value||"",onChange:w.onChange},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:511,columnNumber:29},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:510,columnNumber:27},this),o.jsxDEV(Ye,{},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:513,columnNumber:27},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:508,columnNumber:25},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:504,columnNumber:21},this),o.jsxDEV("div",{className:"flex space-x-3",children:[o.jsxDEV(te,{type:"submit",className:"flex-1 bg-primary hover:bg-blue-700",disabled:x.isPending,"data-testid":"button-update-employee",children:[x.isPending&&o.jsxDEV(je,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:525,columnNumber:62},this),"Update Employee"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:519,columnNumber:23},this),o.jsxDEV(te,{type:"button",variant:"secondary",className:"flex-1",onClick:()=>u(!1),"data-testid":"button-cancel-edit",children:"Cancel"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:528,columnNumber:23},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:518,columnNumber:21},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:460,columnNumber:19},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:459,columnNumber:17},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:455,columnNumber:15},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:454,columnNumber:13},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:336,columnNumber:11},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:335,columnNumber:9},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:334,columnNumber:7},this),o.jsxDEV("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsxDEV(Z0,{},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:547,columnNumber:9},this),o.jsxDEV(q0,{},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:548,columnNumber:9},this),o.jsxDEV(he,{children:o.jsxDEV(pe,{children:g?o.jsxDEV("div",{className:"flex justify-center py-8",children:o.jsxDEV(je,{className:"h-6 w-6 animate-spin"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:553,columnNumber:17},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:552,columnNumber:15},this):o.jsxDEV("div",{className:"overflow-x-auto",children:o.jsxDEV(Is,{children:[o.jsxDEV(Ms,{children:o.jsxDEV(at,{children:[o.jsxDEV(Te,{children:"Employee"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:560,columnNumber:23},this),o.jsxDEV(Te,{children:"Join Date"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:561,columnNumber:23},this),o.jsxDEV(Te,{children:"Work Hours"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:562,columnNumber:23},this),o.jsxDEV(Te,{children:"Status"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:563,columnNumber:23},this),o.jsxDEV(Te,{children:"Actions"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:564,columnNumber:23},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:559,columnNumber:21},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:558,columnNumber:19},this),o.jsxDEV(Ls,{children:[b==null?void 0:b.map(w=>o.jsxDEV(at,{"data-testid":`row-employee-${w.id}`,children:[o.jsxDEV(ye,{children:o.jsxDEV("div",{children:[o.jsxDEV("div",{className:"font-medium text-gray-900",children:w.username},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:572,columnNumber:29},this),o.jsxDEV("div",{className:"text-sm text-gray-500",children:[w.employeeId,"  ",w.username.toLowerCase(),"@bedi.com"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:575,columnNumber:29},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:571,columnNumber:27},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:570,columnNumber:25},this),o.jsxDEV(ye,{children:w.joinDate?new Date(w.joinDate).toLocaleDateString():"N/A"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:581,columnNumber:25},this),o.jsxDEV(ye,{children:w.defaultStartTime||w.defaultEndTime?o.jsxDEV("span",{className:"text-gray-800",children:[w.defaultStartTime||"-"," ",""," "," ",w.defaultEndTime||"-"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:589,columnNumber:29},this):o.jsxDEV("span",{className:"text-gray-400",children:"not set"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:592,columnNumber:29},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:587,columnNumber:25},this),o.jsxDEV(ye,{children:o.jsxDEV(qt,{variant:"default",className:w.isActive?"bg-success text-white":"bg-gray-500 text-white",children:w.isActive?"Active":"Inactive"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:596,columnNumber:27},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:595,columnNumber:25},this),o.jsxDEV(ye,{children:o.jsxDEV("div",{className:"flex space-x-2",children:[o.jsxDEV(te,{variant:"ghost",size:"sm",className:"text-primary hover:text-blue-700",onClick:()=>P(w),"data-testid":`button-edit-${w.id}`,children:[o.jsxDEV(tx,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:612,columnNumber:31},this),"Edit"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:605,columnNumber:29},this),o.jsxDEV(te,{variant:"ghost",size:"sm",className:"text-error hover:text-red-700",onClick:()=>E(w.id),disabled:h.isPending,"data-testid":`button-delete-${w.id}`,children:[o.jsxDEV(Dr,{className:"h-4 w-4 mr-1"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:623,columnNumber:31},this),"Delete"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:615,columnNumber:29},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:604,columnNumber:27},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:603,columnNumber:25},this)]},w.id,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:569,columnNumber:23},this)),!f||f.length===0?o.jsxDEV(at,{children:o.jsxDEV(ye,{colSpan:4,className:"text-center text-gray-500 py-8",children:"No employees found"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:632,columnNumber:25},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:631,columnNumber:23},this):null]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:567,columnNumber:19},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:557,columnNumber:17},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:556,columnNumber:15},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:550,columnNumber:11},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:549,columnNumber:9},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:546,columnNumber:7},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-employees.tsx",lineNumber:332,columnNumber:5},this)}function X0({fileUrl:t,startTime:e,duration:n,audioRef:s}){const i=d.useRef(null),[r,a]=d.useState([]),l=d.useRef(),[u,c]=d.useState(n&&n>0?n:0),[m,f]=d.useState(null),[g,b]=d.useState(!1);d.useEffect(()=>{(async()=>{try{const O=Je(),B=t!=null&&t.startsWith("http")?t:`${O||""}${t||""}`,z=await(await fetch(B,{headers:{"ngrok-skip-browser-warning":"true"}})).arrayBuffer(),K=window.AudioContext||window.webkitAudioContext,H=(await new K().decodeAudioData(z)).getChannelData(0),q=Math.floor(H.length/100),J=[];for(let ae=0;ae<100;ae++){let me=0;for(let Ve=0;Ve<q;Ve++)me+=Math.abs(H[ae*q+Ve]);J.push(me/q)}a(J)}catch(O){console.error("Audio analysis failed",O)}})()},[t]),d.useEffect(()=>{n&&n>0&&c(n)},[n]),d.useEffect(()=>{if(!(s!=null&&s.current))return;const T=s.current,O=()=>{T.duration&&(!n||n===0)&&c(T.duration)};return T.addEventListener("loadedmetadata",O),O(),()=>{T.removeEventListener("loadedmetadata",O)}},[s,n]);const v=T=>{const O=Math.floor(T/3600),B=Math.floor(T%3600/60);return O>0?`${O}:${B.toString().padStart(2,"0")}`:`${B}m`},h=T=>{if(!e)return v(T);const O=new Date(e);return new Date(O.getTime()+Math.max(0,T)*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},x=T=>T>4*3600?3600:T>3600?1800:T>1800?600:60,y=T=>T>=3600?600:T>=1800?300:T>=600?120:30,p=(T,O)=>{const B=[];if(T<=0||O<=0)return B;if(!e){for(let K=O;K<T;K+=O)B.push(K);return B}const U=Math.floor(new Date(e).getTime()/1e3);let z=Math.ceil(U/O);for(;;){const M=z*O-U;if(M>=T)break;M>0&&B.push(M),z++}return B};d.useEffect(()=>{const T=i.current;if(!T||r.length===0)return;const O=T.getContext("2d");if(!O)return;const B=()=>{const U=T.clientWidth,z=T.clientHeight;T.width!==U&&(T.width=U),T.height!==z&&(T.height=z);const M=z-16;O.clearRect(0,0,U,z),r.forEach((q,J)=>{const ae=J/r.length*U,me=U/r.length,Ve=q*M;O.fillStyle=q>.01?"#facc15":"#e5e7eb",O.fillRect(ae,M-Ve,me,Ve)});const j=u;if(j>0){const q=x(j),J=y(q);O.strokeStyle="#cbd5e1",p(j,J).forEach(ae=>{const me=ae/j*U;O.beginPath(),O.moveTo(me,M),O.lineTo(me,M+3),O.stroke()}),p(j,q).forEach(ae=>{const me=ae/j*U;O.strokeStyle="#94a3b8",O.beginPath(),O.moveTo(me,M),O.lineTo(me,M+6),O.stroke();const Ve=h(ae);O.fillStyle="#475569",O.font="10px sans-serif";const Ae=O.measureText(Ve).width;O.fillText(Ve,me-Ae/2,z-2)})}const H=s==null?void 0:s.current;if(H&&j>0){const q=H.currentTime/j;O.fillStyle="rgba(0,0,0,0.5)";const J=q*U;O.fillRect(J,0,2,M),O.beginPath(),O.arc(J,M-2,3,0,Math.PI*2),O.fillStyle="#111827",O.fill()}if(m!==null&&j>0){const q=m/j*U;O.strokeStyle="rgba(0,0,0,0.2)",O.beginPath(),O.moveTo(q,0),O.lineTo(q,M),O.stroke();const J=h(m);O.fillStyle="#111827",O.font="10px sans-serif";const ae=O.measureText(J).width+6,me=Math.min(Math.max(0,q-ae/2),U-ae);O.fillStyle="rgba(255,255,255,0.9)",O.fillRect(me,2,ae,12),O.strokeStyle="rgba(0,0,0,0.2)",O.strokeRect(me,2,ae,12),O.fillStyle="#111827",O.fillText(J,me+3,12)}l.current=requestAnimationFrame(B)};return B(),()=>{l.current&&cancelAnimationFrame(l.current)}},[r,s,u]);const _=e?new Date(e):null,S=_?_.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"0:00",E=_&&u>0?new Date(_.getTime()+u*1e3).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):u>0?v(u):"",P=T=>{const O=i.current.getBoundingClientRect();return Math.min(Math.max(T-O.left,0),O.width)/O.width*u},w=T=>{if(!(s!=null&&s.current)||u<=0)return;const O=s.current;O.currentTime=P(T.clientX),O.play().catch(()=>{})},L=T=>{if(u<=0)return;const O=P(T.clientX);f(Math.min(Math.max(0,O),u)),g&&(s!=null&&s.current)&&(s.current.currentTime=O)},Z=()=>{g||f(null)},Y=T=>{if(u<=0)return;b(!0);const O=P(T.clientX);s!=null&&s.current&&(s.current.currentTime=O)},k=()=>{b(!1)};return o.jsxDEV("div",{className:"flex items-center gap-2 mt-2",children:[o.jsxDEV("span",{className:"text-xs text-gray-600 w-14 text-left",children:S},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/audio-timeline.tsx",lineNumber:275,columnNumber:7},this),o.jsxDEV("canvas",{ref:i,width:400,height:80,className:"h-20 flex-1 cursor-pointer",onClick:w,onMouseMove:L,onMouseLeave:Z,onMouseDown:Y,onMouseUp:k},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/audio-timeline.tsx",lineNumber:276,columnNumber:7},this),o.jsxDEV("span",{className:"text-xs text-gray-600 w-14 text-right",children:E},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/audio-timeline.tsx",lineNumber:287,columnNumber:7},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/components/audio-timeline.tsx",lineNumber:274,columnNumber:5},this)}function Y0(){const{user:t}=Vt(),{toast:e}=$t(),[n,s]=d.useState(null),[i,r]=d.useState(null),[a,l]=d.useState("all"),u=d.useRef(null),[c,m]=d.useState(null),{data:f,isLoading:g}=It({queryKey:["/api/admin/audio/active"],refetchInterval:5e3}),{data:b,isLoading:v}=It({queryKey:["/api/admin/audio/recordings"],refetchInterval:3e4}),h=d.useMemo(()=>{const j=new Map;return b==null||b.forEach(H=>j.set(H.userId,H.user)),Array.from(j.values())},[b]),[x,y]=d.useState("date"),[p,_]=d.useState("desc"),S=d.useMemo(()=>{if(!b)return[];let j=a==="all"?[...b]:b.filter(H=>H.userId===a);return j.sort((H,q)=>{let J=0;return x==="name"?J=H.user.username.localeCompare(q.user.username):J=H.recordingDate.localeCompare(q.recordingDate),p==="asc"?J:-J}),j},[b,a,x,p]),E=et({mutationFn:async j=>await(await $e("POST",`/api/admin/audio/stop/${j}`)).json(),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/audio/active"]}),Fe.invalidateQueries({queryKey:["/api/admin/audio/recordings"]}),e({title:"Recording stopped",description:"Audio recording has been stopped successfully"})},onError:j=>{e({title:"Failed to stop recording",description:j.message,variant:"destructive"})}}),P=et({mutationFn:async()=>await(await $e("DELETE","/api/admin/audio/cleanup")).json(),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/audio/recordings"]}),e({title:"Cleanup completed",description:"Old audio files have been removed"})},onError:j=>{e({title:"Cleanup failed",description:j.message,variant:"destructive"})}}),w=et({mutationFn:async j=>await(await $e("DELETE",`/api/admin/audio/${j}`)).json(),onSuccess:()=>{Fe.invalidateQueries({queryKey:["/api/admin/audio/recordings"]}),e({title:"Recording deleted",description:"Audio recording has been removed"})},onError:j=>{e({title:"Delete failed",description:j.message,variant:"destructive"})}});d.useEffect(()=>{let j;try{const q=Je();if(q){const J=new URL(q);j=`${J.protocol==="https:"?"wss:":"ws:"}//${J.host}/ws`}else j=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`}catch{j=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`}const H=new WebSocket(j);return H.onopen=()=>{s(H)},H.onmessage=q=>{try{const J=JSON.parse(q.data);(J.type==="audio_start"||J.type==="audio_stop")&&(Fe.invalidateQueries({queryKey:["/api/admin/audio/active"]}),Fe.invalidateQueries({queryKey:["/api/admin/audio/recordings"]}))}catch{}},H.onclose=()=>s(null),H.onerror=()=>{},()=>{H.close()}},[]),d.useEffect(()=>((async()=>{var q;if(!i||!u.current)return;u.current.pause(),c&&(URL.revokeObjectURL(c),m(null));const j=Je(),H=(q=i.fileUrl)!=null&&q.startsWith("http")?i.fileUrl:`${j||""}${i.fileUrl||""}`;try{const J=await fetch(H,{headers:{"ngrok-skip-browser-warning":"true"}});if(!J.ok)throw new Error(`${J.status}`);const ae=await J.blob(),me=URL.createObjectURL(ae);m(me),u.current.src=me,u.current.currentTime=0}catch{u.current.src=H,u.current.currentTime=0}})(),()=>{c&&(URL.revokeObjectURL(c),m(null))}),[i]);const L=j=>{const H=Math.floor(j/3600),q=Math.floor(j%3600/60);return`${H}h ${q}m`},Z=j=>`${(j/1048576).toFixed(1)} MB`,Y=j=>{if(!j)return"Unknown";const H=new Date(j);return isNaN(H.getTime())?"Unknown":H.toLocaleDateString()},k=()=>b?{totalSize:b.reduce((H,q)=>H+(q.fileSize||0),0),totalFiles:b.length}:{totalSize:0,totalFiles:0},{totalSize:T,totalFiles:O}=k(),B=j=>{confirm("Are you sure you want to stop this recording?")&&E.mutate(j)},U=async j=>{var J;if(!j.fileUrl){e({title:"Download failed",description:"Audio file not available",variant:"destructive"});return}const H=Je(),q=(J=j.fileUrl)!=null&&J.startsWith("http")?j.fileUrl:`${H||""}${j.fileUrl||""}`;try{const ae=await fetch(q,{headers:{"ngrok-skip-browser-warning":"true"}});if(!ae.ok)throw new Error(`${ae.status}`);const me=await ae.blob(),Ve=URL.createObjectURL(me),Ae=document.createElement("a");Ae.href=Ve,Ae.download=j.fileName||"audio-recording.webm",document.body.appendChild(Ae),Ae.click(),document.body.removeChild(Ae),URL.revokeObjectURL(Ve),e({title:"Download started",description:`Downloading ${j.fileName}`})}catch(ae){e({title:"Download failed",description:(ae==null?void 0:ae.message)||"Failed to download",variant:"destructive"})}},z=j=>{if(!j.fileUrl){e({title:"Playback failed",description:"Audio file not available",variant:"destructive"});return}(i==null?void 0:i.id)===j.id?r(null):r(j)},K=j=>{confirm("Are you sure you want to delete this recording? This action cannot be undone.")&&w.mutate(j)},M=()=>{confirm("Are you sure you want to clean up old files? This will permanently delete recordings older than 7 days.")&&P.mutate()};return o.jsxDEV("div",{className:"min-h-screen bg-gray-50",children:[o.jsxDEV("div",{className:"bg-red-50 border-b border-red-200",children:o.jsxDEV("div",{className:"max-w-7xl mx-auto px-6 py-4",children:o.jsxDEV("div",{className:"flex justify-between items-center",children:[o.jsxDEV("div",{className:"flex items-center",children:[o.jsxDEV(nx,{className:"text-red-600 mr-3 h-6 w-6"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:268,columnNumber:15},this),o.jsxDEV("h1",{className:"text-2xl font-bold text-red-900","data-testid":"text-audio-panel-title",children:"Audio Monitoring Panel"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:269,columnNumber:15},this),o.jsxDEV(qt,{className:"ml-4 bg-red-200 text-red-800 hover:bg-red-200",children:[o.jsxDEV(sx,{className:"mr-1 h-3 w-3"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:273,columnNumber:17},this),"RESTRICTED ACCESS"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:272,columnNumber:15},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:267,columnNumber:13},this),o.jsxDEV(At,{href:"/admin",children:o.jsxDEV(te,{variant:"ghost",className:"text-red-600 hover:text-red-800 hover:bg-red-100","data-testid":"button-close-panel",children:[o.jsxDEV(li,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:279,columnNumber:17},this),"Close Panel"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:278,columnNumber:15},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:277,columnNumber:13},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:266,columnNumber:11},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:265,columnNumber:9},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:264,columnNumber:7},this),o.jsxDEV("div",{className:"max-w-7xl mx-auto px-6 py-8 space-y-8",children:[o.jsxDEV(he,{children:[o.jsxDEV(ze,{children:o.jsxDEV(Ue,{className:"flex items-center gap-2",children:[o.jsxDEV("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:291,columnNumber:15},this),"Active Recording Sessions"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:290,columnNumber:13},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:289,columnNumber:11},this),o.jsxDEV(pe,{children:g?o.jsxDEV("div",{className:"flex justify-center py-8",children:o.jsxDEV(je,{className:"h-6 w-6 animate-spin"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:298,columnNumber:17},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:297,columnNumber:15},this):o.jsxDEV("div",{className:"space-y-4",children:[f==null?void 0:f.map(j=>o.jsxDEV("div",{className:"flex items-center justify-between p-4 bg-red-50 rounded-lg border border-red-200","data-testid":`active-recording-${j.id}`,children:[o.jsxDEV("div",{className:"flex items-center",children:[o.jsxDEV("div",{className:"w-3 h-3 bg-red-500 rounded-full animate-pulse mr-3"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:309,columnNumber:23},this),o.jsxDEV("div",{children:[o.jsxDEV("p",{className:"font-medium text-gray-900",children:[j.user.username," (",j.user.employeeId,")"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:311,columnNumber:25},this),o.jsxDEV("p",{className:"text-sm text-gray-600",children:["Recording since ",new Date(j.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),"  Duration: ",j.duration?L(j.duration):"Calculating..."]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:314,columnNumber:25},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:310,columnNumber:23},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:308,columnNumber:21},this),o.jsxDEV(te,{variant:"destructive",onClick:()=>B(j.id),disabled:E.isPending,"data-testid":`button-stop-${j.id}`,children:[E.isPending?o.jsxDEV(je,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:327,columnNumber:25},this):o.jsxDEV(ix,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:329,columnNumber:25},this),"Stop Recording"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:320,columnNumber:21},this)]},j.id,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:303,columnNumber:19},this)),!f||f.length===0?o.jsxDEV("div",{className:"text-center py-8 text-gray-500","data-testid":"text-no-active-recordings",children:"No active recording sessions"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:336,columnNumber:19},this):null]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:301,columnNumber:15},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:295,columnNumber:11},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:288,columnNumber:9},this),o.jsxDEV(he,{children:[o.jsxDEV(ze,{children:o.jsxDEV(Ue,{children:"Recording History"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:347,columnNumber:13},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:346,columnNumber:11},this),o.jsxDEV(pe,{children:v?o.jsxDEV("div",{className:"flex justify-center py-8",children:o.jsxDEV(je,{className:"h-6 w-6 animate-spin"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:352,columnNumber:17},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:351,columnNumber:15},this):o.jsxDEV("div",{className:"overflow-x-auto",children:[h.length>1&&o.jsxDEV("div",{className:"mb-4",children:o.jsxDEV(Fn,{value:a,onValueChange:l,children:[o.jsxDEV(pn,{className:"w-56",children:o.jsxDEV($n,{placeholder:"Filter by employee"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:360,columnNumber:25},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:359,columnNumber:23},this),o.jsxDEV(gn,{children:[o.jsxDEV(ht,{value:"all",children:"All Employees"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:363,columnNumber:25},this),h.map(j=>o.jsxDEV(ht,{value:j.id,children:j.username},j.id,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:365,columnNumber:27},this))]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:362,columnNumber:23},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:358,columnNumber:21},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:357,columnNumber:19},this),o.jsxDEV("div",{className:"mb-4 flex items-center gap-3",children:[o.jsxDEV(Fn,{value:x,onValueChange:j=>y(j),children:[o.jsxDEV(pn,{className:"w-40",children:o.jsxDEV($n,{placeholder:"Sort by"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:376,columnNumber:23},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:375,columnNumber:21},this),o.jsxDEV(gn,{children:[o.jsxDEV(ht,{value:"date",children:"Date"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:379,columnNumber:23},this),o.jsxDEV(ht,{value:"name",children:"Employee"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:380,columnNumber:23},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:378,columnNumber:21},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:374,columnNumber:19},this),o.jsxDEV(te,{variant:"outline",onClick:()=>_(j=>j==="asc"?"desc":"asc"),children:p==="asc"?"Asc":"Desc"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:383,columnNumber:19},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:373,columnNumber:17},this),o.jsxDEV(Is,{children:[o.jsxDEV(Ms,{children:o.jsxDEV(at,{children:[o.jsxDEV(Te,{children:"Employee"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:391,columnNumber:23},this),o.jsxDEV(Te,{children:"Date"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:392,columnNumber:23},this),o.jsxDEV(Te,{children:"Duration"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:393,columnNumber:23},this),o.jsxDEV(Te,{children:"File Size"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:394,columnNumber:23},this),o.jsxDEV(Te,{children:"Actions"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:395,columnNumber:23},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:390,columnNumber:21},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:389,columnNumber:19},this),o.jsxDEV(Ls,{children:[S.map(j=>o.jsxDEV(d.Fragment,{children:o.jsxDEV(at,{"data-testid":`row-recording-${j.id}`,children:[o.jsxDEV(ye,{children:o.jsxDEV("div",{children:[o.jsxDEV("div",{className:"font-medium text-gray-900",children:j.user.username},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:404,columnNumber:31},this),o.jsxDEV("div",{className:"text-xs text-gray-500",children:j.user.employeeId},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:405,columnNumber:31},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:403,columnNumber:29},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:402,columnNumber:27},this),o.jsxDEV(ye,{children:Y(j.recordingDate)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:408,columnNumber:27},this),o.jsxDEV(ye,{children:j.duration?L(j.duration):"-"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:409,columnNumber:27},this),o.jsxDEV(ye,{children:j.fileSize?Z(j.fileSize):"-"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:410,columnNumber:27},this),o.jsxDEV(ye,{children:o.jsxDEV("div",{className:"flex gap-2",children:[o.jsxDEV(te,{size:"sm",variant:"outline",onClick:()=>z(j),"data-testid":`button-play-${j.id}`,children:o.jsxDEV(rx,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:414,columnNumber:33},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:413,columnNumber:31},this),o.jsxDEV(te,{size:"sm",variant:"outline",onClick:()=>U(j),"data-testid":`button-download-${j.id}`,children:o.jsxDEV(ox,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:417,columnNumber:33},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:416,columnNumber:31},this),o.jsxDEV(te,{size:"sm",variant:"destructive",onClick:()=>K(j.id),"data-testid":`button-delete-${j.id}`,children:o.jsxDEV(Dr,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:420,columnNumber:33},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:419,columnNumber:31},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:412,columnNumber:29},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:411,columnNumber:27},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:401,columnNumber:25},this)},j.id,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:400,columnNumber:23},this)),S.length===0?o.jsxDEV(at,{children:o.jsxDEV(ye,{colSpan:5,className:"text-center text-gray-500 py-8",children:"No audio recordings found"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:429,columnNumber:25},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:428,columnNumber:23},this):null]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:398,columnNumber:19},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:388,columnNumber:17},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:355,columnNumber:15},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:349,columnNumber:11},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:345,columnNumber:9},this),o.jsxDEV(he,{"data-testid":"card-storage-management",children:[o.jsxDEV(ze,{children:o.jsxDEV(Ue,{className:"flex items-center gap-2",children:[o.jsxDEV(ax,{className:"h-5 w-5"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:444,columnNumber:15},this),"Storage Management"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:443,columnNumber:13},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:442,columnNumber:11},this),o.jsxDEV(pe,{children:[o.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6",children:[o.jsxDEV("div",{className:"text-center",children:[o.jsxDEV("p",{className:"text-2xl font-bold text-gray-900","data-testid":"text-total-storage",children:Z(T)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:451,columnNumber:17},this),o.jsxDEV("p",{className:"text-sm text-gray-600",children:"Total Storage Used"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:454,columnNumber:17},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:450,columnNumber:15},this),o.jsxDEV("div",{className:"text-center",children:[o.jsxDEV("p",{className:"text-2xl font-bold text-gray-900","data-testid":"text-total-recordings",children:O},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:457,columnNumber:17},this),o.jsxDEV("p",{className:"text-sm text-gray-600",children:"Total Recordings"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:460,columnNumber:17},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:456,columnNumber:15},this),o.jsxDEV("div",{className:"text-center",children:[o.jsxDEV("p",{className:"text-2xl font-bold text-gray-900",children:"15 days"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:463,columnNumber:17},this),o.jsxDEV("p",{className:"text-sm text-gray-600",children:"Auto-Delete After"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:464,columnNumber:17},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:462,columnNumber:15},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:449,columnNumber:13},this),o.jsxDEV("div",{className:"text-center",children:o.jsxDEV(te,{variant:"destructive",onClick:M,disabled:P.isPending,"data-testid":"button-cleanup",children:[P.isPending?o.jsxDEV(je,{className:"mr-2 h-4 w-4 animate-spin"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:470,columnNumber:46},this):o.jsxDEV(Dr,{className:"mr-2 h-4 w-4"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:470,columnNumber:98},this),"Clean Up Old Files"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:469,columnNumber:15},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:468,columnNumber:13},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:448,columnNumber:11},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:441,columnNumber:9},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:287,columnNumber:7},this),i&&o.jsxDEV("div",{className:"max-w-7xl mx-auto px-6 pb-8",children:o.jsxDEV(he,{children:[o.jsxDEV(ze,{children:o.jsxDEV(Ue,{className:"flex items-center justify-between",children:[o.jsxDEV("span",{className:"truncate",children:i.fileName||"Selected Recording"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:484,columnNumber:17},this),o.jsxDEV(te,{variant:"ghost",size:"sm",onClick:()=>r(null),children:o.jsxDEV(li,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:486,columnNumber:19},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:485,columnNumber:17},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:483,columnNumber:15},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:482,columnNumber:13},this),o.jsxDEV(pe,{children:[o.jsxDEV("audio",{ref:u,controls:!0,className:"w-full mb-2"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:491,columnNumber:15},this),i.fileUrl&&o.jsxDEV(X0,{fileUrl:i.fileUrl,audioRef:u,duration:i.duration||void 0,startTime:i.createdAt||void 0},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:493,columnNumber:17},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:490,columnNumber:13},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:481,columnNumber:11},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:480,columnNumber:9},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-audio.tsx",lineNumber:263,columnNumber:5},this)}function J0(){var _;const{user:t}=Vt(),n=new Date().toISOString().slice(0,7),[s,i]=d.useState(n),{data:r,isLoading:a,error:l}=It({queryKey:["/api/admin/work-hours",s],queryFn:async()=>await(await $e("GET",`/api/admin/work-hours?month=${s}`)).json(),enabled:!!s}),[u,c]=d.useState("hours"),[m,f]=d.useState("desc"),g=d.useMemo(()=>{const S=r!=null&&r.employees?[...r.employees]:[];return S.sort((E,P)=>{let w=0;return u==="hours"?w=E.totalHours-P.totalHours:w=E.username.localeCompare(P.username),m==="asc"?w:-w}),S},[r,u,m]),b=d.useMemo(()=>{const S=[],E=new Date,P=3;for(let w=0;w<P;w++){const L=new Date(E.getFullYear(),E.getMonth()-w,1),Z=L.toISOString().slice(0,7),Y=L.toLocaleDateString("en-US",{year:"numeric",month:"long"});S.push({value:Z,label:Y})}return S},[]),v=S=>S?new Date(S).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"-",h=S=>new Date(S).toLocaleDateString("en-US",{weekday:"short",day:"2-digit",month:"short"}),x=S=>{switch(S){case"complete":return o.jsxDEV(qt,{className:"bg-green-100 text-green-800 hover:bg-green-100",children:[o.jsxDEV(gd,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:100,columnNumber:13},this),"Complete"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:99,columnNumber:11},this);case"incomplete":return o.jsxDEV(qt,{className:"bg-yellow-100 text-yellow-800 hover:bg-yellow-100",children:[o.jsxDEV(fd,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:107,columnNumber:13},this),"Incomplete"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:106,columnNumber:11},this);case"absent":return o.jsxDEV(qt,{className:"bg-red-100 text-red-800 hover:bg-red-100",children:[o.jsxDEV(Io,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:114,columnNumber:13},this),"Absent"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:113,columnNumber:11},this);default:return null}},p=(()=>{if(!(r!=null&&r.employees))return{totalEmployees:0,totalHours:0,avgHours:0};const S=r.employees.length,E=r.employees.reduce((w,L)=>w+L.totalHours,0),P=S>0?E/S:0;return{totalEmployees:S,totalHours:E,avgHours:Math.round(P*100)/100}})();return o.jsxDEV("div",{className:"min-h-screen bg-gray-50",children:[o.jsxDEV("div",{className:"bg-white shadow-sm border-b",children:o.jsxDEV("div",{className:"max-w-7xl mx-auto px-6 py-4",children:o.jsxDEV("div",{className:"flex justify-between items-center",children:[o.jsxDEV("div",{className:"flex items-center",children:[o.jsxDEV(At,{href:"/admin",children:o.jsxDEV(te,{variant:"ghost",size:"sm",className:"mr-4",children:o.jsxDEV(Ti,{className:"h-4 w-4"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:144,columnNumber:19},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:143,columnNumber:17},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:142,columnNumber:15},this),o.jsxDEV("div",{children:[o.jsxDEV("h1",{className:"text-2xl font-bold text-gray-900",children:"Monthly Work Hours Report"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:148,columnNumber:17},this),o.jsxDEV("p",{className:"text-sm text-gray-500 mt-1",children:"Comprehensive monthly attendance and work hours tracking"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:151,columnNumber:17},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:147,columnNumber:15},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:141,columnNumber:13},this),o.jsxDEV("div",{className:"flex items-center space-x-4",children:[o.jsxDEV("div",{className:"flex items-center space-x-2",children:[o.jsxDEV(lx,{className:"h-4 w-4 text-gray-500"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:160,columnNumber:17},this),o.jsxDEV(Fn,{value:s,onValueChange:i,children:[o.jsxDEV(pn,{className:"w-48",children:o.jsxDEV($n,{placeholder:"Select month"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:163,columnNumber:21},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:162,columnNumber:19},this),o.jsxDEV(gn,{children:b.map(S=>o.jsxDEV(ht,{value:S.value,children:S.label},S.value,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:167,columnNumber:23},this))},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:165,columnNumber:19},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:161,columnNumber:17},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:159,columnNumber:15},this),o.jsxDEV("div",{className:"flex items-center space-x-2",children:[o.jsxDEV("span",{className:"text-sm text-gray-600",children:"Sort:"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:175,columnNumber:17},this),o.jsxDEV(Fn,{value:u,onValueChange:S=>c(S),children:[o.jsxDEV(pn,{className:"w-32",children:o.jsxDEV($n,{placeholder:"Sort By"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:178,columnNumber:21},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:177,columnNumber:19},this),o.jsxDEV(gn,{children:[o.jsxDEV(ht,{value:"hours",children:"Total Hours"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:181,columnNumber:21},this),o.jsxDEV(ht,{value:"name",children:"Name"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:182,columnNumber:21},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:180,columnNumber:19},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:176,columnNumber:17},this),o.jsxDEV(Fn,{value:m,onValueChange:S=>f(S),children:[o.jsxDEV(pn,{className:"w-28",children:o.jsxDEV($n,{placeholder:"Order"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:187,columnNumber:21},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:186,columnNumber:19},this),o.jsxDEV(gn,{children:[o.jsxDEV(ht,{value:"desc",children:"High  Low"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:190,columnNumber:21},this),o.jsxDEV(ht,{value:"asc",children:"Low  High"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:191,columnNumber:21},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:189,columnNumber:19},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:185,columnNumber:17},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:174,columnNumber:15},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:158,columnNumber:13},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:140,columnNumber:11},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:139,columnNumber:9},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:138,columnNumber:7},this),o.jsxDEV("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[o.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[o.jsxDEV(he,{children:o.jsxDEV(pe,{className:"p-6",children:o.jsxDEV("div",{className:"flex items-center",children:[o.jsxDEV(_r,{className:"text-blue-500 text-2xl mr-4"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:206,columnNumber:17},this),o.jsxDEV("div",{children:[o.jsxDEV("p",{className:"text-sm text-gray-600",children:"Total Employees"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:208,columnNumber:19},this),o.jsxDEV("p",{className:"text-2xl font-bold text-gray-900",children:p.totalEmployees},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:209,columnNumber:19},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:207,columnNumber:17},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:205,columnNumber:15},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:204,columnNumber:13},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:203,columnNumber:11},this),o.jsxDEV(he,{children:o.jsxDEV(pe,{className:"p-6",children:o.jsxDEV("div",{className:"flex items-center",children:[o.jsxDEV(fs,{className:"text-green-500 text-2xl mr-4"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:220,columnNumber:17},this),o.jsxDEV("div",{children:[o.jsxDEV("p",{className:"text-sm text-gray-600",children:"Total Hours"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:222,columnNumber:19},this),o.jsxDEV("p",{className:"text-2xl font-bold text-gray-900",children:[p.totalHours.toFixed(1),"h"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:223,columnNumber:19},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:221,columnNumber:17},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:219,columnNumber:15},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:218,columnNumber:13},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:217,columnNumber:11},this),o.jsxDEV(he,{children:o.jsxDEV(pe,{className:"p-6",children:o.jsxDEV("div",{className:"flex items-center",children:[o.jsxDEV(Ao,{className:"text-purple-500 text-2xl mr-4"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:234,columnNumber:17},this),o.jsxDEV("div",{children:[o.jsxDEV("p",{className:"text-sm text-gray-600",children:"Average Hours"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:236,columnNumber:19},this),o.jsxDEV("p",{className:"text-2xl font-bold text-gray-900",children:[p.avgHours,"h"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:237,columnNumber:19},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:235,columnNumber:17},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:233,columnNumber:15},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:232,columnNumber:13},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:231,columnNumber:11},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:202,columnNumber:9},this),a&&o.jsxDEV(he,{children:o.jsxDEV(pe,{className:"p-8",children:o.jsxDEV("div",{className:"flex justify-center items-center",children:[o.jsxDEV(je,{className:"h-6 w-6 animate-spin mr-2"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:251,columnNumber:17},this),o.jsxDEV("span",{children:"Loading work hours data..."},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:252,columnNumber:17},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:250,columnNumber:15},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:249,columnNumber:13},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:248,columnNumber:11},this),l&&o.jsxDEV(he,{children:o.jsxDEV(pe,{className:"p-8",children:o.jsxDEV("div",{className:"text-center text-red-600",children:[o.jsxDEV(Io,{className:"h-12 w-12 mx-auto mb-4"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:263,columnNumber:17},this),o.jsxDEV("h3",{className:"text-lg font-semibold mb-2",children:"Failed to load data"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:264,columnNumber:17},this),o.jsxDEV("p",{className:"text-sm",children:l instanceof Error?l.message:"An error occurred while fetching work hours data"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:265,columnNumber:17},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:262,columnNumber:15},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:261,columnNumber:13},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:260,columnNumber:11},this),(r==null?void 0:r.employees)&&r.employees.length>0&&o.jsxDEV("div",{className:"space-y-8",children:g.map(S=>o.jsxDEV(he,{className:"overflow-hidden",children:[o.jsxDEV(ze,{className:"bg-gray-50 border-b",children:o.jsxDEV("div",{className:"flex justify-between items-start",children:[o.jsxDEV("div",{children:[o.jsxDEV(Ue,{className:"text-lg font-semibold text-gray-900",children:S.username},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:281,columnNumber:23},this),o.jsxDEV("div",{className:"flex items-center space-x-4 mt-1 text-sm text-gray-600",children:[o.jsxDEV("span",{children:["ID: ",S.employeeId]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:285,columnNumber:25},this),o.jsxDEV("span",{children:""},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:286,columnNumber:25},this),o.jsxDEV("span",{children:["Department: ",S.department]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:287,columnNumber:25},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:284,columnNumber:23},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:280,columnNumber:21},this),o.jsxDEV("div",{className:"text-right",children:[o.jsxDEV("div",{className:"text-2xl font-bold text-blue-600",children:[S.totalHours.toFixed(1),"h"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:291,columnNumber:23},this),o.jsxDEV("div",{className:"text-sm text-gray-500",children:[S.totalDays," working days"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:294,columnNumber:23},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:290,columnNumber:21},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:279,columnNumber:19},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:278,columnNumber:17},this),o.jsxDEV(pe,{className:"p-0",children:[o.jsxDEV("div",{className:"overflow-x-auto",children:o.jsxDEV(Is,{children:[o.jsxDEV(Ms,{children:o.jsxDEV(at,{className:"bg-gray-50",children:[o.jsxDEV(Te,{className:"font-semibold",children:"Date"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:306,columnNumber:27},this),o.jsxDEV(Te,{className:"font-semibold",children:"Check-in"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:307,columnNumber:27},this),o.jsxDEV(Te,{className:"font-semibold",children:"Check-out"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:308,columnNumber:27},this),o.jsxDEV(Te,{className:"font-semibold",children:"Hours"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:309,columnNumber:27},this),o.jsxDEV(Te,{className:"font-semibold",children:"Status"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:310,columnNumber:27},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:305,columnNumber:25},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:304,columnNumber:23},this),o.jsxDEV(Ls,{children:S.dailyHours.map(E=>o.jsxDEV(at,{className:`
                              ${E.status==="absent"?"bg-red-50":""}
                              ${E.status==="incomplete"?"bg-yellow-50":""}
                              ${E.status==="complete"?"bg-green-50":""}
                            `,children:[o.jsxDEV(ye,{className:"font-medium",children:h(E.date)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:323,columnNumber:29},this),o.jsxDEV(ye,{children:v(E.checkInTime)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:326,columnNumber:29},this),o.jsxDEV(ye,{children:v(E.checkOutTime)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:329,columnNumber:29},this),o.jsxDEV(ye,{children:o.jsxDEV("span",{className:`font-medium ${E.hoursWorked>0?"text-gray-900":"text-gray-400"}`,children:E.hoursWorked>0?`${E.hoursWorked.toFixed(1)}h`:"-"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:333,columnNumber:31},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:332,columnNumber:29},this),o.jsxDEV(ye,{children:x(E.status)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:339,columnNumber:29},this)]},E.date,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:315,columnNumber:27},this))},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:313,columnNumber:23},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:303,columnNumber:21},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:302,columnNumber:19},this),o.jsxDEV("div",{className:"bg-gray-50 border-t px-6 py-4",children:o.jsxDEV("div",{className:"flex justify-between items-center text-sm",children:[o.jsxDEV("div",{className:"flex space-x-6",children:[o.jsxDEV("span",{className:"text-gray-600",children:[o.jsxDEV("span",{className:"font-medium text-green-600",children:S.dailyHours.filter(E=>E.status==="complete").length},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:353,columnNumber:27},this)," complete days"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:352,columnNumber:25},this),o.jsxDEV("span",{className:"text-gray-600",children:[o.jsxDEV("span",{className:"font-medium text-yellow-600",children:S.dailyHours.filter(E=>E.status==="incomplete").length},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:358,columnNumber:27},this)," incomplete days"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:357,columnNumber:25},this),o.jsxDEV("span",{className:"text-gray-600",children:[o.jsxDEV("span",{className:"font-medium text-red-600",children:S.dailyHours.filter(E=>E.status==="absent").length},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:363,columnNumber:27},this)," absent days"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:362,columnNumber:25},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:351,columnNumber:23},this),o.jsxDEV("div",{className:"font-semibold text-gray-900",children:["Monthly Total: ",S.totalHours.toFixed(1)," hours"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:368,columnNumber:23},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:350,columnNumber:21},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:349,columnNumber:19},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:301,columnNumber:17},this)]},S.userId,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:277,columnNumber:15},this))},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:275,columnNumber:11},this),(r==null?void 0:r.employees)&&r.employees.length===0&&o.jsxDEV(he,{children:o.jsxDEV(pe,{className:"p-8",children:o.jsxDEV("div",{className:"text-center text-gray-500",children:[o.jsxDEV(Ao,{className:"h-12 w-12 mx-auto mb-4"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:384,columnNumber:17},this),o.jsxDEV("h3",{className:"text-lg font-semibold mb-2",children:"No data available"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:385,columnNumber:17},this),o.jsxDEV("p",{className:"text-sm",children:["No work hours data found for ",(_=b.find(S=>S.value===s))==null?void 0:_.label]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:386,columnNumber:17},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:383,columnNumber:15},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:382,columnNumber:13},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:381,columnNumber:11},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:200,columnNumber:7},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/admin-work-hours.tsx",lineNumber:136,columnNumber:5},this)}const Nr={BASE_URL:"/",DEV:!0,MODE:"production",PROD:!1,SSR:!1,VITE_API_BASE:"",VITE_FORCE_WEB_RECORDER:"false",VITE_UPLOAD_BASE:""};function eS(){const[t,e]=d.useState("not-run"),[n,s]=d.useState("not-run"),[i,r]=d.useState("idle"),[a,l]=d.useState("idle"),[u,c]=d.useState(null),m=d.useRef(null),f="web",[g,b]=d.useState(()=>{try{return localStorage.getItem("apiBase")||Je()}catch{return Je()}}),[v,h]=d.useState(()=>{try{return localStorage.getItem("uploadBase")||ei()}catch{return ei()}}),x=d.useMemo(()=>{try{return localStorage.getItem("deviceId")||null}catch{return null}},[]);d.useEffect(()=>{try{c(localStorage.getItem("uploadToken"))}catch{}},[]);const y=d.useMemo(()=>{try{const k=Je();if(k){const O=new URL(k);return`${O.protocol==="https:"?"wss:":"ws:"}//${O.host}/ws`}return`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`}catch{return`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`}},[]);async function p(){try{const k=await fetch(`${Je()||""}/api/health`,{credentials:"include",headers:{"ngrok-skip-browser-warning":"true"}}),T=await k.json().catch(()=>({}));e(`${k.status} ${k.ok?"OK":"ERR"} :: ${JSON.stringify(T)}`)}catch(k){e(`ERR ${(k==null?void 0:k.message)||k}`)}}async function _(){try{const k=await fetch(`${Je()||""}/api/user`,{credentials:"include",headers:{"ngrok-skip-browser-warning":"true"}}),T=await k.text();s(`${k.status} ${k.ok?"OK":"ERR"} :: ${T}`)}catch(k){s(`ERR ${(k==null?void 0:k.message)||k}`)}}function S(){try{r("connecting");const k=new WebSocket(y);m.current=k,k.onopen=()=>r("open"),k.onclose=()=>r("closed"),k.onerror=()=>r("error"),k.onmessage=()=>{}}catch(k){r(`ERR ${(k==null?void 0:k.message)||k}`)}}function E(){var k;(k=m.current)==null||k.close(),r("closed")}async function P(){var k;l("testing");try{if(!((k=navigator.mediaDevices)!=null&&k.getUserMedia))throw new Error("mediaDevices/getUserMedia not supported");const T=await navigator.mediaDevices.getUserMedia({audio:!0});if(window.MediaRecorder){const O=new MediaRecorder(T);O.start(),await new Promise(B=>setTimeout(B,1e3)),O.stop()}T.getTracks().forEach(O=>O.stop()),l("ok")}catch(T){l(`ERR ${(T==null?void 0:T.name)||""} ${(T==null?void 0:T.message)||T}`)}}async function w(){try{const k=await fetch(`${Je()||""}/api/auth/upload-token`,{method:"POST",credentials:"include",headers:{"ngrok-skip-browser-warning":"true"}});if(!k.ok)throw new Error(`${k.status}`);const{token:T}=await k.json();try{localStorage.setItem("uploadToken",T)}catch{}c(T)}catch(k){c(`ERR ${(k==null?void 0:k.message)||k}`)}}function L(){try{g?localStorage.setItem("apiBase",g):localStorage.removeItem("apiBase"),v?localStorage.setItem("uploadBase",v):localStorage.removeItem("uploadBase"),alert("Saved API/Upload base overrides in this browser.")}catch{}}function Z(){try{localStorage.removeItem("apiBase"),localStorage.removeItem("uploadBase"),b(""),h("")}catch{}}function Y(){try{const k=(Nr==null?void 0:Nr.PUBLIC_URL)||"",T=typeof window<"u"?window.location.origin:"",O=k&&String(k)||T;O?(localStorage.setItem("apiBase",O),localStorage.setItem("uploadBase",O),b(O),h(O),alert("Reset API/Upload base to "+O)):Z()}catch{Z()}}return o.jsxDEV("div",{className:"min-h-screen bg-gray-50",children:[o.jsxDEV("div",{className:"bg-white shadow-sm border-b",children:o.jsxDEV("div",{className:"max-w-2xl mx-auto px-4 py-4",children:o.jsxDEV("h1",{className:"text-lg font-semibold text-gray-900",children:"Diagnostics"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:158,columnNumber:11},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:157,columnNumber:9},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:156,columnNumber:7},this),o.jsxDEV("div",{className:"max-w-2xl mx-auto px-4 py-6 space-y-4",children:[o.jsxDEV(he,{children:[o.jsxDEV(ze,{children:o.jsxDEV(Ue,{children:"Environment"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:164,columnNumber:23},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:164,columnNumber:11},this),o.jsxDEV(pe,{className:"space-y-1 text-sm",children:[o.jsxDEV("div",{children:["Platform: ",f]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:166,columnNumber:13},this),o.jsxDEV("div",{className:"flex flex-col gap-2",children:[o.jsxDEV("div",{children:["Detected API_BASE: ",Je()||"(empty)"," "]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:168,columnNumber:15},this),o.jsxDEV("div",{children:["Detected UPLOAD_BASE: ",ei()||"(empty)"," "]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:169,columnNumber:15},this),o.jsxDEV("div",{className:"flex items-center gap-2",children:[o.jsxDEV("span",{className:"w-28",children:"API override"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:171,columnNumber:17},this),o.jsxDEV("input",{className:"border rounded px-2 py-1 w-full",placeholder:"https://your-ngrok-url",value:g,onChange:k=>b(k.target.value)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:172,columnNumber:17},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:170,columnNumber:15},this),o.jsxDEV("div",{className:"flex items-center gap-2",children:[o.jsxDEV("span",{className:"w-28",children:"Upload override"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:176,columnNumber:17},this),o.jsxDEV("input",{className:"border rounded px-2 py-1 w-full",placeholder:"defaults to API",value:v,onChange:k=>h(k.target.value)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:177,columnNumber:17},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:175,columnNumber:15},this),o.jsxDEV("div",{className:"mt-2 flex gap-2",children:[o.jsxDEV(te,{size:"sm",onClick:L,children:"Save Overrides"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:181,columnNumber:17},this),o.jsxDEV(te,{size:"sm",variant:"secondary",onClick:Z,children:"Clear Overrides"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:182,columnNumber:17},this),o.jsxDEV(te,{size:"sm",variant:"outline",onClick:Y,children:"Reset to Default"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:183,columnNumber:17},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:180,columnNumber:15},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:167,columnNumber:13},this),o.jsxDEV("div",{children:["Location Origin: ",typeof window<"u"?window.location.origin:""]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:186,columnNumber:13},this),o.jsxDEV("div",{children:["Device ID: ",x||"(none)"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:187,columnNumber:13},this),o.jsxDEV("div",{children:["Upload Token: ",u?u.length>12?u.slice(0,12)+"":u:"(none)"," "]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:188,columnNumber:13},this),o.jsxDEV("div",{className:"mt-2 flex gap-2",children:o.jsxDEV(te,{size:"sm",onClick:w,children:"Refresh Upload Token"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:190,columnNumber:15},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:189,columnNumber:13},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:165,columnNumber:11},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:163,columnNumber:9},this),o.jsxDEV(he,{children:[o.jsxDEV(ze,{children:o.jsxDEV(Ue,{children:"Connectivity"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:196,columnNumber:23},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:196,columnNumber:11},this),o.jsxDEV(pe,{className:"space-y-2 text-sm",children:[o.jsxDEV("div",{className:"flex gap-2 flex-wrap",children:[o.jsxDEV(te,{size:"sm",onClick:p,children:"GET /api/health"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:199,columnNumber:15},this),o.jsxDEV(te,{size:"sm",onClick:_,children:"GET /api/user"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:200,columnNumber:15},this),o.jsxDEV(te,{size:"sm",onClick:S,children:"WS connect"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:201,columnNumber:15},this),o.jsxDEV(te,{size:"sm",variant:"secondary",onClick:E,children:"WS close"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:202,columnNumber:15},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:198,columnNumber:13},this),o.jsxDEV("div",{children:["Health: ",t]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:204,columnNumber:13},this),o.jsxDEV("div",{children:["User: ",n]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:205,columnNumber:13},this),o.jsxDEV("div",{children:["WS: ",i," (",y,")"]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:206,columnNumber:13},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:197,columnNumber:11},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:195,columnNumber:9},this),o.jsxDEV(he,{children:[o.jsxDEV(ze,{children:o.jsxDEV(Ue,{children:"Microphone"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:211,columnNumber:23},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:211,columnNumber:11},this),o.jsxDEV(pe,{className:"space-y-2 text-sm",children:[o.jsxDEV("div",{className:"flex gap-2 flex-wrap",children:o.jsxDEV(te,{size:"sm",onClick:P,children:"Web mic test (2s)"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:214,columnNumber:15},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:213,columnNumber:13},this),o.jsxDEV("div",{children:["Web mic: ",a]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:216,columnNumber:13},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:212,columnNumber:11},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:210,columnNumber:9},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:162,columnNumber:7},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/pages/diagnostics.tsx",lineNumber:155,columnNumber:5},this)}function tS(){return o.jsxDEV(Lg,{children:[o.jsxDEV(an,{path:"/",component:I_,requireRole:"employee"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/App.tsx",lineNumber:25,columnNumber:7},this),o.jsxDEV(an,{path:"/history",component:M_,requireRole:"employee"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/App.tsx",lineNumber:26,columnNumber:7},this),o.jsxDEV(an,{path:"/profile",component:L_,requireRole:"employee"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/App.tsx",lineNumber:27,columnNumber:7},this),o.jsxDEV(cn,{path:"/admin-login",component:$_},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/App.tsx",lineNumber:30,columnNumber:7},this),o.jsxDEV(an,{path:"/admin",component:T0,requireRole:"admin"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/App.tsx",lineNumber:31,columnNumber:7},this),o.jsxDEV(an,{path:"/admin/employees",component:Q0,requireRole:"admin"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/App.tsx",lineNumber:32,columnNumber:7},this),o.jsxDEV(an,{path:"/admin/work-hours",component:J0,requireRole:"admin"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/App.tsx",lineNumber:33,columnNumber:7},this),o.jsxDEV(an,{path:"/admin/audio",component:Y0,requireRole:"admin"},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/App.tsx",lineNumber:34,columnNumber:7},this),o.jsxDEV(cn,{path:"/diagnostics",component:eS},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/App.tsx",lineNumber:37,columnNumber:7},this),o.jsxDEV(cn,{path:"/auth",component:B_},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/App.tsx",lineNumber:40,columnNumber:7},this),o.jsxDEV(cn,{component:vv},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/App.tsx",lineNumber:43,columnNumber:7},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/App.tsx",lineNumber:23,columnNumber:5},this)}function nS(){return o.jsxDEV(cx,{client:Fe,children:o.jsxDEV(xv,{children:o.jsxDEV(pv,{children:[o.jsxDEV(Ub,{},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/App.tsx",lineNumber:55,columnNumber:11},this),o.jsxDEV(tS,{},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/App.tsx",lineNumber:56,columnNumber:11},this)]},void 0,!0,{fileName:"/home/dux/Documents/C_Building_OS/client/src/App.tsx",lineNumber:54,columnNumber:9},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/App.tsx",lineNumber:53,columnNumber:7},this)},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/App.tsx",lineNumber:52,columnNumber:5},this)}const vr={BASE_URL:"/",DEV:!0,MODE:"production",PROD:!1,SSR:!1,VITE_API_BASE:"",VITE_FORCE_WEB_RECORDER:"false",VITE_UPLOAD_BASE:""};async function sS(){try{const t=vr==null?void 0:vr.VITE_CONFIG_URL;if(t){const e=await fetch(t,{cache:"no-store"}).catch(()=>null);if(e&&e.ok){const n=await e.json().catch(()=>null);if(n&&typeof n=="object"){const s=n.apiBase,i=n.uploadBase;try{s&&localStorage.setItem("apiBase",s),i&&localStorage.setItem("uploadBase",i)}catch{}}}}}catch{}fx.createRoot(document.getElementById("root")).render(o.jsxDEV(nS,{},void 0,!1,{fileName:"/home/dux/Documents/C_Building_OS/client/src/main.tsx",lineNumber:25,columnNumber:55},this))}sS();
